!function(e,n,t){function o(e,n){return typeof e===n}function r(){var e,n,t,r,s,i,a;for(var f in C)if(C.hasOwnProperty(f)){if(e=[],n=C[f],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(r=o(n.fn,"function")?n.fn():n.fn,s=0;s<e.length;s++)i=e[s],a=i.split("."),1===a.length?x[a[0]]=r:(!x[a[0]]||x[a[0]]instanceof Boolean||(x[a[0]]=new Boolean(x[a[0]])),x[a[0]][a[1]]=r),g.push((r?"":"no-")+a.join("-"))}}function s(e){var n=_.className,t=x._config.classPrefix||"";if(b&&(n=n.baseVal),x._config.enableJSClass){var o=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(o,"$1"+t+"js$2")}x._config.enableClasses&&(n+=" "+t+e.join(" "+t),b?_.className.baseVal=n:_.className=n)}function i(e,n){return!!~(""+e).indexOf(n)}function a(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):b?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function f(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,"")}function l(){var e=n.body;return e||(e=a(b?"svg":"body"),e.fake=!0),e}function u(e,t,o,r){var s,i,f,u,c="modernizr",p=a("div"),d=l();if(parseInt(o,10))for(;o--;)f=a("div"),f.id=r?r[o]:c+(o+1),p.appendChild(f);return s=a("style"),s.type="text/css",s.id="s"+c,(d.fake?d:p).appendChild(s),d.appendChild(p),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(n.createTextNode(e)),p.id=c,d.fake&&(d.style.background="",d.style.overflow="hidden",u=_.style.overflow,_.style.overflow="hidden",_.appendChild(d)),i=t(p,e),d.fake?(d.parentNode.removeChild(d),_.style.overflow=u,_.offsetHeight):p.parentNode.removeChild(p),!!i}function c(e,n){return function(){return e.apply(n,arguments)}}function p(e,n,t){var r;for(var s in e)if(e[s]in n)return t===!1?e[s]:(r=n[e[s]],o(r,"function")?c(r,t||n):r);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,n){return"-"+n.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(n,o){var r=n.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(d(n[r]),o))return!0;return!1}if("CSSSupportsRule"in e){for(var s=[];r--;)s.push("("+d(n[r])+":"+o+")");return s=s.join(" or "),u("@supports ("+s+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return t}function v(e,n,r,s){function l(){c&&(delete A.style,delete A.modElem)}if(s=o(s,"undefined")?!1:s,!o(r,"undefined")){var u=m(e,r);if(!o(u,"undefined"))return u}for(var c,p,d,v,h,y=["modernizr","tspan","samp"];!A.style&&y.length;)c=!0,A.modElem=a(y.shift()),A.style=A.modElem.style;for(d=e.length,p=0;d>p;p++)if(v=e[p],h=A.style[v],i(v,"-")&&(v=f(v)),A.style[v]!==t){if(s||o(r,"undefined"))return l(),"pfx"==n?v:!0;try{A.style[v]=r}catch(e){}if(A.style[v]!=h)return l(),"pfx"==n?v:!0}return l(),!1}function h(e,n,t,r,s){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+z.join(i+" ")+i).split(" ");return o(n,"string")||o(n,"undefined")?v(a,n,r,s):(a=(e+" "+P.join(i+" ")+i).split(" "),p(a,n,t))}function y(e,n,o){return h(e,t,t,n,o)}var g=[],C=[],w={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){C.push({name:e,fn:n,options:t})},addAsyncTest:function(e){C.push({name:null,fn:e})}},x=function(){};x.prototype=w,x=new x;var S=w._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];w._prefixes=S;var _=n.documentElement,b="svg"===_.nodeName.toLowerCase(),T="Moz O ms Webkit",P=w._config.usePrefixes?T.toLowerCase().split(" "):[];w._domPrefixes=P;var z=w._config.usePrefixes?T.split(" "):[];w._cssomPrefixes=z;var E=w.testStyles=u;x.addTest("touchevents",function(){var t;if("ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var o=["@media (",S.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");E(o,function(e){t=9===e.offsetTop})}return t});var j={elem:a("modernizr")};x._q.push(function(){delete j.elem});var A={style:j.elem.style};x._q.unshift(function(){delete A.style}),x.addTest("csspointerevents",function(){var e=a("a").style;return e.cssText="pointer-events:auto","auto"===e.pointerEvents});w.testProp=function(e,n,o){return v([e],t,n,o)};w.testAllProps=h,w.testAllProps=y,x.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&y("transform","scale(1)",!0)}),r(),s(g),delete w.addTest,delete w.addAsyncTest;for(var N=0;N<x._q.length;N++)x._q[N]();e.Modernizr=x}(window,document);

!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function e(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in v)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b="3.3.1",w=function(e,t){return new w.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(C(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function C(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,v,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,A=[],j=A.pop,q=A.push,L=A.push,H=A.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),F=new RegExp("^"+M+"*,"+M+"*"),_=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp(W),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(A=H.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,v,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!y||!y.test(e))){if(1!==T)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),s=(h=a(e)).length;while(s--)h[s]="#"+c+" "+ve(h[s]);v=h.join(","),m=K.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,h=d.documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(n.matchesSelector=Q.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",W)}),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!S[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){x=(d=(l=(c=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&y.childNodes[d];while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++x&&(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p===t))break;return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=O(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[b]?se(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,r,i,o){return r&&!r[b]&&(r=Te(r)),i&&!i[b]&&(i=Te(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||be(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,p,e,s,u),v=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r){l=we(v,d),r(l,[],s,u),c=l.length;while(c--)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}c=v.length;while(c--)(f=v[c])&&(l=i?O(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Te(u>1&&xe(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ce(e.slice(u,i)),i<o&&Ce(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return xe(p)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,y,v=0,m="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){h=0,a||f.ownerDocument===d||(p(f),s=!g);while(y=e[h++])if(y(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!y&&f)&&v--,o&&x.push(f))}if(v+=m,n&&m!==v){h=0;while(y=t[h++])y(x,b,a,s);if(o){if(v>0)while(m--)x[m]||b[m]||(b[m]=j.call(u));b=we(b)}L.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}return s=oe.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Ce(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Ee(i,r))).selector=e}return o},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V.needsContext.test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(n,i),n;break}}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(D).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=w.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&D.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function I(e){return e}function W(e){throw e}function $(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,I,i),a(o,n,W,i)):(o++,l.call(e,a(o,n,I,i),a(o,n,W,i),a(o,n,I,n.notifyWith))):(r!==I&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==W&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:I,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:I)),n[2][3].add(a(0,e,g(r)?r:W))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)$(i[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function _(){r.removeEventListener("DOMContentLoaded",_),e.removeEventListener("load",_),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",_),e.addEventListener("load",_));var z=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n)){i=!0;for(s in n)z(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(X,"ms-").replace(U,V);
}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(M)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Q,K=new Q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=K.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+u)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))w.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var be=r.documentElement,we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Se(){try{return r.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.get(e);if(y){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(be,i),n.guid||(n.guid=w.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(M)||[""]).length;while(l--)d=g=(s=Ce.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(M)||[""]).length;while(l--)if(s=Ce.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||w.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,s,u=new Array(arguments.length),l=(J.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(u[0]=t,n=1;n<arguments.length;n++)u[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){s=w.event.handlers.call(this,t,l),n=0;while((o=s[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ae=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}K.hasData(e)&&(s=K.access(e),u=w.extend({},s),K.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,y=t[0],v=g(y);if(v||p>1&&"string"==typeof y&&!h.checkClone&&je.test(y))return e.each(function(i){var o=e.eq(i);v&&(t[0]=y.call(this,i,o.html())),Re(o,t,n,r)});if(p&&(i=xe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ye(i,"script"),He)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Oe),f=0;f<u;f++)l=s[f],he.test(l.type||"")&&!J.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(qe,""),c,l))}return e}function Ie(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ye(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ne,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=ye(s,"script")).length>0&&ve(a,!u&&ye(e,"script")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",be.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Qe(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;while(n--)if((e=Ge[n]+t)in Ye)return e}function Je(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Qe(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=w.css(e,"border"+oe[a]+"Width",!0,i))):(u+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=w.css(e,"border"+oe[a]+"Width",!0,i):s+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=$e(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(We.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=Xe.test(t),l=e.style;if(u||(t=Je(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Xe.test(t)||(t=Je(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Ve&&(i=Ve[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,Ue,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a="border-box"===w.css(e,"boxSizing",!1,o),s=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(e,n,s)}}}),w.cssHooks.marginLeft=_e(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}});function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=J.get(e,"fxshow");n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],it.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=J.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),p.done(function(){g||fe([e]),J.remove(e,"fxshow");for(r in d)w.style(e,r,d[r])})),u=lt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function ft(e,t){var n,r,i,o,a;for(n in e)if(r=G(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,lt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[ct],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=pt(this,w.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,at())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var dt,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),
    t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function vt(e){return(e.match(M)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e?e.match(M)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=xt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+vt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:vt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,v=[i||r],m=f.call(t,"type")?t.type:t,x=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(x=m.split(".")).shift(),x.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,wt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||r)&&v.push(u.defaultView||u.parentWindow||e)}a=0;while((s=v[a++])&&!t.isPropagationStopped())h=s,t.type=a>1?l:d.bindType||m,(p=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&Y(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!Y(i)||c&&g(i[m])&&!y(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Tt),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Tt),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var Ct=e.location,Et=Date.now(),kt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var St=/\[\]$/,Dt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||St.test(e)?r(e,i):jt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)jt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var qt=/%20/g,Lt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Bt=r.createElement("a");Bt.href=Ct.href;function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(M)||[];if(g(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function Xt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ut(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:Pt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),x=h.statusCode||{},b={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Ot.exec(a))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+"").replace(Rt,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(M)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;(f=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),o=h.url.replace(Lt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(qt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ht,"$1"),d=(kt.test(o)?"&":"?")+"_="+Et++ +d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&E.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&y.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(b,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Xt(h,E,r)),b=Ut(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(w.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(y.trigger("ajaxComplete",[E,h]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&"withCredentials"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport(function(t){var n,r;if(h.cors||Gt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Qt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||w.expando+"_"+Et++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=A.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,"position"),f=w(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=w.css(e,"top"),u=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||be})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return z(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=_e(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),We.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return z(this,function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=N,w.isFunction=g,w.isWindow=y,w.camelCase=G,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Jt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Jt),w},t||(e.jQuery=e.$=w),w});

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(e,s){var n,a,o,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,a=n.name,e.href&&a&&"map"===n.nodeName.toLowerCase()?(o=t("img[usemap=#"+a+"]")[0],!!o&&i(o)):!1):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function s(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=a(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(g.inline?e.parent()[0]:g.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function o(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(){var e=this.css("position"),i="absolute"===e,s=this.parents().filter(function(){var e=t(this);return i&&"static"===e.css("position")?!1:/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==e&&s.length?s:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var s=t.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&e(i,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,a){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),a&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?o["inner"+i].call(this):this.each(function(){t(this).css(a,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(a,s(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,n=t(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var n,a=t.ui[e].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,a=t.plugins[e];if(a&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)t.options[a[n][0]]&&a[n][1].apply(t.element,i)}};var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){for(var s,n=0;null!=(s=i[n]);n++)try{t(s).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,a,o,r,h={},l=e.split(".")[0];return e=e.split(".")[1],n=l+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[l]=t[l]||{},a=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,a,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){return t.isFunction(s)?(h[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=a,e}}(),void 0):(h[e]=s,void 0)}),o.prototype=t.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||e:e},h,{constructor:o,namespace:l,widgetName:e,widgetFullName:n}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var a="string"==typeof n,o=l.call(arguments,1),r=this;return n=!a&&o.length?t.widget.extend.apply(null,[n].concat(o)):n,a?this.each(function(){var i,a=t.data(this,s);return"instance"===n?(r=a,!1):a?t.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))}),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,a,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},s=e.split("."),e=s.shift(),s.length){for(n=o[e]=t.widget.extend({},this.options[e]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var n,a=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,o){function r(){return e||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,a,o=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),o=!t.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){t(this)[e](),a&&a.call(s[0]),i()})}}),t.widget;var u=!1;t(document).mouseup(function(){u=!1}),t.widget("ui.mouse",{version:"1.11.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!u){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),u=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):e.which?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),u=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return t("body").append(s),e=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=t.extend({},n);var p,m,g,v,_,b,y=t(n.of),w=t.position.getWithinInfo(n.within),k=t.position.getScrollInfo(w),x=(n.collision||"flip").split(" "),C={};return b=s(y),y[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,_=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",t=c.exec(i[0]),e=c.exec(i[1]),C[this]=[t?t[0]:0,e?e[0]:0],n[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===n.at[0]?_.left+=m:"center"===n.at[0]&&(_.left+=m/2),"bottom"===n.at[1]?_.top+=g:"center"===n.at[1]&&(_.top+=g/2),p=e(C.at,m,g),_.left+=p[0],_.top+=p[1],this.each(function(){var s,l,u=t(this),c=u.outerWidth(),d=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=c+f+i(this,"marginRight")+k.width,I=d+b+i(this,"marginBottom")+k.height,P=t.extend({},_),T=e(C.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?P.left-=c:"center"===n.my[0]&&(P.left-=c/2),"bottom"===n.my[1]?P.top-=d:"center"===n.my[1]&&(P.top-=d/2),P.left+=T[0],P.top+=T[1],a||(P.left=h(P.left),P.top=h(P.top)),s={marginLeft:f,marginTop:b},t.each(["left","top"],function(e,i){t.ui.position[x[e]]&&t.ui.position[x[e]][i](P,{targetWidth:m,targetHeight:g,elemWidth:c,elemHeight:d,collisionPosition:s,collisionWidth:D,collisionHeight:I,offset:[p[0]+T[0],p[1]+T[1]],my:n.my,at:n.at,within:w,elem:u})}),n.using&&(l=function(t){var e=v.left-P.left,i=e+m-c,s=v.top-P.top,a=s+g-d,h={target:{element:y,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:P.left,top:P.top,width:c,height:d},horizontal:0>i?"left":e>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};c>m&&m>r(e+i)&&(h.horizontal="center"),d>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(e),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,t,h)}),u.offset(t.extend(P,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,u=l-h,c=l+e.collisionWidth-o-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(u)>i)&&(t.left+=d+p+f)):c>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||c>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,u=l-h,c=l+e.collisionHeight-o-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(s=t.top+p+f+m+e.collisionHeight-o-a,t.top+p+f+m>u&&(0>s||r(u)>s)&&(t.top+=p+f+m)):c>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-h,t.top+p+f+m>c&&(i>0||c>r(i))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");e=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)e.style[o]=s[o];e.appendChild(h),i=r||document.documentElement,i.insertBefore(e,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=t(h).offset().left,a=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()}(),t.ui.position,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.document[0],s=this.options;try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(t){}return this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(s.iframeFix===!0?"iframe":s.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this._removeHandleClassName(),t(this.options.handle||this.element).addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.element.find(".ui-draggable-handle").addBack().removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,a=this.document[0];return this.relative_container=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(a).width()-this.helperProportions.width-this.margins.left,(t(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,
    a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=s.options,a=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i,s){var n=this;t.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParent[0]!==i.document[0]&&"HTML"!==i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(e,i,s){var n=s.options,a=!1,o=s.document[0];s.scrollParent[0]!==o&&"HTML"!==s.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+s.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?s.scrollParent[0].scrollTop=a=s.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(s.scrollParent[0].scrollTop=a=s.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+s.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?s.scrollParent[0].scrollLeft=a=s.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(s.scrollParent[0].scrollLeft=a=s.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(o).scrollTop()<n.scrollSensitivity?a=t(o).scrollTop(t(o).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(o).scrollTop())<n.scrollSensitivity&&(a=t(o).scrollTop(t(o).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(o).scrollLeft()<n.scrollSensitivity?a=t(o).scrollLeft(t(o).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(o).scrollLeft())<n.scrollSensitivity&&(a=t(o).scrollLeft(t(o).scrollLeft()+n.scrollSpeed)))),a!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,a,o,r,h,l,u,c,d,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,_=i.offset.top,b=_+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left,l=h+s.snapElements[d].width,u=s.snapElements[d].top,c=u+s.snapElements[d].height,h-m>v||g>l+m||u-m>b||_>c+m||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(c-_),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top-s.margins.top),a&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top-s.margins.top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left-s.margins.left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left-s.margins.left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-_),a=m>=Math.abs(c-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top-s.margins.top),a&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top-s.margins.top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left-s.margins.left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left-s.margins.left)),!s.snapElements[d].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||a||o||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,a=s.options,o=t.makeArray(t(a.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.11.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t(this).droppable("instance");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s){if(!i.offset)return!1;var n,a,o=(e.positionAbs||e.position.absolute).left,r=(e.positionAbs||e.position.absolute).top,h=o+e.helperProportions.width,l=r+e.helperProportions.height,u=i.offset.left,c=i.offset.top,d=u+i.proportions().width,p=c+i.proportions().height;switch(s){case"fit":return o>=u&&d>=h&&r>=c&&p>=l;case"intersect":return o+e.helperProportions.width/2>u&&d>h-e.helperProportions.width/2&&r+e.helperProportions.height/2>c&&p>l-e.helperProportions.height/2;case"pointer":return n=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,a=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(a,c,i.proportions().height)&&t(n,u,i.proportions().width);case"touch":return(r>=c&&p>=r||l>=c&&p>=l||c>r&&l>p)&&(o>=u&&d>=o||h>=u&&d>=h||u>o&&h>d);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var s,n,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||e&&!a[s].accept.call(a[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue t}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=t.ui.intersect(e,this,this.options.tolerance),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),a.length&&(s=t(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),a="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,a),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=t(a.containment).scrollLeft()||0,s+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalPosition={left:i,top:s},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s=this.helper,n={},a=this.originalMousePosition,o=this.axis,r=e.pageX-a.left||0,h=e.pageY-a.top||0,l=this._change[o];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},l?(i=l.apply(this,[e,r,h]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(t.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(t.width=e.minWidth),o&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),a&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),o&&u&&(t.top=h-e.minHeight),n&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,a=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,a,o,r,h=t(this).resizable("instance"),l=h.options,u=h.element,c=l.containment,d=c instanceof t?c.get(0):/parent/.test(c)?u.parent().get(0):c;d&&(h.containerElement=t(d),/document/.test(c)||c===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(d,"left")?d.scrollWidth:a,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:o,height:r}))},resize:function(e,i){var s,n,a,o,r=t(this).resizable("instance"),h=r.options,l=r.containerOffset,u=r.position,c=r._aspectRatio||e.shiftKey,d={top:0,left:0},p=r.containerElement,f=!0;p[0]!==document&&/static/.test(p.css("position"))&&(d=l),u.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),c&&(r.size.height=r.size.width/r.aspectRatio,f=!1),r.position.left=h.helper?l.left:0),u.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio,f=!1),r.position.top=r._helper?l.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,s=Math.abs((r._helper?r.offset.left-d.left:r.offset.left-l.left)+r.sizeDiff.width),n=Math.abs((r._helper?r.offset.top-d.top:r.offset.top-l.top)+r.sizeDiff.height),a=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),a&&o&&(s-=Math.abs(r.parentData.left)),s+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-s,c&&(r.size.height=r.size.width/r.aspectRatio,f=!1)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,c&&(r.size.width=r.size.height*r.aspectRatio,f=!1)),f||(r.position.left=i.prevPosition.left,r.position.top=i.prevPosition.top,r.size.width=i.prevSize.width,r.size.height=i.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),h=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),a={},o=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(a[e]=i||null)}),e.css(a)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).resizable("instance"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,o=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,u=Math.round((s.width-n.width)/h)*h,c=Math.round((s.height-n.height)/l)*l,d=n.width+u,p=n.height+c,f=i.maxWidth&&d>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,g=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,
g&&(d+=h),v&&(p+=l),f&&(d-=h),m&&(p-=l),/^(se|s|e)$/.test(o)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.top=a.top-c):/^(sw)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.left=a.left-u):(p-l>0?(e.size.height=p,e.position.top=a.top-c):(e.size.height=l,e.position.top=a.top+n.height-l),d-h>0?(e.size.width=d,e.position.left=a.left-u):(e.size.width=h,e.position.left=a.left+n.width-h))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,h=e.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,a.widgetName+"-item")===a?(s=t(this),!1):void 0}),t.data(e.target,a.widgetName+"-item")===a&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-t(document).scrollTop()<o.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<o.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+o.scrollSpeed)),e.pageX-t(document).scrollLeft()<o.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<o.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+o.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=t.left,o=a+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+u>a&&o>e+u,p=c&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=e&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(a=t(l[s]),n=a.length-1;n>=0;n--)o=t.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)a=t.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(c.push([t.isFunction(a.options.items)?a.options.items.call(a.element[0],e,{item:this.currentItem}):t(a.options.items,a.element),a]),this.containers.push(a));for(i=c.length-1;i>=0;i--)for(o=c[i][1],r=c[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var i,s,n,a,o,r,h,l,u,c,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=d.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",c=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,e[c]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[c]-h)&&(n=Math.abs(e[c]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,a=e.pageX,o=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.11.0",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)),void 0)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),a=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(t(e.target).attr("tabIndex",-1),t(a).attr("tabIndex",0),a.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,
    this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?t():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?t():n,newPanel:r};e.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",e,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?t():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr("aria-selected","false"),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,e,i){var s,n,a,o=this,r=0,h=t.length&&(!e.length||t.index()<e.index()),l=this.options.animate||{},u=h&&l.down||l,c=function(){o._toggleComplete(i)};return"number"==typeof u&&(a=u),"string"==typeof u&&(n=u),n=n||u.easing||l.easing,a=a||u.duration||l.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:a,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?r+=i.now:"content"!==o.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,a,n,c):t.animate(this.showProps,a,n,c)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,a,o,r,h=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:h=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp("^"+i(a),"i"),s=this.activeMenu.find(this.options.items).filter(function(){return r.test(t(this).text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp("^"+i(a),"i"),s=this.activeMenu.find(this.options.items).filter(function(){return r.test(t(this).text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),s=t("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),e=a.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}}),t.widget("ui.autocomplete",{version:"1.11.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var a=t.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:e=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case a.UP:e=!0,this._keyEvent("previous",n);break;case a.DOWN:e=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&jQuery.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var c,d="ui-button ui-widget ui-state-default ui-corner-all",p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},m=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.11.0",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(n)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var s=e.element[0];m(s).not(s).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(t(this).addClass("ui-state-active"),c=this,e.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(t(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(e){return i.disabled?!1:((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?m(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var e=this.buttonElement.removeClass(p),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.0",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.11.0"}});var g;t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return o(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,a;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),a=this._newInst(t(e),n),a.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,a):n&&this._inlineDatepicker(e,a)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(a?t("<img/>").attr({src:a,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,a=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},a.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),t.input.attr("size",this._formatDate(t,a).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,a){var r,h,l,u,c,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},
    t.data(this._dialogInput[0],"datepicker",d)),o(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,a,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),o(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,a=t.datepicker._getInst(e.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",a.dpDiv),n[0]&&t.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,n[0]),i=t.datepicker._get(a,"onSelect"),i?(s=t.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(t){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,a,r,h,l,u;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),a=n?n.apply(e,[e,i]):{},a!==!1&&(o(i.settings,a),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),h=t.datepicker._checkOffset(i,h,r),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),u=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,g=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a");var i,s=this._getNumberOfMonths(e),n=s[1],a=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-o:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,a,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(e,i,s,n){var a,o=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=t("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,a=this._get(e,"altField");a&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(a).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=RegExp("^\\d{1,"+s+"}"),a=i.substring(h).match(n);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var a=-1,o=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=e[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":v=w("d");break;case"D":k("D",c,d);break;case"o":_=w("o");break;case"m":g=w("m");break;case"M":g=k("M",p,f);break;case"y":m=w("y");break;case"@":r=new Date(w("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),_>-1)for(g=1,v=_;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},u=function(t,e,i,s){return h(t)?s[e]:i[e]},c="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?c+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":c+=l("d",e.getDate(),2);break;case"D":c+=u("D",e.getDay(),n,a);break;case"o":c+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",e.getMonth()+1,2);break;case"M":c+=u("M",e.getMonth(),o,r);break;case"y":c+=h("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?c+="'":d=!0;break;default:c+=t.charAt(s)}return c},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),a=n,o=this._getFormatConfig(t);try{a=this.parseDate(i,s,o)||n}catch(t){s=e?"":s}t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),t.currentDay=s?a.getDate():0,t.currentMonth=s?a.getMonth():0,t.currentYear=s?a.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},a=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var s=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,n=s.getFullYear(),a=s.getMonth(),o=s.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=r.exec(i);h;){switch(h[2]||"d"){case"d":case"D":o+=parseInt(h[1],10);break;case"w":case"W":o+=7*parseInt(h[1],10);break;case"m":case"M":a+=parseInt(h[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(n,a));break;case"y":case"Y":n+=parseInt(h[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(n,a))}h=r.exec(i)}return new Date(n,a,o)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,a=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),n===t.selectedMonth&&a===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,a,o,r,h,l,u,c,d,p,f,m,g,v,_,b,y,w,k,x,C,D,I,P,T,M,z,S,A,E,N,H,O,W,F,R,Y=new Date,L=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),B=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),K=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),$=1!==q[0]||1!==q[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(0>Z&&(Z+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),e=J&&J>e?J:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,0>Z&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-X,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":K?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+X,1)),this._getFormatConfig(t)):n,a=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>":K?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>",o=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:L,o=U?this.formatDate(o,r,this._getFormatConfig(t)):o,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(B?"":h)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;q[0]>k;k++){for(x="",this.maxRows=4,C=0;q[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),I=" ui-corner-all",P="",$){if(P+="<div class='ui-datepicker-group",q[1]>1)switch(C){case 0:P+=" ui-datepicker-group-first",I=" ui-corner-"+(B?"right":"left");break;case q[1]-1:P+=" ui-datepicker-group-last",I=" ui-corner-"+(B?"left":"right");break;default:P+=" ui-datepicker-group-middle",I=""}P+="'>"}for(P+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?B?a:s:"")+(/all|right/.test(I)&&0===k?B?s:a:"")+this._generateMonthYearHeader(t,Z,tt,J,Q,k>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",T=c?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+u)%7,T+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(P+=T+"</tr></thead><tbody>",z=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,z)),S=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,A=Math.ceil((S+z)/7),E=$?this.maxRows>A?this.maxRows:A:A,this.maxRows=E,N=this._daylightSavingAdjust(new Date(tt,Z,1-S)),H=0;E>H;H++){for(P+="<tr>",O=c?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",w=0;7>w;w++)W=g?g.apply(t.input?t.input[0]:null,[N]):[!0,""],F=N.getMonth()!==Z,R=F&&!_||!W[0]||J&&J>N||Q&&N>Q,O+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+W[1]+(N.getTime()===G.getTime()?" "+this._currentClass:"")+(N.getTime()===L.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!W[2]?"":" title='"+W[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===L.getTime()?" ui-state-highlight":"")+(N.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);P+=O+"</tr>"}Z++,Z>11&&(Z=0,tt++),P+="</tbody></table>"+($?"</div>"+(q[0]>0&&C===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=P}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,a,o,r){var h,l,u,c,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(a||!g)y+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(y+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+r[u]+"</option>");y+="</select>"}if(_||(b+=y+(!a&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(c[0]),m=Math.max(f,p(c[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!a&&g&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,a)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),o=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!a||e.getTime()<=a.getTime())&&(!o||e.getFullYear()>=o)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.0",t.datepicker,t.widget("ui.dialog",{version:"1.11.0",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),
        this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.focus()}),e.preventDefault()):(this._delay(function(){s.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,a;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(a).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(a))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._untrackInstance(),this._trackingInstances().unshift(this),this._focusedElement=t(e.target)}})},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,e){var i,s,n=this.uiDialog;"dialogClass"===t&&n.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=n.is(":data(ui-draggable)"),i&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.progressbar",{version:"1.11.0",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",{version:"1.11.0",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this,i=this.element.attr("tabindex");this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:i||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._setOption("width",this.options.width),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,i){t.preventDefault(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this._setOption("width",this.options.width)},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,a){a.optgroup!==n&&(t("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(e),n=a.optgroup),s._renderItemData(e,a)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{click:"_toggle",keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&(e||(e=this.element.outerWidth()),this.button.outerWidth(e))},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,s){var n=t(s),a=n.parent("optgroup");i.push({element:n,index:e,value:n.attr("value"),label:n.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.0",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,h,l,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-a.width()/2,top:e.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var i,s,n,a,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),i=this._start(e,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(e,o,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.11.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){
    return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,this.element.val(this._format(i)),void 0}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.0",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;e=e.cloneNode(!1),i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(t){}try{s=decodeURIComponent(s)}catch(t){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):"disabled"===t?(this._setupDisabled(e),void 0):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,s){var n,a,o,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,o=n.substring(1),a=e.element.find(e._sanitizeSelector(n))):(o=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+o,a=e.element.find(n),a.length||(a=e._createPanel(o),a.insertAfter(e.panels[i-1]||e.tablist)),a.attr("aria-live","polite")),a.length&&(e.panels=e.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?t():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):t(),u={oldTab:s,oldPanel:l,newTab:r?t():a,newPanel:h};e.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?t():a,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),e),this._toggle(e,u))},_toggle:function(e,i){function s(){a.running=!1,a._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o};this._isLocal(a[0])||(this.xhr=t.ajax(this._ajaxSettings(a,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){o.html(t),s._trigger("load",i,r)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,a){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:a},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.widget("ui.tooltip",{version:"1.11.0",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var s=this;return"disabled"===e?(this[i?"_disable":"_enable"](),this.options[e]=i,void 0):(this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e)}),void 0)},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,a=e?e.type:null;return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){t.data("ui-tooltip-open")&&n._delay(function(){e&&(e.type=a),this._open(e,t,i)})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var a,o,r,h,l=t.extend({},this.options.position);if(s){if(a=this._find(i),a.length)return a.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,t("<div>").html(h).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a}),o={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}},i[0]!==this.element[0]&&(o.remove=function(){this._removeTooltip(a)}),e&&"mouseover"!==e.type||(o.mouseleave="close"),e&&"focusin"!==e.type||(o.focusout="close"),this._on(!0,i,o)}},close:function(e){var i=this,s=t(e?e.currentTarget:this.element),n=this._find(s);this.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,s){t(s.element).attr("title",s.title),delete i.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:n}),this.closing=!1)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]=e,i},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});

!function(o){function t(o,t){if(!(o.originalEvent.touches.length>1)){o.preventDefault();var e=o.originalEvent.changedTouches[0],u=document.createEvent("MouseEvents");u.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(u)}}if(o.support.touch="ontouchend"in document,o.support.touch){var e,u=o.ui.mouse.prototype,n=u._mouseInit,c=u._mouseDestroy;u._touchStart=function(o){var u=this;!e&&u._mouseCapture(o.originalEvent.changedTouches[0])&&(e=!0,u._touchMoved=!1,t(o,"mouseover"),t(o,"mousemove"),t(o,"mousedown"))},u._touchMove=function(o){e&&(this._touchMoved=!0,t(o,"mousemove"))},u._touchEnd=function(o){e&&(t(o,"mouseup"),t(o,"mouseout"),this._touchMoved||t(o,"click"),e=!1)},u._mouseInit=function(){var t=this;t.element.bind({touchstart:o.proxy(t,"_touchStart"),touchmove:o.proxy(t,"_touchMove"),touchend:o.proxy(t,"_touchEnd")}),n.call(t)},u._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:o.proxy(t,"_touchStart"),touchmove:o.proxy(t,"_touchMove"),touchend:o.proxy(t,"_touchEnd")}),c.call(t)}}}(jQuery);

(function(){var e;e=window.jQuery||window.Zepto||window.$;e.fn.fancySelect=function(t){var r,i;if(t==null){t={}}i=e.extend({forceiOS:false,includeBlank:true,optionTemplate:function(e){return e.text()},triggerTemplate:function(e){return e.text()}},t);r=!!navigator.userAgent.match(/iP(hone|od|ad)/i);return this.each(function(){var t,n,s,a,l,o,f;a=e(this);if(a.hasClass("fancified")||a[0].tagName!=="SELECT"){return}a.addClass("fancified");a.css({width:1,height:1,display:"block",position:"absolute",top:0,left:0,opacity:0});a.wrap('<div class="fancy-select">');f=a.parent();if(a.data("class")){f.addClass(a.data("class"))}f.append('<div class="trigger">');if(!(r&&!i.forceiOS)){f.append('<ul class="options">')}l=f.find(".trigger");s=f.find(".options");n=a.prop("disabled");if(n){f.addClass("disabled")}o=function(){var e;e=i.triggerTemplate(a.find(":selected"));return l.html(e)};a.on("blur.fs",function(){if(l.hasClass("open")){return setTimeout(function(){return l.trigger("close.fs")},120)}});l.on("close.fs",function(){l.removeClass("open");var e=l.parents(".input-wrapper");if(e.length)e.removeAttr("style");return s.removeClass("open")});l.on("click.fs",function(){var t,o;if(!n){l.toggleClass("open");if(r&&!i.forceiOS){if(l.hasClass("open")){a.trigger("click");return a.trigger("focus")}}else{var f=l.parents(".input-wrapper");if(l.hasClass("open")){o=l.parent();t=o.offsetParent();if(o.offset().top+o.outerHeight()+s.outerHeight()+20>e(window).height()+e(window).scrollTop()){s.addClass("overflowing")}else{s.removeClass("overflowing")}f.each(function(){var t=e(this);t.css("width",t[0].getBoundingClientRect().width).css("overflow","visible").css("float","left");if(t.siblings(".right.floater").length){t.css("margin-right","-10px")}})}else{f.removeAttr("style")}s.toggleClass("open")}}});a.on("enable",function(){a.prop("disabled",false);f.removeClass("disabled");n=false;return t()});a.on("disable",function(){a.prop("disabled",true);f.addClass("disabled");return n=true});a.on("change.fs",function(e){d();if(e.originalEvent&&e.originalEvent.isTrusted&&!r){return e.stopPropagation()}else{return o()}});a.on("keydown",function(e){var t,r,i;i=e.which;t=s.find(".hover");t.removeClass("hover");if(!s.hasClass("open")){if(i===13||i===32||i===38||i===40){e.preventDefault();return l.trigger("click.fs")}}else{if(i===38){e.preventDefault();if(t.length&&t.index()>0){t.prev().addClass("hover")}else{s.find("li:last-child").addClass("hover")}}else if(i===40){e.preventDefault();if(t.length&&t.index()<s.find("li").length-1){t.next().addClass("hover")}else{s.find("li:first-child").addClass("hover")}}else if(i===27){e.preventDefault();l.trigger("click.fs")}else if(i===13||i===32){e.preventDefault();t.trigger("click.fs")}else if(i===9){if(l.hasClass("open")){l.trigger("close.fs")}}r=s.find(".hover");if(r.length){s.scrollTop(0);return s.scrollTop(r.position().top-12)}}});function d(){var t=a.val();var r=e("li",s).filter(function(){return e(this).data("rawValue")==t});if(r.length>0){r.addClass("hover");s.scrollTop(0);s.scrollTop(r.position().top)}}e(document).on("keydown.fs",function(t){if(l.hasClass("open")){var r=String.fromCharCode(t.keyCode).toUpperCase();var i=e("option",a).eq(a.prop("selectedIndex"));var n=false;function s(){var t=e(this);var i=t.prop("value");var s=t.text().toUpperCase();if(r===s[0]&&i&&i!=a.val()){a.val(i).trigger("change");n=true;return false}}i.nextAll().each(s);if(!n){i.prevAll().each(s)}}});s.on("click.fs","li",function(t){var i;i=e(this);a.val(i.data("raw-value"));if(!r){a.trigger("blur.fs").trigger("focus.fs")}s.find(".selected").removeClass("selected");i.addClass("selected");l.addClass("selected");return a.val(i.data("raw-value")).trigger("change").trigger("blur.fs").trigger("focus.fs")});s.on("mouseenter.fs","li",function(){var t,r;r=e(this);t=s.find(".hover");t.removeClass("hover");return r.addClass("hover")});s.on("mouseleave.fs","li",function(){return s.find(".hover").removeClass("hover")});t=function(){var t;o();if(r&&!i.forceiOS){return}t=a.find("option");return a.find("option").each(function(t,r){var n;r=e(r);if(!r.prop("disabled")&&(r.val()||i.includeBlank)){n=i.optionTemplate(r);if(r.prop("selected")){return s.append('<li data-raw-value="'+r.val()+'" class="selected">'+n+"</li>")}else{return s.append('<li data-raw-value="'+r.val()+'">'+n+"</li>")}}})};a.on("update.fs",function(){f.find(".options").empty();return t()});return t()})}}).call(this);

(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof module==="object"&&module.exports){module.exports=e(require("jquery"))}else{e(jQuery)}})(function(e){e.extend(e.fn,{validate:function(t){if(!this.length){if(t&&t.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var i=e.data(this[0],"validator");if(i){return i}this.attr("novalidate","novalidate");i=new e.validator(t,this[0]);e.data(this[0],"validator",i);if(i.settings.onsubmit){this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget;if(e(this).hasClass("cancel")){i.cancelSubmit=true}if(e(this).attr("formnovalidate")!==undefined){i.cancelSubmit=true}});this.on("submit.validate",function(t){if(i.settings.debug){t.preventDefault()}function s(){var s,r;if(i.submitButton&&(i.settings.submitHandler||i.formSubmitted)){s=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)}if(i.settings.submitHandler&&!i.settings.debug){r=i.settings.submitHandler.call(i,i.currentForm,t);if(s){s.remove()}if(r!==undefined){return r}return false}return true}if(i.cancelSubmit){i.cancelSubmit=false;return s()}if(i.form()){if(i.pendingRequest){i.formSubmitted=true;return false}return s()}else{i.focusInvalid();return false}})}return i},valid:function(){var t,i,s;if(e(this[0]).is("form")){t=this.validate().form()}else{s=[];t=true;i=e(this[0].form).validate();this.each(function(){t=i.element(this)&&t;if(!t){s=s.concat(i.errorList)}});i.errorList=s}return t},rules:function(t,i){var s=this[0],r=typeof this.attr("contenteditable")!=="undefined"&&this.attr("contenteditable")!=="false",n,a,o,l,u,h;if(s==null){return}if(!s.form&&r){s.form=this.closest("form")[0];s.name=this.attr("name")}if(s.form==null){return}if(t){n=e.data(s.form,"validator").settings;a=n.rules;o=e.validator.staticRules(s);switch(t){case"add":e.extend(o,e.validator.normalizeRule(i));delete o.messages;a[s.name]=o;if(i.messages){n.messages[s.name]=e.extend(n.messages[s.name],i.messages)}break;case"remove":if(!i){delete a[s.name];return o}h={};e.each(i.split(/\s/),function(e,t){h[t]=o[t];delete o[t]});return h}}l=e.validator.normalizeRules(e.extend({},e.validator.classRules(s),e.validator.attributeRules(s),e.validator.dataRules(s),e.validator.staticRules(s)),s);if(l.required){u=l.required;delete l.required;l=e.extend({required:u},l)}if(l.remote){u=l.remote;delete l.remote;l=e.extend(l,{remote:u})}return l}});e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var i=e(t).val();return i!==null&&!!e.trim(""+i)},unchecked:function(t){return!e(t).prop("checked")}});e.validator=function(t,i){this.settings=e.extend(true,{},e.validator.defaults,t);this.currentForm=i;this.init()};e.validator.format=function(t,i){if(arguments.length===1){return function(){var i=e.makeArray(arguments);i.unshift(t);return e.validator.format.apply(this,i)}}if(i===undefined){return t}if(arguments.length>2&&i.constructor!==Array){i=e.makeArray(arguments).slice(1)}if(i.constructor!==Array){i=[i]}e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})});return t};e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(e){this.lastActive=e;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(e))}},onfocusout:function(e){if(!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))){this.element(e)}},onkeyup:function(t,i){var s=[16,17,18,20,35,36,37,38,39,40,45,144,225];if(i.which===9&&this.elementValue(t)===""||e.inArray(i.keyCode,s)!==-1){return}else if(t.name in this.submitted||t.name in this.invalid){this.element(t)}},onclick:function(e){if(e.name in this.submitted){this.element(e)}else if(e.parentNode.name in this.submitted){this.element(e.parentNode)}},highlight:function(t,i,s){if(t.type==="radio"){this.findByName(t.name).addClass(i).removeClass(s)}else{e(t).addClass(i).removeClass(s)}},unhighlight:function(t,i,s){if(t.type==="radio"){this.findByName(t.name).removeClass(i).addClass(s)}else{e(t).removeClass(i).addClass(s)}}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=e(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm);this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t=this.currentForm,i=this.groups={},s;e.each(this.settings.groups,function(t,s){if(typeof s==="string"){s=s.split(/\s/)}e.each(s,function(e,s){i[s]=t})});s=this.settings.rules;e.each(s,function(t,i){s[t]=e.validator.normalizeRule(i)});function r(i){var s=typeof e(this).attr("contenteditable")!=="undefined"&&e(this).attr("contenteditable")!=="false";if(!this.form&&s){this.form=e(this).closest("form")[0];this.name=e(this).attr("name")}if(t!==this.form){return}var r=e.data(this.form,"validator"),n="on"+i.type.replace(/^validate/,""),a=r.settings;if(a[n]&&!e(this).is(a.ignore)){a[n].call(r,this,i)}}e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], "+"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], "+"[type='radio'], [type='checkbox'], [contenteditable], [type='button']",r).on("click.validate","select, option, [type='radio'], [type='checkbox']",r);if(this.settings.invalidHandler){e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();e.extend(this.submitted,this.errorMap);this.invalid=e.extend({},this.errorMap);if(!this.valid()){e(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++){this.check(t[e])}return this.valid()},element:function(t){var i=this.clean(t),s=this.validationTargetFor(i),r=this,n=true,a,o;if(s===undefined){delete this.invalid[i.name]}else{this.prepareElement(s);this.currentElements=e(s);o=this.groups[s.name];if(o){e.each(this.groups,function(e,t){if(t===o&&e!==s.name){i=r.validationTargetFor(r.clean(r.findByName(e)));if(i&&i.name in r.invalid){r.currentElements.push(i);n=r.check(i)&&n}}})}a=this.check(s)!==false;n=n&&a;if(a){this.invalid[s.name]=false}else{this.invalid[s.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();e(t).attr("aria-invalid",!a)}return n},showErrors:function(t){if(t){var i=this;e.extend(this.errorMap,t);this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(e.fn.resetForm){e(this.currentForm).resetForm()}this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight){for(t=0;e[t];t++){this.settings.unhighlight.call(this,e[t],this.settings.errorClass,"");this.findByName(e[t].name).removeClass(this.settings.validClass)}}else{e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)}},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0,i;for(i in e){if(e[i]!==undefined&&e[i]!==null&&e[i]!==false){t++}}return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text("");this.addWrapper(e).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name===t.name}).length===1&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var s=this.name||e(this).attr("name");var r=typeof e(this).attr("contenteditable")!=="undefined"&&e(this).attr("contenteditable")!=="false";if(!s&&t.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(r){this.form=e(this).closest("form")[0];this.name=s}if(this.form!==t.currentForm){return false}if(s in i||!t.objectLength(e(this).rules())){return false}i[s]=true;return true})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=e([]);this.toHide=e([])},reset:function(){this.resetInternals();this.currentElements=e([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset();this.toHide=this.errorsFor(e)},elementValue:function(t){var i=e(t),s=t.type,r=typeof i.attr("contenteditable")!=="undefined"&&i.attr("contenteditable")!=="false",n,a;if(s==="radio"||s==="checkbox"){return this.findByName(t.name).filter(":checked").val()}else if(s==="number"&&typeof t.validity!=="undefined"){return t.validity.badInput?"NaN":i.val()}if(r){n=i.text()}else{n=i.val()}if(s==="file"){if(n.substr(0,12)==="C:\\fakepath\\"){return n.substr(12)}a=n.lastIndexOf("/");if(a>=0){return n.substr(a+1)}a=n.lastIndexOf("\\");if(a>=0){return n.substr(a+1)}return n}if(typeof n==="string"){return n.replace(/\r/g,"")}return n},check:function(t){t=this.validationTargetFor(this.clean(t));var i=e(t).rules(),s=e.map(i,function(e,t){return t}).length,r=false,n=this.elementValue(t),a,o,l,u;if(typeof i.normalizer==="function"){u=i.normalizer}else if(typeof this.settings.normalizer==="function"){u=this.settings.normalizer}if(u){n=u.call(t,n);delete i.normalizer}for(o in i){l={method:o,parameters:i[o]};try{a=e.validator.methods[o].call(this,n,t,l.parameters);if(a==="dependency-mismatch"&&s===1){r=true;continue}r=false;if(a==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!a){this.formatAndAdd(t,l);return false}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+t.id+", check the '"+l.method+"' method.",e)}if(e instanceof TypeError){e.message+=".  Exception occurred when checking element "+t.id+", check the '"+l.method+"' method."}throw e}}if(r){return}if(this.objectLength(i)){this.successList.push(t)}return true},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==undefined){return arguments[e]}}return undefined},defaultMessage:function(t,i){if(typeof i==="string"){i={method:i}}var s=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||undefined,e.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),r=/\$?\{(\d+)\}/g;if(typeof s==="function"){s=s.call(this,i.parameters,t)}else if(r.test(s)){s=e.validator.format(s.replace(r,"{$1}"),i.parameters)}return s},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method});this.errorMap[e.name]=i;this.submitted[e.name]=i},addWrapper:function(e){if(this.settings.wrapper){e=e.add(e.parent(this.settings.wrapper))}return e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++){i=this.errorList[e];if(this.settings.highlight){this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(i.element,i.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(e=0,t=this.validElements();t[e];e++){this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var s,r,n,a,o=this.errorsFor(t),l=this.idOrName(t),u=e(t).attr("aria-describedby");if(o.length){o.removeClass(this.settings.validClass).addClass(this.settings.errorClass);o.html(i)}else{o=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||"");s=o;if(this.settings.wrapper){s=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(s)}else if(this.settings.errorPlacement){this.settings.errorPlacement.call(this,s,e(t))}else{s.insertAfter(t)}if(o.is("label")){o.attr("for",l)}else if(o.parents("label[for='"+this.escapeCssMeta(l)+"']").length===0){n=o.attr("id");if(!u){u=n}else if(!u.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))){u+=" "+n}e(t).attr("aria-describedby",u);r=this.groups[t.name];if(r){a=this;e.each(a.groups,function(t,i){if(i===r){e("[name='"+a.escapeCssMeta(t)+"']",a.currentForm).attr("aria-describedby",o.attr("id"))}})}}}if(!i&&this.settings.success){o.text("");if(typeof this.settings.success==="string"){o.addClass(this.settings.success)}else{this.settings.success(o,t)}}this.toShow=this.toShow.add(o)},errorsFor:function(t){var i=this.escapeCssMeta(this.idOrName(t)),s=e(t).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";if(s){r=r+", #"+this.escapeCssMeta(s).replace(/\s+/g,", #")}return this.errors().filter(r)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){if(this.checkable(t)){t=this.findByName(t.name)}return e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i)){return this.findByName(i.name).filter(":checked").length}}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):true},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){if(!this.pending[t.name]){this.pendingRequest++;e(t).addClass(this.settings.pendingClass);this.pending[t.name]=true}},stopRequest:function(t,i){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[t.name];e(t).removeClass(this.settings.pendingClass);if(i&&this.pendingRequest===0&&this.formSubmitted&&this.form()){e(this.currentForm).submit();if(this.submitButton){e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove()}this.formSubmitted=false}else if(!i&&this.pendingRequest===0&&this.formSubmitted){e(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(t,i){i=typeof i==="string"&&i||"remote";return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:true,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm();e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(t,i){if(t.constructor===String){this.classRuleSettings[t]=i}else{e.extend(this.classRuleSettings,t)}},classRules:function(t){var i={},s=e(t).attr("class");if(s){e.each(s.split(" "),function(){if(this in e.validator.classRuleSettings){e.extend(i,e.validator.classRuleSettings[this])}})}return i},normalizeAttributeRule:function(e,t,i,s){if(/min|max|step/.test(i)&&(t===null||/number|range|text/.test(t))){s=Number(s);if(isNaN(s)){s=undefined}}if(s||s===0){e[i]=s}else if(t===i&&t!=="range"){e[i]=true}},attributeRules:function(t){var i={},s=e(t),r=t.getAttribute("type"),n,a;for(n in e.validator.methods){if(n==="required"){a=t.getAttribute(n);if(a===""){a=true}a=!!a}else{a=s.attr(n)}this.normalizeAttributeRule(i,r,n,a)}if(i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)){delete i.maxlength}return i},dataRules:function(t){var i={},s=e(t),r=t.getAttribute("type"),n,a;for(n in e.validator.methods){a=s.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase());if(a===""){a=true}this.normalizeAttributeRule(i,r,n,a)}return i},staticRules:function(t){var i={},s=e.data(t.form,"validator");if(s.settings.rules){i=e.validator.normalizeRule(s.settings.rules[t.name])||{}}return i},normalizeRules:function(t,i){e.each(t,function(s,r){if(r===false){delete t[s];return}if(r.param||r.depends){var n=true;switch(typeof r.depends){case"string":n=!!e(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i);break}if(n){t[s]=r.param!==undefined?r.param:true}else{e.data(i.form,"validator").resetElements(e(i));delete t[s]}}});e.each(t,function(s,r){t[s]=e.isFunction(r)&&s!=="normalizer"?r(i):r});e.each(["minlength","maxlength"],function(){if(t[this]){t[this]=Number(t[this])}});e.each(["rangelength","range"],function(){var i;if(t[this]){if(e.isArray(t[this])){t[this]=[Number(t[this][0]),Number(t[this][1])]}else if(typeof t[this]==="string"){i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/);t[this]=[Number(i[0]),Number(i[1])]}}});if(e.validator.autoCreateRanges){if(t.min!=null&&t.max!=null){t.range=[t.min,t.max];delete t.min;delete t.max}if(t.minlength!=null&&t.maxlength!=null){t.rangelength=[t.minlength,t.maxlength];delete t.minlength;delete t.maxlength}}return t},normalizeRule:function(t){if(typeof t==="string"){var i={};e.each(t.split(/\s/),function(){i[this]=true});t=i}return t},addMethod:function(t,i,s){e.validator.methods[t]=i;e.validator.messages[t]=s!==undefined?s:e.validator.messages[t];if(i.length<3){e.validator.addClassRules(t,e.validator.normalizeRule(t))}},methods:{required:function(t,i,s){if(!this.depend(s,i)){return"dependency-mismatch"}if(i.nodeName.toLowerCase()==="select"){var r=e(i).val();return r&&r.length>0}if(this.checkable(i)){return this.getLength(t,i)>0}return t!==undefined&&t!==null&&t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(){var e=false;return function(t,i){if(!e){e=true;if(this.settings.debug&&window.console){console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\n"+"Please don't use it, since it relies on the Date constructor, which\n"+"behaves very differently across browsers and locales. Use `dateISO`\n"+"instead or one of the locale specific methods in `localizations/`\n"+"and `additional-methods.js`.")}}return this.optional(i)||!/Invalid|NaN/.test(new Date(t).toString())}}(),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,i,s){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=s},maxlength:function(t,i,s){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r<=s},rangelength:function(t,i,s){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=s[0]&&r<=s[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(t,i,s){var r=e(i).attr("type"),n="Step attribute on input type "+r+" is not supported.",a=["text","number","range"],o=new RegExp("\\b"+r+"\\b"),l=r&&!o.test(a.join()),u=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);if(!t){return 0}return t[1]?t[1].length:0},h=function(e){return Math.round(e*Math.pow(10,f))},d=true,f;if(l){throw new Error(n)}f=u(s);if(u(t)>f||h(t)%h(s)!==0){d=false}return this.optional(i)||d},equalTo:function(t,i,s){var r=e(s);if(this.settings.onfocusout&&r.not(".validate-equalTo-blur").length){r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(i).valid()})}return t===r.val()},remote:function(t,i,s,r){if(this.optional(i)){return"dependency-mismatch"}r=typeof r==="string"&&r||"remote";var n=this.previousValue(i,r),a,o,l;if(!this.settings.messages[i.name]){this.settings.messages[i.name]={}}n.originalMessage=n.originalMessage||this.settings.messages[i.name][r];this.settings.messages[i.name][r]=n.message;s=typeof s==="string"&&{url:s}||s;l=e.param(e.extend({data:t},s.data));if(n.old===l){return n.valid}n.old=l;a=this;this.startRequest(i);o={};o[i.name]=t;e.ajax(e.extend(true,{mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:a.currentForm,success:function(e){var s=e===true||e==="true",o,l,u;a.settings.messages[i.name][r]=n.originalMessage;if(s){u=a.formSubmitted;a.resetInternals();a.toHide=a.errorsFor(i);a.formSubmitted=u;a.successList.push(i);a.invalid[i.name]=false;a.showErrors()}else{o={};l=e||a.defaultMessage(i,{method:r,parameters:t});o[i.name]=n.message=l;a.invalid[i.name]=true;a.showErrors(o)}n.valid=s;a.stopRequest(i,s)}},s));return"pending"}}});var t={},i;if(e.ajaxPrefilter){e.ajaxPrefilter(function(e,i,s){var r=e.port;if(e.mode==="abort"){if(t[r]){t[r].abort()}t[r]=s}})}else{i=e.ajax;e.ajax=function(s){var r=("mode"in s?s:e.ajaxSettings).mode,n=("port"in s?s:e.ajaxSettings).port;if(r==="abort"){if(t[n]){t[n].abort()}t[n]=i.apply(this,arguments);return t[n]}return i.apply(this,arguments)}}return e});

(function(e){e.fn.wscheckbox=function(){var c=e(this);c.each(function(){var c=e(this);if(c.data("wscheckbox")){return}c.data("wscheckbox",true);if(c.parent(".ws-checkbox-outer").length==0){c.wrap('<div class="ws-checkable-outer ws-checkbox-outer"></div>')}var s=c.parent(".ws-checkbox-outer");c.on("change.ws-checkbox",function(){s.removeClass("checked disabled");if(c.prop("disabled")){s.addClass("disabled")}else if(c.prop("checked")){s.addClass("checked")}e.each(["ws-checkbox-small"],function(e,a){if(c.hasClass(a)){s.addClass(a)}})}).trigger("change.ws-checkbox")});return this}})(jQuery);

(function(a){a.fn.wsradio=function(){var e=a(this);e.each(function(){var e=a(this);if(e.data("wsradio")){return}e.data("wsradio",true);e.wrap('<div class="ws-checkable-outer ws-radio-outer"></div>');var s=e.parent(".ws-radio-outer");e.on("change.ws-radio",function(){s.removeClass("checked disabled");if(e.prop("disabled")){s.addClass("disabled")}else if(e.is(":checked")){a('[name="'+e.prop("name")+'"]:radio').parent(".ws-radio-outer").removeClass("checked");s.addClass("checked")}a.each(["ws-radio-small"],function(a,r){if(e.hasClass(r)){s.addClass(r)}})}).trigger("change.ws-radio")});return this}})(jQuery);

(function(e){e.fn.wsselect=function(s){var l={renderLabel:null};e.extend(l,s);var t=e(this);t.each(function(){var s=e(this);if(s.data("wsselect")){return}var t=s.data("class");if(typeof t==="undefined"){t=""}if(s.hasClass("ws-select-white")){t+=" ws-select-white"}if(s.hasClass("ws-select-half")){t+=" ws-select-half"}if(s.hasClass("ws-select-full")){t+=" ws-select-full"}if(s.hasClass("ws-select-large")){t+=" ws-select-large"}if(s.hasClass("ws-select-right")){t+=" ws-select-right"}if(s.hasClass("ws-select-no-ellipsis")){t+=" ws-select-no-ellipsis"}t+=" ws-select-outer";s.data("class",t);var a={};if(s.hasClass("ws-select-include-blank")){a.includeBlank=true}if(typeof l.renderLabel=="function"){a.triggerTemplate=a.optionTemplate=function(s){var t=e("<span/>");l.renderLabel(t,s);return t.html()}}s.fancySelect(a)});return this}})(jQuery);

(function(a){a.fn.wstabs=function(e){var s={};a.extend(s,e);var t=a(this);t.each(function(){var e=a(this),s=a(".tabs-header > a",e),t=a(".tab-content",e);s.off("click.wstab");s.on("click.wstab",function(){var e=a(this),i=e.data("tab"),l=t.filter('[data-tab="'+i+'"]');if(!e.hasClass("active")){if(!mobileView){s.removeClass("active");t.removeClass("active")}else{t.removeClass("last-active");l.addClass("last-active");s.removeClass("last-active");e.addClass("last-active")}e.addClass("active");l.addClass("active")}else{if(mobileView){e.removeClass("active");l.removeClass("active")}}return false})});return this}})(jQuery);

(function(e){e.fn.carousel=function(n){var a={maxViewCapacity:null,onChange:null,maxIncrement:false,onUpdate:null,animDuration:300,cropEnd:false};a=e.extend(a,n);if(touch){return this}var t=e(this);t.each(function(){var n=e(this);var t=e(".wrapper",n);var i=e(".inner",n);var r=e(".carousel-control",n);var l=e(".inner > *",n);var o=0;var s=0;var c;var u=e(".bullets",n);var f=false;function v(){setTimeout(function(){var n=e(".blog-gallery-image").length;var a=e(".blog-gallery").width();e(".wrapper").width(a);e(".blog-gallery .inner").width(a*n);e(".blog-gallery-image").width(a)},500)}function d(){return{carousel:n,controls:r,items:l,currentIndex:s,viewCapacity:c,bulletsContainer:u}}if(a.cropEnd){n.addClass("carousel-crop-end")}function h(){r.removeClass("inactive");n.addClass("prev-enabled next-enabled");if(s==0){r.filter(".prev").addClass("inactive");n.removeClass("prev-enabled")}if(s+c==l.length){r.filter(".next").addClass("inactive");n.removeClass("next-enabled")}u.each(function(){var n=l.length;var a=s;var t=e(".bullet",u);if(t.length!=n){t.remove();for(var i=0;i<n;i++){var r=e('<div class="bullet" />');if(a==i){r.addClass("active")}u.append(r)}}else{t.removeClass("active");t.eq(a).addClass("active")}});v()}function g(){if(e.isFunction(a.onUpdate)){a.onUpdate(d())}if(s>l.length-1){s=l.length-1}if(s<0){s=0}if(s+c>l.length){s--;g();return}i.width("auto");i.width(p(0,l.length));c=0;var n=0;var r=t.width();var o=t.width("auto").innerWidth();if(!a.cropEnd){t.width(r)}l.slice(s).each(function(a){n+=e(this).outerWidth();if(n>o){return false}else{c++}});if(c==0){c=1}var u=p(s,s+c);t.animate({width:u},a.animDuration);h()}function p(n,a){var t=0;l.slice(n,a).each(function(n){t+=e(this).outerWidth()});return t}e(window).on("resize.carousel load.carousel",g);e("img",n).on("load",g);g();function m(){if(e.isFunction(a.onChange)){a.onChange(s,l.length,c)}}function w(){g();var e=p(0,s)*-1;i.transition({x:e},a.animDuration)}function C(){s++;w()}function b(){s--;w()}r.on("click",function(){if(e(this).hasClass("next")){C(false)}else{b()}return false});u.on("click",".bullet",function(){var n=e(this);if(n.hasClass("active")){return}var a=n.index();s=a;w()});if(n.hammer){var x=n.hammer();x.on("swipeleft swiperight",function(e){if(e.type=="swipeleft"){C(false)}else{b()}})}function y(){clearInterval(f);f=setInterval(function(){C(true)},a.autoInterval)}if(a.autoScroll){y()}n.on("stop",function(){clearInterval(f)});n.on("start",y);h();m()})}})(jQuery);

(function(e){e.fn.bookCarousel=function(i){var a={jsAnimate:true,maxViewCapacity:10,mobileBreakpoint:640,tabletBreakpoint:800,onChange:null,maxIncrement:false,onUpdate:null,autoScroll:false,autoInterval:3e3,bookReveal:90,bookRevealMobile:75};a=e.extend(a,i);if(touch){return this}var n=e(this);n.each(function(){var i=e(this);var n=e(".wrapper",i);var t=e(".inner",i);var l=e(".carousel-control",i);var s=e(".inner > *",i);var r=0;var o=a.bookReveal;var f;var d=e(".bullets",i);var c=false;if(a.jsAnimate){i.addClass("use-js")}function v(){return{carousel:i,controls:l,items:s,currentIndex:r,viewCapacity:f,bulletsContainer:d}}function h(){l.removeClass("inactive");i.addClass("prev-enabled next-enabled");var a=s.filter(".expanded");var n=0;if(a.length>0){n=Math.ceil(a.width()/o)}if(r==0){l.filter(".prev").addClass("inactive");i.removeClass("prev-enabled")}if(r+f===s.length){l.filter(".next").addClass("inactive");i.removeClass("next-enabled")}d.each(function(){var i=s.length;var a=r;var n=e(".bullet",d);if(n.length!=i){n.remove();for(var t=0;t<i;t++){var l=e('<div class="bullet" />');if(a==t){l.addClass("active")}d.append(l)}}else{n.removeClass("active");n.eq(a).addClass("active")}})}function u(){if(e.isFunction(a.onUpdate)){a.onUpdate(v())}if(t.is(":animated")){return}var l=false;if(window.innerWidth<=a.mobileBreakpoint){if(o!=a.bookRevealMobile){l=true;if(!touch){o=a.bookRevealMobile}else{o=s.eq(r).width()}}}else{if(o!=a.bookReveal){l=true;o=a.bookReveal}}var d=s.filter(".expanded");var c=0;s.each(function(e){c+=s.eq(e).width()});t.width(c);var u=a.maxViewCapacity;f=Math.floor(n.width("auto").innerWidth()/o);if(u&&f>u){f=u}if(f==0){f=1}n.width(f*o);if(d.length>0&&d.index()>=r){if(window.innerWidth<=a.tabletBreakpoint){r=d.index()}else{r=d.index()-1}if(r<0){r=0}g()}else if(f+r>=s.length&&s.length>f){r=s.length-f;g()}else if(s.length<=f){r=0;g()}else if(l){g()}if(f>=s.length){i.addClass("carousel-empty");t.css({marginLeft:(n.innerWidth()-t.width())/2})}else{i.removeClass("carousel-empty")}s.removeClass("first-in-view");if(s.length>=f){s.eq(r).addClass("first-in-view")}else{s.eq(0).addClass("first-in-view")}if(r===0){n.addClass("first-active")}else{n.removeClass("first-active")}h()}e(window).on("resize.carousel load.carousel",u);e("img",i).load(u);u();function m(){if(e.isFunction(a.onChange)){a.onChange(r,s.length,f)}}function g(){if(t.is(":animated")){t.stop()}var e;if(f>=s.length){e=(n.innerWidth()-t.width())/2}else{e=o*r*-1;if(r==0){e=0}}if(a.jsAnimate){s.removeClass("active");n.addClass("animating");t.animate({marginLeft:e},500,function(){n.removeClass("animating");s.eq(r).addClass("active")})}else{t.css({marginLeft:e})}h();m();if(a.autoScroll){I()}}function C(e){x(h);if(r+f==s.length){if(e){r=0}else{return false}}else if(r+f==s.length-1){r=s.length-f}else{if(!a.maxIncrement){r+=f;if(r+f>=s.length){r=s.length-f}}else if(f>=a.maxIncrement){r+=a.maxIncrement}else{r++}}g()}function p(){x(h);if(r==0){return false}else if(r==1||r<0){r=0}else{if(!a.maxIncrement){r-=f;if(r<0){r=0}}else if(f>=a.maxIncrement){r-=a.maxIncrement}else{r--}}g()}l.on("click",function(){if(e(this).hasClass("next")){C(false)}else{p()}});d.on("click",".bullet",function(){var i=e(this);if(i.hasClass("active")){return}var a=i.index();r=a;g()});function w(e){var i=0;s.each(function(a){if(a<e){if(s.eq(a).is(":animated")){i+=o}else{i+=s.eq(a).width()}}});return i}function x(i){var a=s.filter(".expanded");if(a.length==0){i()}else{var n=b(a.index());var t=o;if(a.is(":last-child")){t=e("img",a).width()}a.removeClass("expanded").transition({width:t},500,function(){a.width("auto").removeClass("no-hover");if(n){i()}});if(!n){i()}}}function b(e){return e>=r&&e<r+f}e(".expand-trigger",s).on("click",function(a){var n=e(this);var l=n.parents(".item");if(!l.hasClass("expanded")&&!i.hasClass("click-through")){a.preventDefault();if(i.hasClass("click-through")){return}if(mobileView){return}if(s.is(":animated")||l.hasClass("expanded")){return false}l.addClass("no-hover");x(function(){var i=l.innerWidth();l.addClass("expanded").width("auto");var a=e(".expand",l).outerWidth()+e(".expand-trigger img",l).outerWidth()+4;var n=o;if(l.is(":last-child")){n=e("img",l).width()}l.width(n);var f=l.index();if(f>r+1||f==s.length-1||f<r){r=f-1;if(r<0){r=0}g()}t.css({width:"+="+a});l.animate({width:a},500,function(){u()})})}});if(i.hammer){var k=i.hammer();k.on("swipeleft swiperight",function(e){if(e.type=="swipeleft"){C(false)}else{p()}})}function I(){clearInterval(c);c=setInterval(function(){C(true)},a.autoInterval)}if(a.autoScroll){I()}i.on("stop",function(){clearInterval(c)});i.on("start",I);h();m()})}})(jQuery);

(function(t){t.fn.sharearray=function(){var e=t(this);function r(){window.open(this.href,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600");return false}e.each(function(){var e=t(this);var o=e.data("imageurl");var a=e.data("title");var n=e.data("url");if(!o){o=t('meta[name="og:image"]').prop("content")}if(!a){a=document.title}if(!n){n=""+window.location}var i="http://twitter.com/intent/tweet?"+t.param({url:n,text:a});t("a.icon-twitter",e).prop("href",i).on("click",r);var c="http://www.facebook.com/sharer/sharer.php?"+t.param({u:n});t("a.icon-facebook",e).prop("href",c).on("click",r);var p="http://www.pinterest.com/pin/create/button/?"+t.param({url:o,description:a});t("a.icon-pinterest",e).prop("href",p).on("click",r);var h="mailto:?subject="+encodeURIComponent(a)+"&body="+encodeURIComponent(n);t("a.icon-email",e).prop("href",h);var l="https://plus.google.com/share?"+t.param({url:n});t("a.icon-googleplus",e).prop("href",l).on("click",r)});return this}})(jQuery);

(function(e){e.fn.wsautocomplete=function(a){var t={sources:null,appendTo:null};e.extend(t,a);var i=e(this);var s=-1;var n;i.each(function(){input=e(this);if(input.data("autocomplete-active")){return}input.data("autocomplete-active",true);input.prop("autocomplete","off");var a=e('<div class="autocomplete-popout"/>');var i=e('<ul class="outer-list" />');var c=e('<li class="spellchecked" />');i.append(c);a.append(i);var p=e(t.appendTo);if(p&&p.length>0){p.append(a)}else{input.after(a)}e.each(t.sources,function(a,t){var s=e('<li class="source-item" />');t.key=a;var n=e('<ul class="inner-list" />');s.append(n);s.data("source",t);i.append(s)});var r=null;input.on("keyup",function(t){if([13,38,40].indexOf(t.keyCode)==-1){s=-1;var p=input.val();n=p;if(p.length<=3){a.removeClass("active");return}if(p.length>20){return}var u={term:p};if(mobileView){u.sg=3;u.sc=false}if(touch){u.sg=3}var o=input.position();a.css({top:o.top+input.outerHeight()});e(".source-item",i).each(function(){var t=e(this);var i=e(".inner-list",t);var s=t.data("source");if(s.enabled){r=e.ajax({dataType:"json",url:s.url,data:u,beforeSend:function(){if(r!=null){r.abort()}},success:function(s){if(s.ac===false){return}t.show();i.empty();if(s.items.length==0){a.removeClass("active")}else{a.addClass("active")}if(s.spellchecked&&e.trim(s.spellchecked)!=e.trim(s.term)){var n=e('<a class="suggestion" href="#">'+s.spellchecked+"</a>");c.show().html(n);n.on("click",function(e){input.val(s.spellchecked);input.parents("form").trigger("submit");e.preventDefault()})}else{c.hide().html("")}e.each(s.items,function(a,t){if(t.heading){var n=e('<span class="heading" />');n.text(t.heading);i.append(n)}if(t.html){var c=e('<li class="asn asn-pdp" />');c.html(t.html);i.append(c)}if(t.title){var r=e('<li class="asn" />');r.data("item",t);var u=e('<span class="title" />');var o=l(t.title);o=o.replace(new RegExp("("+RegExp.escape(l(e.trim(p)))+")","gi"),"<b>$1</b>");if(s.spellchecked&&e.trim(s.spellchecked)!=e.trim(s.term)){o=o.replace(new RegExp("("+RegExp.escape(l(e.trim(s.spellchecked)))+")","gi"),"<b>$1</b>")}u.html(o);r.append(u)}if(t.subtitle){var r=e('<li  class="asn"/>');r.data("item",t);var d=e('<span class="subtitle" />');d.text(t.subtitle);r.append(d);if(t.format){var f=e('<span class="format" />');f.text(" ("+t.format+")");f.appendTo(d)}}if(t.section){var r=e('<li class="asn asn-sec" />');r.data("item",t);var u=e('<span class="subtitle" />');var o=l(t.section);o=o.replace(new RegExp("("+RegExp.escape(l(e.trim(p)))+")","gi"),"<b>$1</b>");if(s.spellchecked&&e.trim(s.spellchecked)!=e.trim(s.term)){o=o.replace(new RegExp("("+RegExp.escape(l(e.trim(s.spellchecked)))+")","gi"),"<b>$1</b>")}u.html(o);r.append(u)}i.append(r)})}})}else{t.hide()}})}});e(document).on("click",function(e){if(a.hasClass("active")){if(input.has(e.target).length==0){a.removeClass("active")}}});e(".autocomplete-popout").on("click",".inner-list li",function(){var a=e(this);var t=a.data("item");if(t!==undefined){window.location=t.url}});input.on("setSourceEnabled",function(a,t,s){e(".source-item",i).each(function(){var a=e(this);var i=a.data("source");if(i.key==t){i.enabled=s;a.data("source",i)}})})});e("input.input-search").on("keydown",function(a){if(e("div").is(".autocomplete-popout.active")){e("li.asn").removeClass("active");if(a.keyCode==40){if(s!=e("li.asn").length-1){s++}else{e("input.input-search").val(n);s=-1}if(s!=-1){if(e("li.asn:eq("+s+")").hasClass("asn-pdp")||e("li.asn:eq("+s+")").hasClass("asn-sec")){e("input.input-search").val(n)}else{e("input.input-search").val(e("li.asn:eq("+s+")").text())}e("li.asn:eq("+s+")").addClass("active")}}if(a.keyCode==38){a.preventDefault();if(s==0){e("input.input-search").val(n);e("li.asn").removeClass("active");s--}else if(s!=-1){s--;if(e("li.asn:eq("+s+")").hasClass("asn-pdp")||e("li.asn:eq("+s+")").hasClass("asn-sec")){e("input.input-search").val(n)}else{e("input.input-search").val(e("li.asn:eq("+s+")").text())}e("li.asn:eq("+s+")").addClass("active")}else if(s==-1){s=e("li.asn").length-1;e("li.asn:eq("+s+")").addClass("active")}}if(a.keyCode==13){if(s!=-1){e("li.asn:eq("+s+")").addClass("active");a.preventDefault();if(e("li.asn:eq("+s+")").hasClass("asn-pdp")){window.location=e("a","li.asn:eq("+s+")").attr("href")}else{window.location=e("li.asn:eq("+s+")").data("item").url}}}}});RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};function l(a){return e("<div/>").text(a).html()}return this}})(jQuery);

(function(e){"use strict";var t={};t.fileapi=e("<input type='file'/>").get(0).files!==undefined;t.formdata=window.FormData!==undefined;e.fn.ajaxSubmit=function(r){if(!this.length){i("ajaxSubmit: skipping submit process - no element selected");return this}var a,n,o,s=this;if(typeof r=="function"){r={success:r}}a=this.prop("method");n=this.prop("action");o=typeof n==="string"?e.trim(n):"";o=o||window.location.href||"";if(o){o=(o.match(/^([^#]+)/)||[])[1]}r=e.extend(true,{url:o,success:e.ajaxSettings.success,type:a||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r);var u={};this.trigger("form-pre-serialize",[this,r,u]);if(u.veto){i("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(r.beforeSerialize&&r.beforeSerialize(this,r)===false){i("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var f=r.traditional;if(f===undefined){f=e.ajaxSettings.traditional}var l=[];var c,d=this.formToArray(r.semantic,l);if(r.data){r.extraData=r.data;c=e.param(r.data,f)}if(r.beforeSubmit&&r.beforeSubmit(d,this,r)===false){i("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[d,this,r,u]);if(u.veto){i("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var m=e.param(d,f);if(c){m=m?m+"&"+c:c}if(r.type.toUpperCase()=="GET"){r.url+=(r.url.indexOf("?")>=0?"&":"?")+m;r.data=null}else{r.data=m}var p=[];if(r.resetForm){p.push(function(){s.resetForm()})}if(r.clearForm){p.push(function(){s.clearForm(r.includeHidden)})}if(!r.dataType&&r.target){var v=r.success||function(){};p.push(function(t){var a=r.replaceTarget?"replaceWith":"html";e(r.target)[a](t).each(v,arguments)})}else if(r.success){p.push(r.success)}r.success=function(e,t,a){var i=r.context||this;for(var n=0,o=p.length;n<o;n++){p[n].apply(i,[e,t,a||s,s])}};var h=e("input:file:enabled[value]",this);var g=h.length>0;var x="multipart/form-data";var b=s.prop("enctype")==x||s.prop("encoding")==x;var y=t.fileapi&&t.formdata;i("fileAPI :"+y);var T=(g||b)&&!y;var j;if(r.iframe!==false&&(r.iframe||T)){if(r.closeKeepAlive){e.get(r.closeKeepAlive,function(){j=D(d)})}else{j=D(d)}}else if((g||b)&&y){j=k(d)}else{j=e.ajax(r)}s.removeData("jqxhr").data("jqxhr",j);for(var w=0;w<l.length;w++)l[w]=null;this.trigger("form-submit-notify",[this,r]);return this;function S(t){var r=e.param(t).split("&");var a=r.length;var i={};var n,o;for(n=0;n<a;n++){o=r[n].split("=");i[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return i}function k(t){var i=new FormData;for(var n=0;n<t.length;n++){i.append(t[n].name,t[n].value)}if(r.extraData){var o=S(r.extraData);for(var s in o)if(o.hasOwnProperty(s))i.append(s,o[s])}r.data=null;var u=e.extend(true,{},e.ajaxSettings,r,{contentType:false,processData:false,cache:false,type:a||"POST"});if(r.uploadProgress){u.xhr=function(){var e=jQuery.ajaxSettings.xhr();if(e.upload){e.upload.onprogress=function(e){var t=0;var a=e.loaded||e.position;var i=e.total;if(e.lengthComputable){t=Math.ceil(a/i*100)}r.uploadProgress(e,a,i,t)}}return e}}u.data=null;var f=u.beforeSend;u.beforeSend=function(e,t){t.data=i;if(f)f.call(this,e,t)};return e.ajax(u)}function D(t){var n=s[0],o,u,f,c,d,m,p,v,h,g,x,b;var y=!!e.fn.prop;var T=e.Deferred();if(e(":input[name=submit],:input[id=submit]",n).length){alert('Error: Form elements must not have name or id of "submit".');T.reject();return T}if(t){for(u=0;u<l.length;u++){o=e(l[u]);if(y)o.prop("disabled",false);else o.removeAttr("disabled")}}f=e.extend(true,{},e.ajaxSettings,r);f.context=f.context||f;d="jqFormIO"+(new Date).getTime();if(f.iframeTarget){m=e(f.iframeTarget);g=m.prop("name");if(!g)m.prop("name",d);else d=g}else{m=e('<iframe name="'+d+'" src="'+f.iframeSrc+'" />');m.css({position:"absolute",top:"-1000px",left:"-1000px"})}p=m[0];v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r=t==="timeout"?"timeout":"aborted";i("aborting upload... "+r);this.aborted=1;if(p.contentWindow.document.execCommand){try{p.contentWindow.document.execCommand("Stop")}catch(e){}}m.attr("src",f.iframeSrc);v.error=r;if(f.error)f.error.call(f.context,v,r,t);if(c)e.event.trigger("ajaxError",[v,f,r]);if(f.complete)f.complete.call(f.context,v,r)}};c=f.global;if(c&&0===e.active++){e.event.trigger("ajaxStart")}if(c){e.event.trigger("ajaxSend",[v,f])}if(f.beforeSend&&f.beforeSend.call(f.context,v,f)===false){if(f.global){e.active--}T.reject();return T}if(v.aborted){T.reject();return T}h=n.clk;if(h){g=h.name;if(g&&!h.disabled){f.extraData=f.extraData||{};f.extraData[g]=h.value;if(h.type=="image"){f.extraData[g+".x"]=n.clk_x;f.extraData[g+".y"]=n.clk_y}}}var j=1;var w=2;function S(e){var t=e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document;return t}var k=e("meta[name=csrf-token]").attr("content");var D=e("meta[name=csrf-param]").attr("content");if(D&&k){f.extraData=f.extraData||{};f.extraData[D]=k}function A(){var t=s.attr("target"),r=s.attr("action");n.setAttribute("target",d);if(!a){n.setAttribute("method","POST")}if(r!=f.url){n.setAttribute("action",f.url)}if(!f.skipEncodingOverride&&(!a||/post/i.test(a))){s.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(f.timeout){b=setTimeout(function(){x=true;O(j)},f.timeout)}function o(){try{var e=S(p).readyState;i("state = "+e);if(e&&e.toLowerCase()=="uninitialized")setTimeout(o,50)}catch(e){i("Server abort: ",e," (",e.name,")");O(w);if(b)clearTimeout(b);b=undefined}}var u=[];try{if(f.extraData){for(var l in f.extraData){if(f.extraData.hasOwnProperty(l)){if(e.isPlainObject(f.extraData[l])&&f.extraData[l].hasOwnProperty("name")&&f.extraData[l].hasOwnProperty("value")){u.push(e('<input type="hidden" name="'+f.extraData[l].name+'">').attr("value",f.extraData[l].value).appendTo(n)[0])}else{u.push(e('<input type="hidden" name="'+l+'">').attr("value",f.extraData[l]).appendTo(n)[0])}}}}if(!f.iframeTarget){m.appendTo("body");if(p.attachEvent)p.attachEvent("onload",O);else p.addEventListener("load",O,false)}setTimeout(o,15);n.submit()}finally{n.setAttribute("action",r);if(t){n.setAttribute("target",t)}else{s.removeAttr("target")}e(u).remove()}}if(f.forceSync){A()}else{setTimeout(A,10)}var L,E,M=50,F;function O(t){if(v.aborted||F){return}try{E=S(p)}catch(e){i("cannot access response document: ",e);t=w}if(t===j&&v){v.abort("timeout");T.reject(v,"timeout");return}else if(t==w&&v){v.abort("server abort");T.reject(v,"error","server abort");return}if(!E||E.location.href==f.iframeSrc){if(!x)return}if(p.detachEvent)p.detachEvent("onload",O);else p.removeEventListener("load",O,false);var r="success",a;try{if(x){throw"timeout"}var n=f.dataType=="xml"||E.XMLDocument||e.isXMLDoc(E);i("isXml="+n);if(!n&&window.opera&&(E.body===null||!E.body.innerHTML)){if(--M){i("requeing onLoad callback, DOM not available");setTimeout(O,250);return}}var o=E.body?E.body:E.documentElement;v.responseText=o?o.innerHTML:null;v.responseXML=E.XMLDocument?E.XMLDocument:E;if(n)f.dataType="xml";v.getResponseHeader=function(e){var t={"content-type":f.dataType};return t[e]};if(o){v.status=Number(o.getAttribute("status"))||v.status;v.statusText=o.getAttribute("statusText")||v.statusText}var s=(f.dataType||"").toLowerCase();var u=/(json|script|text)/.test(s);if(u||f.textarea){var l=E.getElementsByTagName("textarea")[0];if(l){v.responseText=l.value;v.status=Number(l.getAttribute("status"))||v.status;v.statusText=l.getAttribute("statusText")||v.statusText}else if(u){var d=E.getElementsByTagName("pre")[0];var h=E.getElementsByTagName("body")[0];if(d){v.responseText=d.textContent?d.textContent:d.innerText}else if(h){v.responseText=h.textContent?h.textContent:h.innerText}}}else if(s=="xml"&&!v.responseXML&&v.responseText){v.responseXML=X(v.responseText)}try{L=_(v,s,f)}catch(e){r="parsererror";v.error=a=e||r}}catch(e){i("error caught: ",e);r="error";v.error=a=e||r}if(v.aborted){i("upload aborted");r=null}if(v.status){r=v.status>=200&&v.status<300||v.status===304?"success":"error"}if(r==="success"){if(f.success)f.success.call(f.context,L,"success",v);T.resolve(v.responseText,"success",v);if(c)e.event.trigger("ajaxSuccess",[v,f])}else if(r){if(a===undefined)a=v.statusText;if(f.error)f.error.call(f.context,v,r,a);T.reject(v,"error",a);if(c)e.event.trigger("ajaxError",[v,f,a])}if(c)e.event.trigger("ajaxComplete",[v,f]);if(c&&!--e.active){e.event.trigger("ajaxStop")}if(f.complete)f.complete.call(f.context,v,r);F=true;if(f.timeout)clearTimeout(b);setTimeout(function(){if(!f.iframeTarget)m.remove();v.responseXML=null},100)}var X=e.parseXML||function(e,t){if(window.ActiveXObject){t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(e)}else{t=(new DOMParser).parseFromString(e,"text/xml")}return t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null};var C=e.parseJSON||function(e){return window["eval"]("("+e+")")};var _=function(t,r,a){var i=t.getResponseHeader("content-type")||"",n=r==="xml"||!r&&i.indexOf("xml")>=0,o=n?t.responseXML:t.responseText;if(n&&o.documentElement.nodeName==="parsererror"){if(e.error)e.error("parsererror")}if(a&&a.dataFilter){o=a.dataFilter(o,r)}if(typeof o==="string"){if(r==="json"||!r&&i.indexOf("json")>=0){o=C(o)}else if(r==="script"||!r&&i.indexOf("javascript")>=0){e.globalEval(o)}}return o};return T}};e.fn.ajaxForm=function(t){t=t||{};t.delegation=t.delegation&&e.isFunction(e.fn.on);if(!t.delegation&&this.length===0){var n={s:this.selector,c:this.context};if(!e.isReady&&n.s){i("DOM not ready, queuing ajaxForm");e(function(){e(n.s,n.c).ajaxForm(t)});return this}i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}if(t.delegation){e(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,t,r).on("click.form-plugin",this.selector,t,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",t,r).bind("click.form-plugin",t,a)};function r(t){var r=t.data;if(!t.isDefaultPrevented()){t.preventDefault();e(this).ajaxSubmit(r)}}function a(t){var r=t.target;var a=e(r);if(!a.is(":submit,input:image")){var i=a.closest(":submit");if(i.length===0){return}r=i[0]}var n=this;n.clk=r;if(r.type=="image"){if(t.offsetX!==undefined){n.clk_x=t.offsetX;n.clk_y=t.offsetY}else if(typeof e.fn.offset=="function"){var o=a.offset();n.clk_x=t.pageX-o.left;n.clk_y=t.pageY-o.top}else{n.clk_x=t.pageX-r.offsetLeft;n.clk_y=t.pageY-r.offsetTop}}setTimeout(function(){n.clk=n.clk_x=n.clk_y=null},100)}e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};e.fn.formToArray=function(r,a){var i=[];if(this.length===0){return i}var n=this[0];var o=r?n.getElementsByTagName("*"):n.elements;if(!o){return i}var s,u,f,l,c,d,m;for(s=0,d=o.length;s<d;s++){c=o[s];f=c.name;if(!f){continue}if(r&&n.clk&&c.type=="image"){if(!c.disabled&&n.clk==c){i.push({name:f,value:e(c).val(),type:c.type});i.push({name:f+".x",value:n.clk_x},{name:f+".y",value:n.clk_y})}continue}l=e.fieldValue(c,true);if(l&&l.constructor==Array){if(a)a.push(c);for(u=0,m=l.length;u<m;u++){i.push({name:f,value:l[u]})}}else if(t.fileapi&&c.type=="file"&&!c.disabled){if(a)a.push(c);var p=c.files;if(p.length){for(u=0;u<p.length;u++){i.push({name:f,value:p[u],type:c.type})}}else{i.push({name:f,value:"",type:c.type})}}else if(l!==null&&typeof l!="undefined"){if(a)a.push(c);i.push({name:f,value:l,type:c.type,required:c.required})}}if(!r&&n.clk){var v=e(n.clk),h=v[0];f=h.name;if(f&&!h.disabled&&h.type=="image"){i.push({name:f,value:v.val()});i.push({name:f+".x",value:n.clk_x},{name:f+".y",value:n.clk_y})}}return i};e.fn.formSerialize=function(t){return e.param(this.formToArray(t))};e.fn.fieldSerialize=function(t){var r=[];this.each(function(){var a=this.name;if(!a){return}var i=e.fieldValue(this,t);if(i&&i.constructor==Array){for(var n=0,o=i.length;n<o;n++){r.push({name:a,value:i[n]})}}else if(i!==null&&typeof i!="undefined"){r.push({name:this.name,value:i})}});return e.param(r)};e.fn.fieldValue=function(t){for(var r=[],a=0,i=this.length;a<i;a++){var n=this[a];var o=e.fieldValue(n,t);if(o===null||typeof o=="undefined"||o.constructor==Array&&!o.length){continue}if(o.constructor==Array)e.merge(r,o);else r.push(o)}return r};e.fieldValue=function(t,r){var a=t.name,i=t.type,n=t.tagName.toLowerCase();if(r===undefined){r=true}if(r&&(!a||t.disabled||i=="reset"||i=="button"||(i=="checkbox"||i=="radio")&&!t.checked||(i=="submit"||i=="image")&&t.form&&t.form.clk!=t||n=="select"&&t.selectedIndex==-1)){return null}if(n=="select"){var o=t.selectedIndex;if(o<0){return null}var s=[],u=t.options;var f=i=="select-one";var l=f?o+1:u.length;for(var c=f?o:0;c<l;c++){var d=u[c];if(d.selected){var m=d.value;if(!m){m=d.attributes&&d.attributes["value"]&&!d.attributes["value"].specified?d.text:d.value}if(f){return m}s.push(m)}}return s}return e(t).val()};e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})};e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,i=this.tagName.toLowerCase();if(r.test(a)||i=="textarea"){this.value=""}else if(a=="checkbox"||a=="radio"){this.checked=false}else if(i=="select"){this.selectedIndex=-1}else if(t){if(t===true&&/hidden/.test(a)||typeof t=="string"&&e(this).is(t))this.value=""}})};e.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType){this.reset()}})};e.fn.enable=function(e){if(e===undefined){e=true}return this.each(function(){this.disabled=!e})};e.fn.selected=function(t){if(t===undefined){t=true}return this.each(function(){var r=this.type;if(r=="checkbox"||r=="radio"){this.checked=t}else if(this.tagName.toLowerCase()=="option"){var a=e(this).parent("select");if(t&&a[0]&&a[0].type=="select-one"){a.find("option").selected(false)}this.selected=t}})};e.fn.ajaxSubmit.debug=false;function i(){if(!e.fn.ajaxSubmit.debug)return;var t="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(t)}else if(window.opera&&window.opera.postError){window.opera.postError(t)}}})(jQuery);

(function(t){"function"===typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var i=[],e=t(document),o=navigator.userAgent.toLowerCase(),s=t(window),n=[],d=null,l=/msie/.test(o)&&!/opera/.test(o),a=/opera/.test(o),h,c;h=l&&/msie 6./.test(o)&&"object"!==typeof window.XMLHttpRequest;c=l&&/msie 7.0/.test(o);t.modal=function(i,e){return t.modal.impl.init(i,e)};t.modal.close=function(){t.modal.impl.close()};t.modal.focus=function(i){t.modal.impl.focus(i)};t.modal.setContainerDimensions=function(){t.modal.impl.setContainerDimensions()};t.modal.setPosition=function(){t.modal.impl.setPosition()};t.modal.update=function(i,e){t.modal.impl.update(i,e)};t.fn.modal=function(i){return t.modal.impl.init(this,i)};t.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null};t.modal.impl={d:{},init:function(i,e){if(this.d.data)return!1;d=l&&!t.support.boxModel;this.o=t.extend({},t.modal.defaults,e);this.zIndex=this.o.zIndex;this.occb=!1;if("object"===typeof i){if(i=i instanceof t?i:t(i),this.d.placeholder=!1,0<i.parent().parent().size()&&(i.before(t("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),this.d.placeholder=!0,this.display=i.css("display"),!this.o.persist))this.d.orig=i.clone(!0)}else if("string"===typeof i||"number"===typeof i)i=t("<div></div>").html(i);else return alert("SimpleModal Error: Unsupported data type: "+typeof i),this;this.create(i);this.open();t.isFunction(this.o.onShow)&&this.o.onShow.apply(this,[this.d]);return this},create:function(e){this.getDimensions();if(this.o.modal&&h)this.d.iframe=t('<iframe src="javascript:false;"></iframe>').css(t.extend(this.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:n[0],width:n[1],zIndex:this.o.zIndex,top:0,left:0})).appendTo(this.o.appendTo);this.d.overlay=t("<div></div>").attr("id",this.o.overlayId).addClass("simplemodal-overlay").css(t.extend(this.o.overlayCss,{display:"none",opacity:this.o.opacity/100,height:this.o.modal?i[0]:0,width:this.o.modal?i[1]:0,position:"fixed",left:0,top:0,zIndex:this.o.zIndex+1})).appendTo(this.o.appendTo);this.d.container=t("<div></div>").attr("id",this.o.containerId).addClass("simplemodal-container").css(t.extend({position:this.o.fixed?"fixed":"absolute"},this.o.containerCss,{display:"none",zIndex:this.o.zIndex+2})).append(this.o.close&&this.o.closeHTML?t(this.o.closeHTML).addClass(this.o.closeClass):"").appendTo(this.o.appendTo);this.d.wrap=t("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(this.d.container);this.d.data=e.attr("id",e.attr("id")||this.o.dataId).addClass("simplemodal-data").css(t.extend(this.o.dataCss,{display:"none"})).appendTo("body");this.setContainerDimensions();this.d.data.appendTo(this.d.wrap);(h||d)&&this.fixIE()},bindEvents:function(){var o=this;t("."+o.o.closeClass).bind("click.simplemodal",function(t){t.preventDefault();o.close()});o.o.modal&&o.o.close&&o.o.overlayClose&&o.d.overlay.bind("click.simplemodal",function(t){t.preventDefault();o.close()});e.bind("keydown.simplemodal",function(t){o.o.modal&&9===t.keyCode?o.watchTab(t):o.o.close&&o.o.escClose&&27===t.keyCode&&(t.preventDefault(),o.close())});s.bind("resize.simplemodal orientationchange.simplemodal",function(){o.getDimensions();o.o.autoResize?o.setContainerDimensions():o.o.autoPosition&&o.setPosition();h||d?o.fixIE():o.o.modal&&(o.d.iframe&&o.d.iframe.css({height:n[0],width:n[1]}),o.d.overlay.css({height:i[0],width:i[1]}))})},unbindEvents:function(){t("."+this.o.closeClass).unbind("click.simplemodal");e.unbind("keydown.simplemodal");s.unbind(".simplemodal");this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var i=this.o.position;t.each([this.d.iframe||null,!this.o.modal?null:this.d.overlay,"fixed"===this.d.container.css("position")?this.d.container:null],function(t,e){if(e){var o=e[0].style;o.position="absolute";if(2>t)o.removeExpression("height"),o.removeExpression("width"),o.setExpression("height",'document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight + "px"'),o.setExpression("width",'document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth + "px"');else{var s,n;i&&i.constructor===Array?(s=i[0]?"number"===typeof i[0]?i[0].toString():i[0].replace(/px/,""):e.css("top").replace(/px/,""),s=-1===s.indexOf("%")?s+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(s.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',i[1]&&(n="number"===typeof i[1]?i[1].toString():i[1].replace(/px/,""),n=-1===n.indexOf("%")?n+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(n.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"')):(s='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',n='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"');o.removeExpression("top");o.removeExpression("left");o.setExpression("top",s);o.setExpression("left",n)}}})},focus:function(i){var e=this,i=i&&-1!==t.inArray(i,["first","last"])?i:"first",o=t(":input:enabled:visible:"+i,e.d.wrap);setTimeout(function(){0<o.length?o.focus():e.d.wrap.focus()},10)},getDimensions:function(){var t="undefined"===typeof window.innerHeight?s.height():window.innerHeight;i=[e.height(),e.width()];n=[t,s.width()]},getVal:function(t,i){return t?"number"===typeof t?t:"auto"===t?0:0<t.indexOf("%")?parseInt(t.replace(/%/,""))/100*("h"===i?n[0]:n[1]):parseInt(t.replace(/px/,"")):null},update:function(t,i){if(!this.d.data)return!1;this.d.origHeight=this.getVal(t,"h");this.d.origWidth=this.getVal(i,"w");this.d.data.hide();t&&this.d.container.css("height",t);i&&this.d.container.css("width",i);this.setContainerDimensions();this.d.data.show();this.o.focus&&this.focus();this.unbindEvents();this.bindEvents()},setContainerDimensions:function(){var t=h||c,i=this.d.origHeight?this.d.origHeight:a?this.d.container.height():this.getVal(t?this.d.container[0].currentStyle.height:this.d.container.css("height"),"h"),t=this.d.origWidth?this.d.origWidth:a?this.d.container.width():this.getVal(t?this.d.container[0].currentStyle.width:this.d.container.css("width"),"w"),e=this.d.data.outerHeight(!0),o=this.d.data.outerWidth(!0);this.d.origHeight=this.d.origHeight||i;this.d.origWidth=this.d.origWidth||t;var s=this.o.maxHeight?this.getVal(this.o.maxHeight,"h"):null,d=this.o.maxWidth?this.getVal(this.o.maxWidth,"w"):null,s=s&&s<n[0]?s:n[0],d=d&&d<n[1]?d:n[1],l=this.o.minHeight?this.getVal(this.o.minHeight,"h"):"auto",i=i?this.o.autoResize&&i>s?s:i<l?l:i:e?e>s?s:this.o.minHeight&&"auto"!==l&&e<l?l:e:l,s=this.o.minWidth?this.getVal(this.o.minWidth,"w"):"auto",t=t?this.o.autoResize&&t>d?d:t<s?s:t:o?o>d?d:this.o.minWidth&&"auto"!==s&&o<s?s:o:s;this.d.container.css({height:i,width:t});this.d.wrap.css({overflow:e>i||o>t?"auto":"visible"});this.o.autoPosition&&this.setPosition()},setPosition:function(){var t,i;t=n[0]/2-this.d.container.outerHeight(!0)/2;i=n[1]/2-this.d.container.outerWidth(!0)/2;var e="fixed"!==this.d.container.css("position")?s.scrollTop():0;this.o.position&&"[object Array]"===Object.prototype.toString.call(this.o.position)?(t=e+(this.o.position[0]||t),i=this.o.position[1]||i):t=e+t;this.d.container.css({left:i,top:t})},watchTab:function(i){if(0<t(i.target).parents(".simplemodal-container").length){if(this.inputs=t(":input:enabled:visible:first, :input:enabled:visible:last",this.d.data[0]),!i.shiftKey&&i.target===this.inputs[this.inputs.length-1]||i.shiftKey&&i.target===this.inputs[0]||0===this.inputs.length)i.preventDefault(),this.focus(i.shiftKey?"last":"first")}else i.preventDefault(),this.focus()},open:function(){this.d.iframe&&this.d.iframe.show();t.isFunction(this.o.onOpen)?this.o.onOpen.apply(this,[this.d]):(this.d.overlay.show(),this.d.container.show(),this.d.data.show());this.o.focus&&this.focus();this.bindEvents()},close:function(){if(!this.d.data)return!1;this.unbindEvents();if(t.isFunction(this.o.onClose)&&!this.occb)this.occb=!0,this.o.onClose.apply(this,[this.d]);else{if(this.d.placeholder){var i=t("#simplemodal-placeholder");this.o.persist?i.replaceWith(this.d.data.removeClass("simplemodal-data").css("display",this.display)):(this.d.data.hide().remove(),i.replaceWith(this.d.orig))}else this.d.data.hide().remove();this.d.container.hide().remove();this.d.overlay.hide();this.d.iframe&&this.d.iframe.hide().remove();this.d.overlay.remove();this.d={}}}}});

(function(t){"use strict";var e="dotdotdot";var i="3.2.3";if(t[e]&&t[e].version>i){return}t[e]=function(t,i){this.$dot=t;this.api=["getInstance","truncate","restore","destroy","watch","unwatch"];this.opts=i;var n=this.$dot.data(e);if(n){n.destroy()}this.init();this.truncate();if(this.opts.watch){this.watch()}return this};t[e].version=i;t[e].uniqueId=0;t[e].defaults={ellipsis:"â¦ ",callback:function(t){},truncate:"word",tolerance:0,keep:null,watch:"window",height:null};t[e].prototype={init:function(){this.watchTimeout=null;this.watchInterval=null;this.uniqueId=t[e].uniqueId++;this.originalStyle=this.$dot.attr("style")||"";this.originalContent=this._getOriginalContent();if(this.$dot.css("word-wrap")!=="break-word"){this.$dot.css("word-wrap","break-word")}if(this.$dot.css("white-space")==="nowrap"){this.$dot.css("white-space","normal")}if(this.opts.height===null){this.opts.height=this._getMaxHeight()}if(typeof this.opts.ellipsis=="string"){this.opts.ellipsis=document.createTextNode(this.opts.ellipsis)}},getInstance:function(){return this},truncate:function(){var t=this;this.$inner=this.$dot.wrapInner("<div />").children().css({display:"block",height:"auto",width:"auto",border:"none",padding:0,margin:0});this.$inner.empty().append(this.originalContent.clone(true));this.maxHeight=this._getMaxHeight();var e=false;if(!this._fits()){e=true;this._truncateToNode(this.$inner[0])}this.$dot[e?"addClass":"removeClass"](n.truncated);this.$inner.replaceWith(this.$inner.contents());this.$inner=null;this.opts.callback.call(this.$dot[0],e);return e},restore:function(){this.unwatch();this.$dot.empty().append(this.originalContent).attr("style",this.originalStyle).removeClass(n.truncated)},destroy:function(){this.restore();this.$dot.data(e,null)},watch:function(){var t=this;this.unwatch();var e={};if(this.opts.watch=="window"){o.on(r.resize+t.uniqueId,function(i){if(t.watchTimeout){clearTimeout(t.watchTimeout)}t.watchTimeout=setTimeout(function(){e=t._watchSizes(e,o,"width","height")},100)})}else{this.watchInterval=setInterval(function(){e=t._watchSizes(e,t.$dot,"innerWidth","innerHeight")},500)}},unwatch:function(){o.off(r.resize+this.uniqueId);if(this.watchInterval){clearInterval(this.watchInterval)}if(this.watchTimeout){clearTimeout(this.watchTimeout)}},_api:function(){var e=this,i={};t.each(this.api,function(t){var n=this;i[n]=function(){var t=e[n].apply(e,arguments);return typeof t=="undefined"?i:t}});return i},_truncateToNode:function(e){var i=this;var s=[],r=[];t(e).contents().each(function(){var e=t(this);if(!e.hasClass(n.keep)){var i=document.createComment("");e.replaceWith(i);r.push(this);s.push(i)}});if(!r.length){return}for(var o=0;o<r.length;o++){t(s[o]).replaceWith(r[o]);t(r[o]).append(this.opts.ellipsis);var a=this._fits();t(this.opts.ellipsis,r[o]).remove();if(!a){if(this.opts.truncate=="node"&&o>1){t(r[o-2]).remove();return}break}}for(var h=o;h<s.length;h++){t(s[h]).remove()}var d=r[Math.max(0,Math.min(o,r.length-1))];if(d.nodeType==1){var u=t("<"+d.nodeName+" />");u.append(this.opts.ellipsis);t(d).replaceWith(u);if(this._fits()){u.replaceWith(d)}else{u.remove();d=r[Math.max(0,o-1)]}}if(d.nodeType==1){this._truncateToNode(d)}else{this._truncateToWord(d)}},_truncateToWord:function(t){var e=t;var i=this;var n=this.__getTextContent(e),s=n.indexOf(" ")!==-1?" ":"ã",r=n.split(s),o="";for(var a=r.length;a>=0;a--){o=r.slice(0,a).join(s);i.__setTextContent(e,i._addEllipsis(o));if(i._fits()){if(i.opts.truncate=="letter"){i.__setTextContent(e,r.slice(0,a+1).join(s));i._truncateToLetter(e)}break}}},_truncateToLetter:function(t){var e=this;var i=this.__getTextContent(t),n=i.split(""),s="";for(var r=n.length;r>=0;r--){s=n.slice(0,r).join("");if(!s.length){continue}e.__setTextContent(t,e._addEllipsis(s));if(e._fits()){break}}},_fits:function(){return this.$inner.innerHeight()<=this.maxHeight+this.opts.tolerance},_addEllipsis:function(e){var i=[" ","ã",",",";",".","!","?"];while(t.inArray(e.slice(-1),i)>-1){e=e.slice(0,-1)}e+=this.__getTextContent(this.opts.ellipsis);return e},_getOriginalContent:function(){var e=this;this.$dot.find("script, style").addClass(n.keep);if(this.opts.keep){this.$dot.find(this.opts.keep).addClass(n.keep)}this.$dot.find("*").not("."+n.keep).add(this.$dot).contents().each(function(){var i=this,n=t(this);if(i.nodeType==3){if(t.trim(e.__getTextContent(i))==""){if(n.parent().is("table, thead, tbody, tfoot, tr, dl, ul, ol, video")){n.remove();return}if(n.prev().is("div, p, table, td, td, dt, dd, li")){n.remove();return}if(n.next().is("div, p, table, td, td, dt, dd, li")){n.remove();return}if(!n.prev().length){n.remove();return}if(!n.next().length){n.remove();return}}}else if(i.nodeType==8){n.remove()}});return this.$dot.contents()},_getMaxHeight:function(){if(typeof this.opts.height=="number"){return this.opts.height}var t=["maxHeight","height"],e=0;for(var i=0;i<t.length;i++){e=window.getComputedStyle(this.$dot[0])[t[i]];if(e.slice(-2)=="px"){e=parseFloat(e);break}}var t=[];switch(this.$dot.css("boxSizing")){case"border-box":t.push("borderTopWidth");t.push("borderBottomWidth");case"padding-box":t.push("paddingTop");t.push("paddingBottom");break}for(var i=0;i<t.length;i++){var n=window.getComputedStyle(this.$dot[0])[t[i]];if(n.slice(-2)=="px"){e-=parseFloat(n)}}return Math.max(e,0)},_watchSizes:function(t,e,i,n){if(this.$dot.is(":visible")){var s={width:e[i](),height:e[n]()};if(t.width!=s.width||t.height!=s.height){this.truncate()}return s}return t},__getTextContent:function(t){var e=["nodeValue","textContent","innerText"];for(var i=0;i<e.length;i++){if(typeof t[e[i]]=="string"){return t[e[i]]}}return""},__setTextContent:function(t,e){var i=["nodeValue","textContent","innerText"];for(var n=0;n<i.length;n++){t[i[n]]=e}}};t.fn[e]=function(i){a();i=t.extend(true,{},t[e].defaults,i);return this.each(function(){t(this).data(e,new t[e](t(this),i)._api())})};var n,s,r,o;function a(){o=t(window);n={};s={};r={};t.each([n,s,r],function(t,e){e.add=function(t){t=t.split(" ");for(var i=0,n=t.length;i<n;i++){e[t[i]]=e.ddd(t[i])}}});n.ddd=function(t){return"ddd-"+t};n.add("truncated keep");s.ddd=function(t){return"ddd-"+t};r.ddd=function(t){return t+".ddd"};r.add("resize");a=function(){}}})(jQuery);

(function(t,o,e){var i="tooltipster",n={animation:"fade",arrow:true,arrowColor:"",autoClose:true,content:null,contentAsHTML:false,contentCloning:true,debug:true,delay:200,minWidth:0,maxWidth:null,functionInit:function(t,o){},functionBefore:function(t,o){o()},functionReady:function(t,o){},functionAfter:function(t){},icon:"(?)",iconCloning:true,iconDesktop:false,iconTouch:false,iconTheme:"tooltipster-icon",interactive:false,interactiveTolerance:350,multiple:false,offsetX:0,offsetY:0,onlyOne:false,position:"top",positionTracker:false,speed:350,timer:0,theme:"tooltipster-default",touchDevices:true,trigger:"hover",updateAnimation:true};function s(o,e){this.bodyOverflowX;this.callbacks={hide:[],show:[]};this.checkInterval=null;this.Content;this.$el=t(o);this.$elProxy;this.elProxyPosition;this.enabled=true;this.options=t.extend({},n,e);this.mouseIsOverProxy=false;this.namespace="tooltipster-"+Math.round(Math.random()*1e5);this.Status="hidden";this.timerHide=null;this.timerShow=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this._init()}s.prototype={_init:function(){var o=this;if(e.querySelector){if(o.options.content!==null){o._content_set(o.options.content)}else{var i=o.$el.attr("title");if(typeof i==="undefined")i=null;o._content_set(i)}var n=o.options.functionInit.call(o.$el,o.$el,o.Content);if(typeof n!=="undefined")o._content_set(n);o.$el.removeAttr("title").addClass("tooltipstered");if(!l&&o.options.iconDesktop||l&&o.options.iconTouch){if(typeof o.options.icon==="string"){o.$elProxy=t('<span class="'+o.options.iconTheme+'"></span>');o.$elProxy.text(o.options.icon)}else{if(o.options.iconCloning)o.$elProxy=o.options.icon.clone(true);else o.$elProxy=o.options.icon}o.$elProxy.insertAfter(o.$el)}else{o.$elProxy=o.$el}if(o.options.trigger=="hover"){o.$elProxy.on("mouseenter."+o.namespace,function(){if(!f()||o.options.touchDevices){o.mouseIsOverProxy=true;o._show()}}).on("mouseleave."+o.namespace,function(){if(!f()||o.options.touchDevices){o.mouseIsOverProxy=false}});if(l&&o.options.touchDevices){o.$elProxy.on("touchstart."+o.namespace,function(){o._showNow()})}}else if(o.options.trigger=="click"){o.$elProxy.on("click."+o.namespace,function(){if(!f()||o.options.touchDevices){o._show()}})}}},_show:function(){var t=this;if(t.Status!="shown"&&t.Status!="appearing"){if(t.options.delay){t.timerShow=setTimeout(function(){if(t.options.trigger=="click"||t.options.trigger=="hover"&&t.mouseIsOverProxy){t._showNow()}},t.options.delay)}else t._showNow()}},_showNow:function(e){var i=this;i.options.functionBefore.call(i.$el,i.$el,function(){if(i.enabled&&i.Content!==null){if(e)i.callbacks.show.push(e);i.callbacks.hide=[];clearTimeout(i.timerShow);i.timerShow=null;clearTimeout(i.timerHide);i.timerHide=null;if(i.options.onlyOne){t(".tooltipstered").not(i.$el).each(function(o,e){var i=t(e),n=i.data("tooltipster-ns");t.each(n,function(t,o){var e=i.data(o),n=e.status(),s=e.option("autoClose");if(n!=="hidden"&&n!=="disappearing"&&s){e.hide()}})})}var n=function(){i.Status="shown";t.each(i.callbacks.show,function(t,o){o.call(i.$el)});i.callbacks.show=[]};if(i.Status!=="hidden"){var s=0;if(i.Status==="disappearing"){i.Status="appearing";if(p()){i.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+i.options.animation+"-show");if(i.options.speed>0)i.$tooltip.delay(i.options.speed);i.$tooltip.queue(n)}else{i.$tooltip.stop().fadeIn(n)}}else if(i.Status==="shown"){n()}}else{i.Status="appearing";var s=i.options.speed;i.bodyOverflowX=t("body").css("overflow-x");t("body").css("overflow-x","hidden");var r="tooltipster-"+i.options.animation,a="-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;",f=i.options.minWidth?"min-width:"+Math.round(i.options.minWidth)+"px;":"",d=i.options.maxWidth?"max-width:"+Math.round(i.options.maxWidth)+"px;":"",c=i.options.interactive?"pointer-events: auto;":"";i.$tooltip=t('<div class="tooltipster-base '+i.options.theme+'" style="'+f+" "+d+" "+c+" "+a+'"><div class="tooltipster-content"></div></div>');if(p())i.$tooltip.addClass(r);i._content_insert();i.$tooltip.appendTo("body");i.reposition();i.options.functionReady.call(i.$el,i.$el,i.$tooltip);if(p()){i.$tooltip.addClass(r+"-show");if(i.options.speed>0)i.$tooltip.delay(i.options.speed);i.$tooltip.queue(n)}else{i.$tooltip.css("display","none").fadeIn(i.options.speed,n)}i._interval_set();t(o).on("scroll."+i.namespace+" resize."+i.namespace,function(){i.reposition()});if(i.options.autoClose){t("body").off("."+i.namespace);if(i.options.trigger=="hover"){if(l){setTimeout(function(){t("body").on("touchstart."+i.namespace,function(){i.hide()})},0)}if(i.options.interactive){if(l){i.$tooltip.on("touchstart."+i.namespace,function(t){t.stopPropagation()})}var h=null;i.$elProxy.add(i.$tooltip).on("mouseleave."+i.namespace+"-autoClose",function(){clearTimeout(h);h=setTimeout(function(){i.hide()},i.options.interactiveTolerance)}).on("mouseenter."+i.namespace+"-autoClose",function(){clearTimeout(h)})}else{i.$elProxy.on("mouseleave."+i.namespace+"-autoClose",function(){i.hide()})}}else if(i.options.trigger=="click"){setTimeout(function(){t("body").on("click."+i.namespace+" touchstart."+i.namespace,function(){i.hide()})},0);if(i.options.interactive){i.$tooltip.on("click."+i.namespace+" touchstart."+i.namespace,function(t){t.stopPropagation()})}}}}if(i.options.timer>0){i.timerHide=setTimeout(function(){i.timerHide=null;i.hide()},i.options.timer+s)}}})},_interval_set:function(){var o=this;o.checkInterval=setInterval(function(){if(t("body").find(o.$el).length===0||t("body").find(o.$elProxy).length===0||o.Status=="hidden"||t("body").find(o.$tooltip).length===0){if(o.Status=="shown"||o.Status=="appearing")o.hide();o._interval_cancel()}else{if(o.options.positionTracker){var e=o._repositionInfo(o.$elProxy),i=false;if(r(e.dimension,o.elProxyPosition.dimension)){if(o.$elProxy.css("position")==="fixed"){if(r(e.position,o.elProxyPosition.position))i=true}else{if(r(e.offset,o.elProxyPosition.offset))i=true}}if(!i){o.reposition()}}}},200)},_interval_cancel:function(){clearInterval(this.checkInterval);this.checkInterval=null},_content_set:function(t){if(typeof t==="object"&&t!==null&&this.options.contentCloning){t=t.clone(true)}this.Content=t},_content_insert:function(){var t=this,o=this.$tooltip.find(".tooltipster-content");if(typeof t.Content==="string"&&!t.options.contentAsHTML){o.text(t.Content)}else{o.empty().append(t.Content)}},_update:function(t){var o=this;o._content_set(t);if(o.Content!==null){if(o.Status!=="hidden"){o._content_insert();o.reposition();if(o.options.updateAnimation){if(p()){o.$tooltip.css({width:"","-webkit-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing");setTimeout(function(){if(o.Status!="hidden"){o.$tooltip.removeClass("tooltipster-content-changing");setTimeout(function(){if(o.Status!=="hidden"){o.$tooltip.css({"-webkit-transition":o.options.speed+"ms","-moz-transition":o.options.speed+"ms","-o-transition":o.options.speed+"ms","-ms-transition":o.options.speed+"ms",transition:o.options.speed+"ms"})}},o.options.speed)}},o.options.speed)}else{o.$tooltip.fadeTo(o.options.speed,.5,function(){if(o.Status!="hidden"){o.$tooltip.fadeTo(o.options.speed,1)}})}}}}else{o.hide()}},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(false),width:t.outerWidth(false)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(e){var i=this;if(e)i.callbacks.hide.push(e);i.callbacks.show=[];clearTimeout(i.timerShow);i.timerShow=null;clearTimeout(i.timerHide);i.timerHide=null;var n=function(){t.each(i.callbacks.hide,function(t,o){o.call(i.$el)});i.callbacks.hide=[]};if(i.Status=="shown"||i.Status=="appearing"){i.Status="disappearing";var s=function(){i.Status="hidden";if(typeof i.Content=="object"&&i.Content!==null){i.Content.detach()}i.$tooltip.remove();i.$tooltip=null;t(o).off("."+i.namespace);t("body").off("."+i.namespace).css("overflow-x",i.bodyOverflowX);t("body").off("."+i.namespace);i.$elProxy.off("."+i.namespace+"-autoClose");i.options.functionAfter.call(i.$el,i.$el);n()};if(p()){i.$tooltip.clearQueue().removeClass("tooltipster-"+i.options.animation+"-show").addClass("tooltipster-dying");if(i.options.speed>0)i.$tooltip.delay(i.options.speed);i.$tooltip.queue(s)}else{i.$tooltip.stop().fadeOut(i.options.speed,s)}}else if(i.Status=="hidden"){n()}return i},show:function(t){this._showNow(t);return this},update:function(t){return this.content(t)},content:function(t){if(typeof t==="undefined"){return this.Content}else{this._update(t);return this}},reposition:function(){var e=this;if(t("body").find(e.$tooltip).length!==0){e.$tooltip.css("width","");e.elProxyPosition=e._repositionInfo(e.$elProxy);var i=null,n=t(o).width(),s=e.elProxyPosition,r=e.$tooltip.outerWidth(false),l=e.$tooltip.innerWidth()+1,a=e.$tooltip.outerHeight(false);if(e.$elProxy.is("area")){var f=e.$elProxy.attr("shape"),p=e.$elProxy.parent().attr("name"),d=t('img[usemap="#'+p+'"]'),c=d.offset().left,h=d.offset().top,u=e.$elProxy.attr("coords")!==undefined?e.$elProxy.attr("coords").split(","):undefined;if(f=="circle"){var m=parseInt(u[0]),v=parseInt(u[1]),$=parseInt(u[2]);s.dimension.height=$*2;s.dimension.width=$*2;s.offset.top=h+v-$;s.offset.left=c+m-$}else if(f=="rect"){var m=parseInt(u[0]),v=parseInt(u[1]),g=parseInt(u[2]),w=parseInt(u[3]);s.dimension.height=w-v;s.dimension.width=g-m;s.offset.top=h+v;s.offset.left=c+m}else if(f=="poly"){var y=[],b=[],x=0,P=0,C=0,_=0,T="even";for(var k=0;k<u.length;k++){var I=parseInt(u[k]);if(T=="even"){if(I>C){C=I;if(k===0){x=C}}if(I<x){x=I}T="odd"}else{if(I>_){_=I;if(k==1){P=_}}if(I<P){P=I}T="even"}}s.dimension.height=_-P;s.dimension.width=C-x;s.offset.top=h+P;s.offset.left=c+x}else{s.dimension.height=d.outerHeight(false);s.dimension.width=d.outerWidth(false);s.offset.top=h;s.offset.left=c}}var S=0,O=0,H=0,M=parseInt(e.options.offsetY),D=parseInt(e.options.offsetX),W=e.options.position;function A(){var e=t(o).scrollLeft();if(S-e<0){i=S-e;S=e}if(S+r-e>n){i=S-(n+e-r);S=n+e-r}}function z(e,i){if(s.offset.top-t(o).scrollTop()-a-M-12<0&&i.indexOf("top")>-1){W=e}if(s.offset.top+s.dimension.height+a+12+M>t(o).scrollTop()+t(o).height()&&i.indexOf("bottom")>-1){W=e;H=s.offset.top-a-M-12}}if(W=="top"){var F=s.offset.left+r-(s.offset.left+s.dimension.width);S=s.offset.left+D-F/2;H=s.offset.top-a-M-12;A();z("bottom","top")}if(W=="top-left"){S=s.offset.left+D;H=s.offset.top-a-M-12;A();z("bottom-left","top-left")}if(W=="top-right"){S=s.offset.left+s.dimension.width+D-r;H=s.offset.top-a-M-12;A();z("bottom-right","top-right")}if(W=="bottom"){var F=s.offset.left+r-(s.offset.left+s.dimension.width);S=s.offset.left-F/2+D;H=s.offset.top+s.dimension.height+M+12;A();z("top","bottom")}if(W=="bottom-left"){S=s.offset.left+D;H=s.offset.top+s.dimension.height+M+12;A();z("top-left","bottom-left")}if(W=="bottom-right"){S=s.offset.left+s.dimension.width+D-r;H=s.offset.top+s.dimension.height+M+12;A();z("top-right","bottom-right")}if(W=="left"){S=s.offset.left-D-r-12;O=s.offset.left+D+s.dimension.width+12;var N=s.offset.top+a-(s.offset.top+s.dimension.height);H=s.offset.top-N/2-M;if(S<0&&O+r>n){var X=parseFloat(e.$tooltip.css("border-width"))*2,q=r+S-X;e.$tooltip.css("width",q+"px");a=e.$tooltip.outerHeight(false);S=s.offset.left-D-q-12-X;N=s.offset.top+a-(s.offset.top+s.dimension.height);H=s.offset.top-N/2-M}else if(S<0){S=s.offset.left+D+s.dimension.width+12;i="left"}}if(W=="right"){S=s.offset.left+D+s.dimension.width+12;O=s.offset.left-D-r-12;var N=s.offset.top+a-(s.offset.top+s.dimension.height);H=s.offset.top-N/2-M;if(S+r>n&&O<0){var X=parseFloat(e.$tooltip.css("border-width"))*2,q=n-S-X;e.$tooltip.css("width",q+"px");a=e.$tooltip.outerHeight(false);N=s.offset.top+a-(s.offset.top+s.dimension.height);H=s.offset.top-N/2-M}else if(S+r>n){S=s.offset.left-D-r-12;i="right"}}if(e.options.arrow){var j="tooltipster-arrow-"+W;if(e.options.arrowColor.length<1){var E=e.$tooltip.css("background-color")}else{var E=e.options.arrowColor}if(!i){i=""}else if(i=="left"){j="tooltipster-arrow-right";i=""}else if(i=="right"){j="tooltipster-arrow-left";i=""}else{i="left:"+Math.round(i)+"px;"}if(W=="top"||W=="top-left"||W=="top-right"){var L=parseFloat(e.$tooltip.css("border-bottom-width")),Q=e.$tooltip.css("border-bottom-color")}else if(W=="bottom"||W=="bottom-left"||W=="bottom-right"){var L=parseFloat(e.$tooltip.css("border-top-width")),Q=e.$tooltip.css("border-top-color")}else if(W=="left"){var L=parseFloat(e.$tooltip.css("border-right-width")),Q=e.$tooltip.css("border-right-color")}else if(W=="right"){var L=parseFloat(e.$tooltip.css("border-left-width")),Q=e.$tooltip.css("border-left-color")}else{var L=parseFloat(e.$tooltip.css("border-bottom-width")),Q=e.$tooltip.css("border-bottom-color")}if(L>1){L++}var U="";if(L!==0){var Y="",B="border-color: "+Q+";";if(j.indexOf("bottom")!==-1){Y="margin-top: -"+Math.round(L)+"px;"}else if(j.indexOf("top")!==-1){Y="margin-bottom: -"+Math.round(L)+"px;"}else if(j.indexOf("left")!==-1){Y="margin-right: -"+Math.round(L)+"px;"}else if(j.indexOf("right")!==-1){Y="margin-left: -"+Math.round(L)+"px;"}U='<span class="tooltipster-arrow-border" style="'+Y+" "+B+';"></span>'}e.$tooltip.find(".tooltipster-arrow").remove();var R='<div class="'+j+' tooltipster-arrow" style="'+i+'">'+U+'<span style="border-color:'+E+';"></span></div>';e.$tooltip.append(R)}e.$tooltip.css({top:Math.round(H)+"px",left:Math.round(S)+"px"})}return e},enable:function(){this.enabled=true;return this},disable:function(){this.hide();this.enabled=false;return this},destroy:function(){var o=this;o.hide();if(o.$el[0]!==o.$elProxy[0])o.$elProxy.remove();o.$el.removeData(o.namespace).off("."+o.namespace);var e=o.$el.data("tooltipster-ns");if(e.length===1){var i=typeof o.Content==="string"?o.Content:t("<div></div>").append(o.Content).html();o.$el.removeClass("tooltipstered").attr("title",i).removeData(o.namespace).removeData("tooltipster-ns").off("."+o.namespace)}else{e=t.grep(e,function(t,e){return t!==o.namespace});o.$el.data("tooltipster-ns",e)}return o},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:undefined},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:undefined},option:function(t,o){if(typeof o=="undefined")return this.options[t];else{this.options[t]=o;return this}},status:function(){return this.Status}};t.fn[i]=function(){var o=arguments;if(this.length===0){if(typeof o[0]==="string"){var e=true;switch(o[0]){case"setDefaults":t.extend(n,o[1]);break;default:e=false;break}if(e)return true;else return this}else{return this}}else{if(typeof o[0]==="string"){var i="#*$~&";this.each(function(){var e=t(this).data("tooltipster-ns"),n=e?t(this).data(e[0]):null;if(n){if(typeof n[o[0]]==="function"){var s=n[o[0]](o[1],o[2])}else{throw new Error('Unknown method .tooltipster("'+o[0]+'")')}if(s!==n){i=s;return false}}else{throw new Error("You called Tooltipster's \""+o[0]+'" method on an uninitialized element')}});return i!=="#*$~&"?i:this}else{var r=[],l=o[0]&&typeof o[0].multiple!=="undefined",a=l&&o[0].multiple||!l&&n.multiple;this.each(function(){var e=false,i=t(this).data("tooltipster-ns"),n=null;if(!i){e=true}else if(a){e=true}else if(self.options.debug){console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.')}if(e){n=new s(this,o[0]);if(!i)i=[];i.push(n.namespace);t(this).data("tooltipster-ns",i);t(this).data(n.namespace,n)}r.push(n)});if(a)return r;else return this}}};function r(o,e){var i=true;t.each(o,function(t,n){if(typeof e[t]==="undefined"||o[t]!==e[t]){i=false;return false}});return i}var l=!!("ontouchstart"in o);var a=false;t("body").one("mousemove",function(){a=true});function f(){return!a&&l}function p(){var t=e.body||e.documentElement,o=t.style,i="transition";if(typeof o[i]=="string"){return true}v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var n=0;n<v.length;n++){if(typeof o[v[n]+i]=="string"){return true}}return false}})(jQuery,window,document);

(function(t){t.fn.basketUpdate=function(e){var a={preUpdate:null,postUpdate:null};a=t.extend(a,e);var d=t(this);var i=t(".basket-count");d.each(function(){var e=t(this);e.on("submit",function(){if(t.isFunction(a.preUpdate)){a.preUpdate()}var d=e.serializeArray().reduce(function(t,e){t[e.name]=e.value;return t},{});e.ajaxSubmit(function(o){if(o.ret){i.animate({opacity:0},300,function(){i.text(o.basket.uniqueItemCount);i.animate({opacity:1},300)});if(o.basket.uniqueItemCount>0){setTimeout(function(){i.addClass("plain-basket")},300)}else{i.removeClass("plain-basket")}if(o.basket.uniqueItemCount>99){i.addClass("solid-background")}else{if(i.hasClass("solid-background")){i.removeClass("solid-background")}}var r=t(".nav-dropdown-basket");if(!t("tr[data-productid='"+d.productid+"']").length){if(o.basket[d.productid].quantity!="removed"){var s=t("tr.template").clone().removeClass("template").attr("data-productid",d.productid);t(".title",s).text(o.basket[d.productid].title);t(".productid",s).val(d.productid);if(o.basket[d.productid].qty_limit=="1"){t(".quantity",s).val(o.basket[d.productid].quantity).removeClass("basket-product-update-quantity-input").attr("name","fixedqty").attr("disabled","disabled");t("<input />",{class:"basket-product-update-quantity-input input",name:"quantity",type:"hidden",value:0}).insertBefore(t(".quantity",s))}else{t(".quantity",s).val(o.basket[d.productid].quantity)}if(o.basket[d.productid].is_digital||o.basket[d.productid].qty_limit=="1"){t(".quantity",s).attr("disabled","disabled");t(".basket-product-button-remove",s).text("Remove")}t("img",s).prop("src",o.basket[d.productid].imageUrl);t(".format",s).text(o.basket[d.productid].format);if(o.basket[d.productid].qty_limit=="1"){t("<span />",{class:"qty-msg",text:"Limited to one copy per customer"}).insertAfter(t(".format",s))}t(".title, .product-image",s).prop("href",o.basket[d.productid].url);if(o.basket[d.productid].availInCountry){if(o.basket[d.productid].priceWas){t(".basket-product-price-was",s).show().text(o.basket[d.productid].priceWas)}if(o.basket[d.productid].price){t(".basket-product-price-amount",s).show().text(o.basket[d.productid].price)}}else{t(".basket-product-unavailable",s).show()}s.prependTo(t("div.table-wrap table.items tbody",r))}else{t("tr[data-productid='"+d.productid+"']").remove()}}else{if(o.basket[d.productid].quantity=="removed"){t("tr[data-productid='"+d.productid+"']").remove()}else{t(".basket-product-update-quantity-input",t("tr[data-productid='"+d.productid+"']")).val(o.basket[d.productid].quantity)}}if(o.basket.uniqueItemCount>0){t("table, .button-container",r).show();t(".basket-empty",r).hide()}if(o.basket.uniqueItemCount==1){var u="1 item"}else{var u=o.basket.uniqueItemCount+" items"}t("tfoot .count",r).text(u);t("tfoot .total",r).text(o.basket.total);if(o.basket.total){var p=o.basket.totalRemainingForFreeDelivery;if(o.basket.uniqueItemCount==0){t("table.basket-totals").hide();t("table.dropdown-basket-delivery").removeClass("has-free");t("table.dropdown-basket-delivery").show();t("span#free-delivery-amount").html("Â£"+p);t("p.basket-empty").show();t("div.button-container",r).hide()}else if(o.basket.isDigitalOnly){t("p.basket-empty").hide()}else if(p==0){t("table.dropdown-basket-delivery").show();t("table.dropdown-basket-delivery").addClass("has-free")}else{t("table.dropdown-basket-delivery").removeClass("has-free");t("table.dropdown-basket-delivery").show();t("span#free-delivery-amount").html("Â£"+p)}}if(d.mode!="update"){t(".nav-dropdown-basket .setquantity-form").basketUpdate()}if(t.isFunction(a.postUpdate)){a.postUpdate.apply(e,[o])}}else if(o.ukOnly){t("#ebook-popup, #popup-under").show()}if(o.qty_message){t("div.book-preview[data-productid='"+d.productid+"'] .added-basket div .icon-tick").remove();t("div.book-preview[data-productid='"+d.productid+"'] .added-basket div span").text(o.qty_message);t("div.book-preview[data-productid='"+d.productid+"'] .added-basket").addClass("added-show");t("div.book-preview[data-productid='"+d.productid+"'] .image-wrap").removeClass("focussed");t("div.book-preview[data-productid='"+d.productid+"'] .pre-add").hide();t("div.book-preview[data-productid='"+d.productid+"'] .post-add").show();setTimeout(function(){t(".nav-dropdown-basket").parents(".with-dropdown").addClass("active")},100);setTimeout(function(){t(".nav-dropdown-basket").parents(".with-dropdown").removeClass("active")},4e3)}});return false})});return this}})(jQuery);

(function(){"use strict";function e(n,r){var i;r=r||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=r.touchBoundary||10;this.layer=n;this.tapDelay=r.tapDelay||200;if(e.notNeeded(n)){return}function o(e,t){return function(){return e.apply(t,arguments)}}var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var s=this;for(var u=0,c=a.length;u<c;u++){s[a[u]]=o(s[a[u]],s)}if(t){n.addEventListener("mouseover",this.onMouse,true);n.addEventListener("mousedown",this.onMouse,true);n.addEventListener("mouseup",this.onMouse,true)}n.addEventListener("click",this.onClick,true);n.addEventListener("touchstart",this.onTouchStart,false);n.addEventListener("touchmove",this.onTouchMove,false);n.addEventListener("touchend",this.onTouchEnd,false);n.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){n.removeEventListener=function(e,t,r){var i=Node.prototype.removeEventListener;if(e==="click"){i.call(n,e,t.hijacked||t,r)}else{i.call(n,e,t,r)}};n.addEventListener=function(e,t,r){var i=Node.prototype.addEventListener;if(e==="click"){i.call(n,e,t.hijacked||(t.hijacked=function(e){if(!e.propagationStopped){t(e)}}),r)}else{i.call(n,e,t,r)}}}if(typeof n.onclick==="function"){i=n.onclick;n.addEventListener("click",function(e){i(e)},false);n.onclick=null}}var t=navigator.userAgent.indexOf("Android")>0;var n=/iP(ad|hone|od)/.test(navigator.userAgent);var r=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent);var i=n&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);var o=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled){return true}break;case"input":if(n&&e.type==="file"||e.disabled){return true}break;case"label":case"video":return true}return/\bneedsclick\b/.test(e.className)};e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return true;case"select":return!t;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}};e.prototype.sendClick=function(e,t){var n,r;if(document.activeElement&&document.activeElement!==e){document.activeElement.blur()}r=t.changedTouches[0];n=document.createEvent("MouseEvents");n.initMouseEvent(this.determineEventType(e),true,true,window,1,r.screenX,r.screenY,r.clientX,r.clientY,false,false,false,false,0,null);n.forwardedTouchEvent=true;e.dispatchEvent(n)};e.prototype.determineEventType=function(e){if(t&&e.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};e.prototype.focus=function(e){var t;if(n&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"){t=e.value.length;e.setSelectionRange(t,t)}else{e.focus()}};e.prototype.updateScrollParent=function(e){var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n;e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}if(t){t.fastClickLastScrollTop=t.scrollTop}};e.prototype.getTargetElementFromEventTarget=function(e){if(e.nodeType===Node.TEXT_NODE){return e.parentNode}return e};e.prototype.onTouchStart=function(e){var t,i,o;if(e.targetTouches.length>1){return true}t=this.getTargetElementFromEventTarget(e.target);i=e.targetTouches[0];if(n){o=window.getSelection();if(o.rangeCount&&!o.isCollapsed){return true}if(!r){if(i.identifier&&i.identifier===this.lastTouchIdentifier){e.preventDefault();return false}this.lastTouchIdentifier=i.identifier;this.updateScrollParent(t)}}this.trackingClick=true;this.trackingClickStart=e.timeStamp;this.targetElement=t;this.touchStartX=i.pageX;this.touchStartY=i.pageY;if(e.timeStamp-this.lastClickTime<this.tapDelay){e.preventDefault()}return true};e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;if(Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n){return true}return false};e.prototype.onTouchMove=function(e){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e)){this.trackingClick=false;this.targetElement=null}return true};e.prototype.findControl=function(e){if(e.control!==undefined){return e.control}if(e.htmlFor){return document.getElementById(e.htmlFor)}return e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};e.prototype.onTouchEnd=function(e){var o,a,s,u,c,l=this.targetElement;if(!this.trackingClick){return true}if(e.timeStamp-this.lastClickTime<this.tapDelay){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=e.timeStamp;a=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(i){c=e.changedTouches[0];l=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||l;l.fastClickScrollParent=this.targetElement.fastClickScrollParent}s=l.tagName.toLowerCase();if(s==="label"){o=this.findControl(l);if(o){this.focus(l);if(t){return false}l=o}}else if(this.needsFocus(l)){if(e.timeStamp-a>100||n&&window.top!==window&&s==="input"){this.targetElement=null;return false}this.focus(l);this.sendClick(l,e);if(!n||s!=="select"){this.targetElement=null;e.preventDefault()}return false}if(n&&!r){u=l.fastClickScrollParent;if(u&&u.fastClickLastScrollTop!==u.scrollTop){return true}}if(!this.needsClick(l)){e.preventDefault();this.sendClick(l,e)}return false};e.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};e.prototype.onMouse=function(e){if(!this.targetElement){return true}if(e.forwardedTouchEvent){return true}if(!e.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{e.propagationStopped=true}e.stopPropagation();e.preventDefault();return false}return true};e.prototype.onClick=function(e){var t;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(e.target.type==="submit"&&e.detail===0){return true}t=this.onMouse(e);if(!t){this.targetElement=null}return t};e.prototype.destroy=function(){var e=this.layer;if(t){e.removeEventListener("mouseover",this.onMouse,true);e.removeEventListener("mousedown",this.onMouse,true);e.removeEventListener("mouseup",this.onMouse,true)}e.removeEventListener("click",this.onClick,true);e.removeEventListener("touchstart",this.onTouchStart,false);e.removeEventListener("touchmove",this.onTouchMove,false);e.removeEventListener("touchend",this.onTouchEnd,false);e.removeEventListener("touchcancel",this.onTouchCancel,false)};e.notNeeded=function(e){var n;var r;var i;if(typeof window.ontouchstart==="undefined"){return true}r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(r){if(t){n=document.querySelector("meta[name=viewport]");if(n){if(n.content.indexOf("user-scalable=no")!==-1){return true}if(r>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(o){i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(i[1]>=10&&i[2]>=3){n=document.querySelector("meta[name=viewport]");if(n){if(n.content.indexOf("user-scalable=no")!==-1){return true}if(document.documentElement.scrollWidth<=window.outerWidth){return true}}}}if(e.style.msTouchAction==="none"){return true}return false};e.attach=function(t,n){return new e(t,n)};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define(function(){return e})}else if(typeof module!=="undefined"&&module.exports){module.exports=e.attach;module.exports.FastClick=e}else{window.FastClick=e}})();

(function(t,e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){module.exports=e(require("jquery"))}else{e(t.jQuery)}})(this,function(t){t.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var e=document.createElement("div");var n={};function i(t){if(t in e.style)return t;var n=["Moz","Webkit","O","ms"];var i=t.charAt(0).toUpperCase()+t.substr(1);for(var r=0;r<n.length;++r){var s=n[r]+i;if(s in e.style){return s}}}function r(){e.style[n.transform]="";e.style[n.transform]="rotateY(90deg)";return e.style[n.transform]!==""}var s=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;n.transition=i("transition");n.transitionDelay=i("transitionDelay");n.transform=i("transform");n.transformOrigin=i("transformOrigin");n.filter=i("Filter");n.transform3d=r();var a={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var o=n.transitionEnd=a[n.transition]||null;for(var u in n){if(n.hasOwnProperty(u)&&typeof t.support[u]==="undefined"){t.support[u]=n[u]}}e=null;t.cssEase={_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};t.cssHooks["transit:transform"]={get:function(e){return t(e).data("transform")||new f},set:function(e,i){var r=i;if(!(r instanceof f)){r=new f(r)}if(n.transform==="WebkitTransform"&&!s){e.style[n.transform]=r.toString(true)}else{e.style[n.transform]=r.toString()}t(e).data("transform",r)}};t.cssHooks.transform={set:t.cssHooks["transit:transform"].set};t.cssHooks.filter={get:function(t){return t.style[n.filter]},set:function(t,e){t.style[n.filter]=e}};if(t.fn.jquery<"1.8"){t.cssHooks.transformOrigin={get:function(t){return t.style[n.transformOrigin]},set:function(t,e){t.style[n.transformOrigin]=e}};t.cssHooks.transition={get:function(t){return t.style[n.transition]},set:function(t,e){t.style[n.transition]=e}}}p("scale");p("scaleX");p("scaleY");p("translate");p("rotate");p("rotateX");p("rotateY");p("rotate3d");p("perspective");p("skewX");p("skewY");p("x",true);p("y",true);function f(t){if(typeof t==="string"){this.parse(t)}return this}f.prototype={setFromString:function(t,e){var n=typeof e==="string"?e.split(","):e.constructor===Array?e:[e];n.unshift(t);f.prototype.set.apply(this,n)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);if(this.setter[t]){this.setter[t].apply(this,e)}else{this[t]=e.join(",")}},get:function(t){if(this.getter[t]){return this.getter[t].apply(this)}else{return this[t]||0}},setter:{rotate:function(t){this.rotate=b(t,"deg")},rotateX:function(t){this.rotateX=b(t,"deg")},rotateY:function(t){this.rotateY=b(t,"deg")},scale:function(t,e){if(e===undefined){e=t}this.scale=t+","+e},skewX:function(t){this.skewX=b(t,"deg")},skewY:function(t){this.skewY=b(t,"deg")},perspective:function(t){this.perspective=b(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(t!==null&&t!==undefined){this._translateX=b(t,"px")}if(e!==null&&e!==undefined){this._translateY=b(e,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");if(t[0]){t[0]=parseFloat(t[0])}if(t[1]){t[1]=parseFloat(t[1])}return t[0]===t[1]?t[0]:t},rotate3d:function(){var t=(this.rotate3d||"0,0,0,0deg").split(",");for(var e=0;e<=3;++e){if(t[e]){t[e]=parseFloat(t[e])}}if(t[3]){t[3]=b(t[3],"deg")}return t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,n,i){e.setFromString(n,i)})},toString:function(t){var e=[];for(var i in this){if(this.hasOwnProperty(i)){if(!n.transform3d&&(i==="rotateX"||i==="rotateY"||i==="perspective"||i==="transformOrigin")){continue}if(i[0]!=="_"){if(t&&i==="scale"){e.push(i+"3d("+this[i]+",1)")}else if(t&&i==="translate"){e.push(i+"3d("+this[i]+",0)")}else{e.push(i+"("+this[i]+")")}}}}return e.join(" ")}};function c(t,e,n){if(e===true){t.queue(n)}else if(e){t.queue(e,n)}else{t.each(function(){n.call(this)})}}function l(e){var i=[];t.each(e,function(e){e=t.camelCase(e);e=t.transit.propertyMap[e]||t.cssProps[e]||e;e=h(e);if(n[e])e=h(n[e]);if(t.inArray(e,i)===-1){i.push(e)}});return i}function d(e,n,i,r){var s=l(e);if(t.cssEase[i]){i=t.cssEase[i]}var a=""+y(n)+" "+i;if(parseInt(r,10)>0){a+=" "+y(r)}var o=[];t.each(s,function(t,e){o.push(e+" "+a)});return o.join(", ")}t.fn.transition=t.fn.transit=function(e,i,r,s){var a=this;var u=0;var f=true;var l=t.extend(true,{},e);if(typeof i==="function"){s=i;i=undefined}if(typeof i==="object"){r=i.easing;u=i.delay||0;f=typeof i.queue==="undefined"?true:i.queue;s=i.complete;i=i.duration}if(typeof r==="function"){s=r;r=undefined}if(typeof l.easing!=="undefined"){r=l.easing;delete l.easing}if(typeof l.duration!=="undefined"){i=l.duration;delete l.duration}if(typeof l.complete!=="undefined"){s=l.complete;delete l.complete}if(typeof l.queue!=="undefined"){f=l.queue;delete l.queue}if(typeof l.delay!=="undefined"){u=l.delay;delete l.delay}if(typeof i==="undefined"){i=t.fx.speeds._default}if(typeof r==="undefined"){r=t.cssEase._default}i=y(i);var p=d(l,i,r,u);var h=t.transit.enabled&&n.transition;var b=h?parseInt(i,10)+parseInt(u,10):0;if(b===0){var g=function(t){a.css(l);if(s){s.apply(a)}if(t){t()}};c(a,f,g);return a}var m={};var v=function(e){var i=false;var r=function(){if(i){a.unbind(o,r)}if(b>0){a.each(function(){this.style[n.transition]=m[this]||null})}if(typeof s==="function"){s.apply(a)}if(typeof e==="function"){e()}};if(b>0&&o&&t.transit.useTransitionEnd){i=true;a.bind(o,r)}else{window.setTimeout(r,b)}a.each(function(){if(b>0){this.style[n.transition]=p}t(this).css(l)})};var z=function(t){this.offsetWidth;v(t)};c(a,f,z);return this};function p(e,i){if(!i){t.cssNumber[e]=true}t.transit.propertyMap[e]=n.transform;t.cssHooks[e]={get:function(n){var i=t(n).css("transit:transform");return i.get(e)},set:function(n,i){var r=t(n).css("transit:transform");r.setFromString(e,i);t(n).css({"transit:transform":r})}}}function h(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function b(t,e){if(typeof t==="string"&&!t.match(/^[\-0-9\.]+$/)){return t}else{return""+t+e}}function y(e){var n=e;if(typeof n==="string"&&!n.match(/^[\-0-9\.]+/)){n=t.fx.speeds[n]||t.fx.speeds._default}return b(n,"ms")}t.transit.getTransitionValue=d;return t});

!function(t,i){"object"==typeof exports?module.exports=i():"function"==typeof define&&define.amd?define(i):t.Spinner=i()}(this,function(){"use strict";function t(t,i){var e,o=document.createElement(t||"div");for(e in i)o[e]=i[e];return o}function i(t){for(var i=1,e=arguments.length;e>i;i++)t.appendChild(arguments[i]);return t}function e(t,i,e,o){var n=["opacity",i,~~(100*t),e,o].join("-"),r=.01+e/o*100,s=Math.max(1-(1-t)/i*(100-r),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return p[n]||(u.insertRule("@"+l+"keyframes "+n+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+i)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",u.cssRules.length),p[n]=1),n}function o(t,i){var e,o,n=t.style;for(i=i.charAt(0).toUpperCase()+i.slice(1),o=0;o<d.length;o++)if(e=d[o]+i,void 0!==n[e])return e;return void 0!==n[i]?i:void 0}function n(t,i){for(var e in i)t.style[o(t,e)||e]=i[e];return t}function r(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var o in e)void 0===t[o]&&(t[o]=e[o])}return t}function s(t,i){return"string"==typeof t?t:t[i%t.length]}function a(t){this.opts=r(t||{},a.defaults,f)}function l(){function e(i,e){return t("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}u.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,o){function r(){return n(e("group",{coordsize:d+" "+d,coordorigin:-c+" "+-c}),{width:d,height:d})}function a(t,a,l){i(u,i(n(r(),{rotation:360/o.lines*t+"deg",left:~~a}),i(n(e("roundrect",{arcsize:o.corners}),{width:c,height:o.width,left:o.radius,top:-o.width>>1,filter:l}),e("fill",{color:s(o.color,t),opacity:o.opacity}),e("stroke",{opacity:0}))))}var l,c=o.length+o.width,d=2*c,p=2*-(o.width+o.length)+"px",u=n(r(),{position:"absolute",top:p,left:p});if(o.shadow)for(l=1;l<=o.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=o.lines;l++)a(l);return i(t,u)},a.prototype.opacity=function(t,i,e,o){var n=t.firstChild;o=o.shadow&&o.lines||0,n&&i+o<n.childNodes.length&&(n=n.childNodes[i+o],n=n&&n.firstChild,n=n&&n.firstChild,n&&(n.opacity=e))}}var c,d=["webkit","Moz","ms","O"],p={},u=function(){var e=t("style",{type:"text/css"});return i(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},r(a.prototype,{spin:function(i){this.stop();{var e=this,o=e.opts,r=e.el=n(t(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex});o.radius+o.length+o.width}if(n(r,{left:o.left,top:o.top}),i&&i.insertBefore(r,i.firstChild||null),r.setAttribute("role","progressbar"),e.lines(r,e.opts),!c){var s,a=0,l=(o.lines-1)*(1-o.direction)/2,d=o.fps,p=d/o.speed,u=(1-o.opacity)/(p*o.trail/100),f=p/o.lines;!function t(){a++;for(var i=0;i<o.lines;i++)s=Math.max(1-(a+(o.lines-i)*f)%p*u,o.opacity),e.opacity(r,i*o.direction+l,s,o);e.timeout=e.el&&setTimeout(t,~~(1e3/d))}()}return e},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(o,r){function a(i,e){return n(t(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:i,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*d+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var l,d=0,p=(r.lines-1)*(1-r.direction)/2;d<r.lines;d++)l=n(t(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:c&&e(r.opacity,r.trail,p+d*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&i(l,n(a("#000","0 0 4px #000"),{top:"2px"})),i(o,i(l,a(s(r.color,d),"0 0 1px rgba(0,0,0,.1)")));return o},opacity:function(t,i,e){i<t.childNodes.length&&(t.childNodes[i].style.opacity=e)}});var h=n(t("group"),{behavior:"url(#default#VML)"});return!o(h,"transform")&&h.adj?l():c=o(h,"animation"),a});

(function(e){var o=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(o){e.setTimeout(o,1e3/60)}}();var n=function(e,o,n,r){e/=r/2;if(e<1)return n/2*e*e+o;e--;return-n/2*(e*(e-2)-1)+o};var r=function(e,r,t,i){var l=e.scrollTop,a=r-l,u=+new Date;var f=true;var s=null;var c=function(){if(!f){return}o(c);var m=+new Date;var d=Math.floor(n(m-u,l,a,t));if(s){if(s===e.scrollTop){s=d;e.scrollTop=d}else{f=false}}else{s=d;e.scrollTop=d}if(m>u+t){e.scrollTop=r;f=false;if(i){i()}}};o(c)};if(typeof module!=="undefined"&&typeof module.exports!=="undefined"){module.exports=r}else{e.animatedScrollTo=r}})(window);

jQuery.fn.exists=function(e){this.length&&e.apply(this);return this};function preventEmptySearch(e,t){var a=$(".input-search",$(t));if($.trim(a.val())==""){e.preventDefault();a.val("");return false}}if(!String.prototype.endsWith){String.prototype.endsWith=function(e){var t=this.length-e.length;return t>=0&&this.lastIndexOf(e)===t}}var win=$(window),html=$("html"),mobileBreakpoint=640,TabletBreakpoint=800,mobileView=false,tabletView=false,desktopView=false,oldView=false,View=false,cookieMessage=false,matchMediaSupport=typeof window.matchMedia!="undefined",scrollPosition=win.scrollTop(),touch=false,touchFailsafe=false,cookieBarHeight=0;html.removeClass("no-js").addClass("js");if(navigator.userAgent.indexOf("IEMobile")>0){if(navigator.maxTouchPoints!==undefined){if(navigator.maxTouchPoints>0){touchFailsafe=true}}else if(navigator.msMaxTouchPoints!==undefined){if(navigator.msMaxTouchPoints>0){touchFailsafe=true}}}if(Modernizr.touchevents||Modernizr.pointerevents||touchFailsafe){if(window.matchMedia("(max-device-height: 899px)").matches||window.matchMedia("(max-device-width: 1024px)").matches||(window.screen.availHeight<899||window.screen.availWidth<1024)){touch=true;html.removeClass("no-touch").addClass("touch")}}if(Modernizr.csstransforms){html.addClass("csstransforms")}else{html.addClass("no-csstransforms")}if(matchMediaSupport){var desktopMediaQuery=window.matchMedia("(min-width: 800px)"),tabletMediaQuery=window.matchMedia("(min-width: 770px) and (max-width: 800px)")}function detectView(){oldView=View;if(matchMediaSupport){var e=desktopMediaQuery.matches,t=tabletMediaQuery.matches}else{var a=win.width(),e=a>TabletBreakpoint,t=a>mobileBreakpoint}if(e){desktopView=true;tabletView=false;mobileView=false;View="desktop"}else if(t){desktopView=false;tabletView=true;mobileView=false;View="tablet"}else{desktopView=false;tabletView=false;mobileView=true;View="mobile"}if(oldView!=false&&View!=oldView){runOnViewChange(oldView)}else{oldView=View}}detectView();if(matchMediaSupport){desktopMediaQuery.addListener(detectView);tabletMediaQuery.addListener(detectView)}else{win.on("resize",detectView)}var positionOnModalOpen=0;var ajaxLoaded=true;var appendthis="<div class='modal-overlay'></div>";var shopsArray=[];var modalClosed=true;function setCookie(e,t,a){var o=new Date;o.setTime(o.getTime()+a*24*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function getCookie(e){var t=e+"=";var a=document.cookie.split(";");for(var o=0;o<a.length;o++){var i=a[o];while(i.charAt(0)==" "){i=i.substring(1)}if(i.indexOf(t)==0){return i.substring(t.length,i.length)}}return""}function deleteCookie(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function checkLoginValid(e,t,a){$.ajax({method:"POST",url:"/checkpasswordrequired",data:{duration:e}}).fail(function(){openModal("loginValidModal")}).done(function(e){if(e){openModal("loginValidModal");if(t.hasClass("default-radio")){$(".default-radio").first().trigger("click")}}else{if(t.hasClass("toggle-update-card")){$(".update-my-card").show("slow");$('input[name="code"]').trigger("focus");t.hide();$("html, body").animate({scrollTop:$(".update-my-card").offset().top-180},"slow")}else if(t.is("button")||t.hasClass("default-radio")){t.parents("form").trigger("submit")}else if(t.is("a")){window.location=t.attr("href")}if(typeof a==="function"){a(t)}}})}function openModal(e,t){if($("body").children(".modal-overlay").length==0){$("body").append(appendthis);$(".modal-overlay").fadeTo(500,.7)}$("#"+e).fadeIn(500,function(){positionOnModalOpen=win.scrollTop();$("body").addClass("modal-open").css("top",0-positionOnModalOpen+"px");initialiseButtons();$(window).trigger("resize");if(t){t.removeClass("waiting")}});if(e=="loginValidModal"&&!touch){$("#loginValidModal #login_valid_form_password").trigger("focus")}}function closeModal(e){if(ajaxLoaded){var t=$(".modal-box:visible").attr("id");if(t=="collectModal"){$("#collectModal .waiting").removeClass("waiting")}if(t=="loginModal"){$("#loginModal.plus").removeClass("plus")}$(".modal-box").fadeOut(300,function(){if(t=="collectModal"&$(".modal-body").hasClass("reserved")){$(".modal-body").removeClass("reserved");$(".collect-box.thankyou").hide();$(".collect-box.orderready").hide();$(".collect-box.details").show()}else if(t=="loginModal"){$("#loginModal .login-area").show();$("#loginModal .reset-pass").hide();$(".reset-pass .message").removeClass("error");$(".reset-pass .message").html("");$(".reset-password-form").show()}else if(t=="loginValidModal"){$("#loginValidModal .login-area").show();$("#loginValidModal .reset-pass").hide();$(".reset-pass .message").removeClass("error");$(".reset-pass .message").html("");$(".reset-password-form").show()}});if(e!="newModal"){$(".modal-overlay").fadeOut(300,function(){$(".modal-overlay").remove()})}$(".modal-body").scrollTop(0);$(".store-container").show();$("#collectModal .modal-body").show();$("#collectModal .collect-error").hide();$("#collectModal .store-message").hide();$("body").removeClass("modal-open").css("top","auto");if(positionOnModalOpen){win.scrollTop(positionOnModalOpen)}modalClosed=true}}function validateStudentEmailAddress(e){if(studentDomainSuffixes&&studentDomainSuffixes instanceof Array){for(var t in studentDomainSuffixes){var a=new RegExp("("+studentDomainSuffixes[t].replace(/\./,"\\.")+")$");if(studentDomainSuffixes[t].trim().length>0&&e.match(a)){return true}}}return false}function initialiseButtons(){$(".collect-box .select").on("click",function(){var e=$(this).data("shopid");$("#collectshopid").val(e);if(shopsArray.length){$("#collectModal .shopphone").html(shopsArray[e].telephone);$("#collectModal .shopemail").html(shopsArray[e].email)}$(this).parents(".store").addClass("selected");$(".collect-box.stores").removeClass("open");$(".collect-box.details").show(400,function(){$(window).trigger("resize")})});$(".collect-box .change").on("click",function(){$(".collect-box .store").removeClass("selected");$(".collect-box.stores").addClass("open");$(".collect-box.details").hide(400,function(){$(window).trigger("resize")})})}function loginCaptchaLoad(){$(".g-recaptcha").closest("form").on("submit",function(e){if(grecaptcha.getResponse().length===0){$("#g-recaptcha-err").html('<label for="g-recaptcha" class="input-error">Please complete the Captcha</label>');e.preventDefault();$(".button-formsubmit").removeClass("click-disabled");return false}$("#g-recaptcha-err").html("");return true})}function regCaptchaOnSubmit(e){if($("#regform").valid()){$("#regform").trigger("submit")}else{grecaptcha.reset()}}function regCaptchaOnloadCallback(){grecaptcha.render("register",{sitekey:$("#g_invisible_captcha_sitekey").val(),callback:regCaptchaOnSubmit})}$(function(){var e=$("body"),t=$("#masthead"),a=$(".main-nav-holder",t),o=$(".main-nav",t),s=$(".main-nav-bar",o),n=$(".navs-container"),r=$(".subnav"),l=$(".header-bar",t),c=$(".header-search"),d=$(".search-trigger-button"),u=$(".nav-trigger-button"),p=0,f=0,h=$(".search-sidebar"),m=$(".accountSidebar"),v=0,g=$(".site-ribbon"),b=0;if(g.length){b=g.offset().top}if(m.length){v=m.offset().top}if(touch){e.on("touchstart",function(){});$(".main-nav .header-basket").detach().appendTo(".main-nav-holder")}if(!touch&&!mobileView){p=l.outerHeight();var w=o.offset();if(w){f=w.top}}if($(".cookie-header-bar").length){cookieMessage=true;var k=$(".cookie-header-bar");cookieBarHeight=k.outerHeight()}if($(".dob_wrapper").length){var y=$(".dob_wrapper");$("select",y).on("change",function(){var e=("0"+$("#dob_day",y).val()).slice(-2);var t=("0"+$("#dob_month",y).val()).slice(-2);var a=$("#dob_year",y).val();$("#dob_full",y).val(a+"-"+t+"-"+e)})}$(".pages_videos").fitVids();$(".accordionItem h3, .accordionItem h4").click(function(){var e=$(this).parent(".accordionItem");var t=e.hasClass("open");$(".accordionItem").removeClass("open");if(!t){e.addClass("open")}});$("html.no-touch .swiper-container .book-preview, html.no-touch .slick_carousel .book-preview").on("mouseenter",function(){C($(this))});function C(e){if(e.find(".hover-item:empty").length){var t=e.data("isbn");var a=e.data("productid");var o=$("<form />",{class:"basket-form",method:"post",action:"/checkout/setbasketitemqty"});var i=$("<div />",{class:"pre-add"});o.append(i);e.find(".hover-item").append(o);if(e.data("buy")){var s="Add to Basket";if(e.data("preorder")){s="Pre-order"}var n=$("<input />",{type:"hidden",name:"mode",value:"add",tabindex:"0"});var r=$("<input />",{type:"hidden",name:"productid",value:a,tabindex:"0"});var l=$("<input />",{type:"hidden",name:"quantity",value:"1",tabindex:"0"});var c=$("<input />",{type:"hidden",name:"redirect",value:"/",tabindex:"0"});var d=$("<button />",{class:"button-buy button button-teal button-small",text:s,type:"submit",tabindex:"0"});i.append(n).append(r).append(l).append(c).append(d);var u=$("<div />",{class:"post-add",style:"display:none;"});var p=$("<a />",{class:"button button-gold button-basket button-small",text:"View basket",href:"/checkout/basket"});var f=$("<a />",{class:"button button-teal button-basket button-small",text:"Checkout",href:"/checkout/basket"});u.append(p).append(f);o.append(u)}if(e.data("cnc")){var h=$("<button />",{class:"button button-gold button-small js-open-modal",html:'Click <span class="light">&amp;</span> Collect',tabindex:"0","data-modal-id":"collectModal","data-isbn":t});i.append(h)}oe(o)}}$("html.touch").on("click",".book-preview .image-wrap .first-click-overlay",function(){C($(this).parents(".book-preview"));$(".book-preview .image-wrap").removeClass("focussed");$(this).parents(".image-wrap").addClass("focussed")});function x(e){if(View=="desktop"){if(e=="mobile"){M()}else{_()}}else if(View=="tablet"&&e=="mobile"){M()}else if(View=="mobile"){T()}}window.runOnViewChange=x;function _(){}function M(){if(!touch){p=l.outerHeight();f=o.offset().top;Z();J();R()}$("[data-tab].active").not(".last-active").exists(function(){$(this).removeClass("active")});$("[data-tab].last-active").exists(function(){$(this).addClass("active").removeClass("last-active")});$(".js-filter-results").exists(function(){$(this).filter(".active").eq(0).trigger("click")});$(".js-filter-container").addClass("open");$(".js-filter-content").removeAttr("style")}function T(){if(!touch){o.removeClass("detached");m.removeClass("accountSidebar-sticky");$(".ws-select-outer",c).removeClass("active");$(".input-search",c).trigger("blur")}$("[data-tab].active").exists(function(){$(this).addClass("last-active")});$(".js-slide-content",".js-slide.open").exists(function(){$(this).height("")});$(".shop-floors .title").exists(function(){$(this).next(".content").height("")})}$("#reportReviewModal form").on("submit",function(e){var t=this;e.preventDefault();var a="/books/reviewreport";if($("#type",t).val()=="comment"){a="/books/reviewcommentreport"}if($("input[name=reason]:checked",t).val()){$('button[type="submit"]',t).addClass("waiting");$.ajax({method:"POST",url:a,data:{id:$("#id",t).val(),reason:$("input[name=reason]:checked",t).val()}}).done(function(e){$('button[type="submit"]',t).removeClass("waiting");if(e.ret){closeModal()}})}});if($(".page-form").length){var j=$(".page-form").attr("action");$(".page-form input").on("keyup",function(){var e=$(this).val();$(this).parents(".page-form").attr("action",j+"/page/"+e)})}if($(".infinite-load").length){$("footer#footer").prepend($("<div>",{class:"backtotop"}));if(window.location.hash&&$(window.location.hash).length){setTimeout(function(){$("html, body").animate({scrollTop:$(window.location.hash).offset().top-170},0)},500)}$("body").on("click",".book-preview-grid-item a",function(e){bookPreview=$(this).parents(".book-preview");var t=window.location.href;if(t.indexOf("?")>-1){var t=t.replace(/\?/g,"/").replace(/=/g,"/").replace(/&/g,"/")}if(t.indexOf("/page/")>-1){var a=S(t,"page",bookPreview.data("page"))}else{var a=t+"/page/"+bookPreview.data("page")}var o={foo:"bar"};history.pushState(o,"page 2",a+"#"+bookPreview.attr("id"))});setTimeout(function(){$(window).trigger("scroll")},100)}function S(e,t,a){var o=new RegExp("\\/"+t+".+?(\\/|\\?|&|$)","g");return e.replace(o,"/"+t+"/"+a+"$1")}var P=2;var O=parseInt($('.pager form input[name="page"]').val());var L=0;var V=0;if(mobileView){P=0;$(".infinite-load button").show().on("click",function(){D()})}function z(){win.on("scroll",function(){scrollPosition=win.scrollTop();var e=$(window).height();if($(".backtotop").length){if(scrollPosition>e){$(".backtotop").addClass("show")}else{$(".backtotop").removeClass("show")}var t=$("#footer").offset().top;if(scrollPosition>t-e){$(".backtotop").addClass("stick")}else{$(".backtotop").removeClass("stick")}}if(!mobileView&&!touch){R()}else{if(scrollPosition==0){html.removeClass("not-top")}else{html.addClass("not-top")}}if(g.length){var a=0;if(!touch&&window.matchMedia("(max-width: 770px)").matches||touch&&!$("body").hasClass("theme-tagged-browsing")){a+=$("#main-logos").outerHeight()}a+=$(".no-touch .header-bar").outerHeight();a+=$(".touch body:not(.theme-tagged-browsing) .header-bar").outerHeight();a+=$(".no-touch .main-nav").outerHeight();a+=q;if(scrollPosition+a>=b){g.addClass("detached");$(".main-page").css("margin-top",g.outerHeight())}else{g.removeClass("detached");$(".main-page").css("margin-top",0)}}if($(".infinite-load").length){win.on("scroll",function(){if(L<P){var e=$(".infinite-load").offset().top;var t=$(window).height();if(e-t+150<scrollPosition){D()}}})}})}$("body").on("click",".backtotop",function(){$("html, body").animate({scrollTop:0},500)});function D(){if(V==0){V=1;$(".infinite-load .loading-gif").show();$(".infinite-load button").hide();var e=window.location.href;if(e.endsWith("/")){e=e.substring(0,e.length-1)}if(e.indexOf("?")>-1){var e=e.replace(/\?/g,"/").replace(/=/g,"/").replace(/&/g,"/")}if(e.indexOf("/page/")>-1){var t=S(e,"page",O+1)}else{var t=e+"/page/"+(O+1)}$.ajax({method:"POST",url:t}).done(function(e){$.each(e.Books,function(e,t){$(".search-results-list").append(A(t,O+1))});$(".infinite-load .loading-gif").hide();$(".backtotop").removeClass("stick");L+=1;O+=1;pageCount=Math.ceil(e.Count/24);V=0;if(L>=P){$(".infinite-load button").show().on("click",function(){D()})}if(O>=pageCount){$(".infinite-load button").hide();V=1}})}}function A(e,t){var a=$("<div />",{class:"book-preview book-preview-grid-item span3 tablet-span6 mobile-span6",style:"border: 0px","data-page":t,id:"p_"+e.product_id});var o=$("<div />",{class:"inner"});var s=$("<div />",{class:"book-thumb-container"});var n=$("<div />",{class:"book-thumb"});var r=$("<div />",{class:"image-wrap",style:"position:relative; overflow:visible;"});var l=$("<a />",{href:e.product_url});if(e.alt_book_image){var c=e.alt_book_image}else{var c=e.book_medium_image}var d=$("<img />",{src:c,alt:e.title,onerror:"this.src='/images/cover404.png'",style:"max-width:98%;max-height:98%"});var u=$("<div />",{class:"added-basket"}).append($("<div />").append($("<i />",{class:"icon-tick sprite-icon"})).append($("<span />").text("Added to basket")));var p=$("<div />",{class:"first-click-overlay"});var f=$("<div />",{class:"hover-layer"});var h=$("<div />",{class:"hover-item item-buttons"});var m=$("<form />",{class:"basket-form",method:"post",action:"/checkout/setbasketitemqty"});var v=$("<div />",{class:"pre-add"});if(e.purchasable=="1"&&e.available=="1"){var g="Add to Basket";if(e.is_preorder==1){g="Preorder"}var b=$("<input />",{type:"hidden",name:"mode",value:"add",tabindex:"0"});var w=$("<input />",{type:"hidden",name:"productid",value:e.product_id,tabindex:"0"});var k=$("<input />",{type:"hidden",name:"quantity",value:"1",tabindex:"0"});var y=$("<input />",{type:"hidden",name:"redirect",value:"/",tabindex:"0"});var C=$("<button />",{class:"button-buy button button-teal button-small",text:g,type:"submit",tabindex:"0"});v.append(b).append(w).append(k).append(y).append(C);var x=$("<div />",{class:"post-add",style:"display:none;"});var _=$("<a />",{class:"button button-gold button-basket button-small",text:"View basket",href:"/basket"});var M=$("<a />",{class:"button button-teal button-basket button-small",text:"Checkout",href:"/basket/checkout"});x.append(_).append(M);m.append(x)}if(e.reservable=="1"){var T=$("<button />",{class:"button button-gold button-small js-open-modal",html:'Click <span class="light">&amp;</span> Collect',tabindex:"0","data-modal-id":"collectModal","data-isbn":e.isbn_thirt});v.append(T)}var j=$("<div />",{class:"info-wrap"});var S=$("<div />",{class:"title-wrap"});var P=$("<a />",{class:"title link-invert dotdotdot",style:'font-weight: 400; font-size: 17px; font-family: "New Baskerville", Baskerville, serif',href:e.product_url,html:formatSymbols(e.title)});var O=$("<span />",{class:"author"});var L;if(e.authors_names){L=$("<a />",{href:e.product_url,class:"text-gold",html:"<b>"+e.authors_names.split(",")[0]+"</b>"})}var V=$("<div />",{class:"book-price"});var z=$("<span />",{class:"format",style:"color:#009999; display:block; margin-bottom:3px",text:e.short_stock_message});if(e.local_stock){var D=$("<span />",{class:"format",text:"Available in your local store"})}var A,I;if(e.campaign_price>0&&e.campaign_enabled==1&&e.campaign_price!=e.price_wt){A=$("<span />",{class:"price-rrp",style:"margin-right: 10px",text:e.currency_symbol_left+e.price_wt+e.currency_symbol_right});I=$("<span />",{class:"price",itemprop:"price",style:"display:inline",text:e.currency_symbol_left+e.campaign_price+e.currency_symbol_right})}else{if(e.srp>e.price_wt){A=$("<span />",{class:"price-rrp",style:"margin-right: 10px",text:e.currency_symbol_left+e.srp+e.currency_symbol_right})}I=$("<span />",{class:"price",itemprop:"price",style:"display:inline",text:e.currency_symbol_left+e.price_wt+e.currency_symbol_right})}var q=$("<span />",{class:"format",text:e.book_format});if(e.raw_review_score>0){var U=$("<div />",{class:"star-rating"});var N=$("<span />",{class:"star-icon full",html:"&#x2605;"});var B=$("<span />",{class:"star-icon half",html:"&#x2605;"});var R=$("<span />",{class:"star-icon",html:"&#x2605;"});var E=e.raw_review_score/20;for(i=0;i<5;i++){if(E>=1){var H=N.clone()}else if(E>0){var H=B.clone()}else{var H=R.clone()}E-=1;U.append(H)}}a.append(o.append(s.append(n.append(r.append(l.append(d)).append(u).append(p).append(f.append(h.append(m.append(v))))))).append(j.append(S.append(P)).append(O.append(L)).append(V.append(z).append(D).append(A).append(I).append(q)).append(U)));oe(m);return a}function I(){win.on("resize",function(){var e=win.data("resizeTimer");if(e)clearTimeout(e);win.data("resizeTimer",setTimeout(function(){if(cookieMessage){cookieBarHeight=k.outerHeight()}},100))})}var q=$(".ribbon-banner").outerHeight()?$(".ribbon-banner").outerHeight():0;var U=$(".site-ribbon").outerHeight()?$(".site-ribbon").outerHeight():0;var N=$(".accountSidebar").height()?$(".accountSidebar").height():0;var B=$(".validate-banner").outerHeight()?$(".validate-banner").outerHeight():0;function R(){var e=$(".main-nav").offset().top+$(".main-nav").height()-scrollPosition;if(scrollPosition>cookieBarHeight){$(".no-touch #header-bar").addClass("detached");$(".no-touch .ribbon-banner").addClass("detached")}else{$(".no-touch #header-bar").removeClass("detached");$(".no-touch .ribbon-banner").removeClass("detached")}if(scrollPosition>=f-p-q-1){o.addClass("detached");$(".site-ribbon").addClass("detached");if($(".site-ribbon").length&&$(".theme-tagged-browsing").length){$(".theme-tagged-browsing .main-page").css("margin-top",$(".site-ribbon").outerHeight())}}else{o.removeClass("detached");$(".site-ribbon").removeClass("detached");if($(".site-ribbon").length&&$(".theme-tagged-browsing").length){$(".theme-tagged-browsing .main-page").css("margin-top",0)}}if(scrollPosition+q+p+o.outerHeight()+B>v-10){m.addClass("accountSidebar-sticky")}else{m.removeClass("accountSidebar-sticky")}if(scrollPosition+$(window).height()-($(window).height()-N-e)>$(document).height()-($("footer").height()+42)){m.addClass("page-bottom")}else{m.removeClass("page-bottom")}}function E(){function e(){k.remove();win.off(".cookieBar");se(0);f=o.offset().top;cookieBarHeight=0;var e=Math.floor(+new Date/1e3);setCookie("cookieCookie",e,365)}$(".js-close-cookie-bar").on("click",function(t){t.preventDefault();$.ajax({method:"POST",url:"/cookie/accept"}).done(function(t){e()})})}var H=0;function F(){function e(){if(!mobileView&&!touch){$(".subnav.active",s).removeClass("active")}clearTimeout(H)}$(".js-nav-item").on("mouseenter",function(){e();if(!mobileView&&!touch){var t=$(this),a=t.attr("data-subnav"),o=r.filter('[data-id="'+a+'"]');if(o.length){H=setTimeout(function(){o.addClass("active").siblings().removeClass("active")},200)}}});o.on("mouseleave",e)}function W(){u.on("click",function(t){t.preventDefault();var a=$(this);if(!a.hasClass("active")){s.addClass("open");a.addClass("active");$(".main-page").addClass("");$(".header-bar").addClass("");e.addClass("mobile-nav-open");se(0);$(".main-nav").removeClass("main-nav-bottom");if(d.hasClass("active")){d.trigger("click")}}else{Z()}})}function Z(){s.removeClass("open");u.removeClass("active");$(".main-page").removeClass("hidden");l.removeClass("hidden");$(".mobile-navs > .navs").css({marginLeft:0});e.removeClass("mobile-nav-open");n.removeClass("moved");r.removeClass("active");$(".main-nav").addClass("main-nav-bottom")}function G(){d.on("click",function(e){e.preventDefault();var t=$(this);if(!t.hasClass("active")){c.addClass("active");t.addClass("active");if(u.hasClass("active")){u.trigger("click")}$("form.mainsearchform input.input-search").trigger("focus");$(document).on("click.mobilesearch",function(e){if(!$(e.target).closest(".main-nav-holder").length){e.preventDefault();e.stopPropagation();J()}})}else{J()}})}function J(){c.removeClass("active");d.removeClass("active");$(".ws-select-outer",c).removeClass("active");t.removeClass("search-filters-open");$("#nav-menu-search > h4").css("color","");$(document).off("click.mobilesearch")}function K(){$(".main-nav").addClass("main-nav-bottom");var e=$(".mobile-navs > .navs");$(".js-nav-item").on("click",function(t){if(mobileView||touch){var a=$(this),o=a.attr("data-subnav"),i=r.filter('[data-id="'+o+'"]');if(i.length){t.preventDefault();i.appendTo(i.parent());i.addClass("active");var s=e.css("margin-left");e.css({marginLeft:0});var n=i.position().left*-1;e.css({marginLeft:s});n=Math.abs(n)/e.width()*100;var l=$(".subnav.active").length*-100;e.transit({marginLeft:l+"%"},200)}}});$(".subnav ul li.back a").on("click",function(){var t=$(".mobile-navs .subnav.active").last();var a=t.prev(".active");if(a.length>0){e.transit({marginLeft:a.position().left},200,function(){t.removeClass("active")})}else{e.transit({marginLeft:0},200,function(){t.removeClass("active")})}})}function Y(){$(".logo",t).on("click",function(e){if(mobileView||touch){e.preventDefault();ne(0)}})}function Q(){$(".js-slide").each(function(){var e=$(this),t=$(".js-slide-trigger",e),a=$(".js-slide-content",e),o=$(".js-slide-inner",e);t.on("click",function(){if(e.hasClass("open")){if(!mobileView&&!e.hasClass("js-slide-no-transition")){a.height(o.outerHeight());a.height(0)}e.removeClass("open")}else{if(!mobileView&&!e.hasClass("js-slide-no-transition")){a.height(o.outerHeight())}e.addClass("open")}})})}function X(){$(".js-filter-container").each(function(){var e=$(this),t=$(".js-filter-trigger",e),a=$(".js-filter-content",e),o=$(".js-filter-inner",e);t.on("click",function(){if(h.hasClass("active")){if(e.hasClass("open")){a.removeAttr("style");e.removeClass("open")}else{e.addClass("open");a.height(0);a.transition({height:o.outerHeight()},300,"cubic-bezier(0.660, -0.230, 0.420, 1.290)",function(){a.removeAttr("style")})}}})})}function ee(){$(document).on("image",'img[src*="wsimg.redberrydigital.com"]',function(){var e=$(this);e.on("error",function(){e.prop("src","/images/logo.png");e.addClass("image404")});e.prop("src",e.prop("src"))}).find('img[src*="wsimg.redberrydigital.com"]').trigger("image");$("img").each(function(){var e=$(this);e.on("error",function(){e.prop("src","/images/logo.png");e.addClass("image404")})})}function te(){$(".tab-content").exists(function(){$(".tabs-content-container").each(function(e,t){var t=$(t),a=t.find(".tab-content");a.each(function(e,t){var t=$(t),a=t.attr("data-tab"),o=$(".tabs-header").find("[data-tab="+a+"]");t.clone().insertAfter(o)})});$(".ws-tabs").trigger("wstabs")})}$(document).on("wscheckbox",".ws-checkbox",function(){$(this).wscheckbox()}).find(".ws-checkbox").trigger("wscheckbox");$(document).on("wsselect",".ws-select",function(){$(this).wsselect();if(!touch){e.on("click",function(e){$(".fancy-select > .trigger.open").exists(function(){$(this).not($(e.target)).trigger("close.fs")})})}}).find(".ws-select").trigger("wsselect");$(document).on("wsradio",".ws-radio",function(){$(this).wsradio()}).find(".ws-radio").trigger("wsradio");$(document).on("sharearray",".share-array",function(){$(this).sharearray()}).find(".share-array").trigger("sharearray");$(document).on("wstabs",".ws-tabs",function(){$(this).wstabs()}).find(".ws-tabs").trigger("wstabs");$(".main-nav .input-search").each(function(){var e=$(this);var t=$(".search-dept-select");var a={all:{title:"All Departments",url:"/index/autocomplete"}};e.wsautocomplete({sources:a,appendTo:$(".main-nav .autocomplete-target")});e.trigger("setSourceEnabled",["all",true])});$(".pager form").each(function(){var e=$(this);var t=$("input",e);var a=t.data("pagecount");function o(){var e=parseInt(t.val());if(!e||e>a||isNaN(e)||e<1){t.addClass("input-error");return false}else{t.removeClass("input-error")}}e.on("submit",o);t.on("change",o);t.on("keyup",o)});$(document).on("init",".comment-vote.no-user:not(.init)",function(){$(this).addClass("init").tooltipster({content:$('<span>Please <a href="/login">sign in</a> before voting.</span>'),interactive:true})}).find(".comment-vote.no-user:not(.init)").trigger("init");$(document).on("init",".comment-vote.own-comment:not(.init)",function(){var e=$(this);var t="You cannot vote for your own comment";if(e.hasClass("comment-vote-review")){t="You cannot vote for your own review"}e.addClass("init").tooltipster({content:t,trigger:"click",timer:2e3})}).find(".comment-vote.own-comment:not(.init)").trigger("init");$(document).on("init",".action-icon.icon-heart.no-user:not(.init)",function(){var e=$('<span>Please <a href="" data-modal-id="loginModal" class="js-open-modal">sign in</a> to create lists.</span>');if($(this).hasClass("secure-login")){var e=$('<span>Please <a href="/signin?ov=1&continue='+window.location.pathname+'">sign in</a> to create lists.</span>')}$(this).addClass("init").tooltipster({content:e,interactive:true,arrow:false})}).find(".action-icon.icon-heart.no-user:not(.init)").trigger("init");function ae(){var e=$(".ws-select-outer",c),a=$(".input",c);a.on("focus",function(){e.addClass("active");if(mobileView||touch){t.addClass("search-filters-open")}})}$(document).on("init",".remember-me-help",function(){$(this).addClass("init").tooltipster({content:"<p>Ticking 'Remember me' keeps you logged in for a longer period of time before asking you to log-in again on this device.</p><p>For security reasons, only ever use this option on personal devices you trust.</p>",contentAsHTML:true,maxWidth:288,interactive:true})}).find(".remember-me-help").trigger("init");function oe(e){e.basketUpdate({postUpdate:function(e){var t=$(".pre-add",this),a=$(".post-add",this),o=$(".added-basket",this.parents(".book-preview")),i=$(this).closest(".book-preview").find(".title").html(),s=$(".header-basket");t.animate({opacity:0},250,function(){t.hide();a.css({opacity:0}).show().animate({opacity:1});o.addClass("added-show")});if(!i){i=$(".book-title").html()}$(".nav-dropdown-added .item-name").html(i);s.addClass("active");$(".dotdotdot").dotdotdot();setTimeout(function(){s.removeClass("active")},3e3);return false}})}oe($(".basket-form"));$(".nav-dropdown-basket .setquantity-form").basketUpdate();$(".wl-add-all").basketUpdate();if(!touch){$(".nav-dropdown-basket, .nav-dropdown-account, .nav-dropdown-login").each(function(){var e=$(this);var t=e.parents(".with-dropdown");var a=$(".input",e);function o(){var o=e.data("closeTimer");if(o)clearTimeout(o);if(a.is(":focus")){return false}var i=0;if(e.hasClass("just-submitted")){i=3e3}if(i>0){e.data("closeTimer",setTimeout(function(){t.removeClass("active")},i))}else{t.removeClass("active")}}e.add(t).on("mouseleave",o);a.on("blur",function(){var t=e.data("masterCloseTimer");if(t)clearTimeout(t);e.data("masterCloseTimer",setTimeout(function(){o()},80))});e.add(t).on("mouseenter",function(){var a=e.data("closeTimer");if(a)clearTimeout(a);t.addClass("active")})})}$("#nav_user_my_account").on("mouseenter",function(){var e=$(this).hasClass("plus-account");var t=e?"stamps":"points";if(!mobileView&&!touch){var a=$(this),o=$(".nav-dropdown-account");if(!a.data("loaded")){$.getJSON("/account/getpoints",function(a){var i=$("p.balance-target",o);var s=$(".points",o);i.addClass("active");var n=0;var r="Â£0.00";var l=e?"Unable to fetch Plus card balance - please try later":"Unable to fetch loyalty card balance - please try later";if(a.error){ie(o,i)}else{i.show();$(".plus-account-dropdown .points").show();$(".account-loading-wrap").hide();if(a.ret){if(e){var c=a.stampsPerCard-a.stampsBalance%a.stampsPerCard;var d=Math.floor(a.stampsBalance/a.stampsPerCard);if(c==a.stampsPerCard||c==0){l=a.stampsBalance>=10?"Collect stamps to earn more credit":"Collect stamps to earn credit"}else if(c==1){l="Your next Â£10 credit is only "+c+" stamp away!"}else if(c>=6){l="Your next Â£10 credit is "+c+" stamps away"}else{l="Your next Â£10 credit is only "+c+" stamps away!"}}else{n=a.pointsBalance;l="Your "+t+" balance is "+n}r="Â£"+a.pointsGbp}else{ie(o,i)}}s.text(l);if(d){var u="You have "+d+" pending completed ";d==1?u+="card":u+="cards";var p=$("<div />",{class:"account-dropdown-completed-cards",text:u});s.prepend(p);$(".plus-account-dropdown .inner").css("height","189px")}$(".gbp",i).text(r)});a.data("loaded",true)}}});function ie(e,t){t.hide();e.addClass("account-dropdown-error")}function se(e){win.scrollTop(e)}function ne(t,a,o){if(!a)var a=500;html.add(e).each(function(e,i){animatedScrollTo(i,t,a,function(){if(typeof o==="function"){o()}})})}$("#resend_validation").on("click",function(e){e.preventDefault();$.ajax({method:"POST",url:"/plus/resendactivationlink",data:{email:$("#validation_email").val(),token:$("#validation_token").val()}}).done(function(e){if(e.success){$("#click_replace").html("Thank you<br/>An email will be sent to you shortly.");$("#click_replace").css("font-weight","bold")}})});$('input[type="tel"][name="quantity"]').each(function(){var e=$(this);e.on("focus",function(t){e.data("lastValue",e.val())});e.on("blur",function(t){var a=e.val();if(!$.isNumeric(a)){e.val(e.data("lastValue"))}else{if(a<1){e.val(0)}if(a>999){e.val("999")}}});e.on("keypress",function(e){var t=e.keyCode?e.keyCode:e.which;if(t==13||t==10){$(this).trigger("blur");if(touch)return false}})});function re(){if(!touch){$(".side-basket:not(.main-basket)").eq(0).find(".side-basket-totals").exists(function(){var e=$(this),t=e.closest(".side-basket"),a=l.height()+20,o=e.offset().top-a;win.off(".floatingBasket");win.on("resize.floatingBasket",function(){if(!mobileView&&!touch){if(!t.hasClass("fixed")){o=e.offset().top-a}else{e.css("top","0");o=e.offset().top-a;e.css("top",win.scrollTop()-o)}}});win.on("scroll.floatingBasket",function(){var a=win.scrollTop();if(a>o){if(!t.hasClass("fixed")){t.addClass("fixed")}e.css("top",a-o)}else{if(t.hasClass("fixed")){t.removeClass("fixed");e.css("top","0")}}})})}}function le(){$(".ajax-login").each(function(){var e=$(this);var t=$(".login-error",e);var a=$('input[name="token"]',e);e.ajaxForm(function(e){t.hide();if(e.ret){if(e.redirect){var o=window.location.pathname;var i=e.redirect;window.location.href=i;if(o.split("#")[0]==i.split("#")[0]){location.reload()}}else{window.location=window.location.href.replace(/#$/,"")}}else{if(e.require_secure){window.location="/signin?secure=1&ov=1&continue="+window.location.pathname;
    return}if(e.redirect){window.location=e.redirect}else{t.show().text(e.message);if(e.token){a.val(e.token)}}}})})}$("#loginValidForm").each(function(){var e=$(this);var t=$(".login-error",e);var a=$('input[name="token"]',e);e.ajaxForm(function(e){t.hide();if(e.ret){closeModal()}else{if(e.require_secure){window.location="/securitylogin?secure=1&ov=1&continue="+window.location.pathname;return}t.show().text(e.message)}if(e.refresh){location.reload()}$("#loginValidForm #login_valid_form_password").val("")})});function ce(e,t,a,o){if(e.success){console.log("yes")}else{console.log("no");$(".reset-pass .error").html(e.message)}}function de(){$(".send-email-popup").each(function(){var e=$(this);var t=$("form",e);t.validate({errorClass:"input-error",submitHandler:function(){t.ajaxSubmit(function(){$(".success-message",t).show();$(".email, .name",t).val("");$("button",t).trigger("focus")});return false}});$(".action-share-container .icon-email").on("mouseenter",function(){$(this).parents(".email-share").addClass("show-email");$(".send-email-popup .success-message").hide();$(".user-lists-popup").hide();$(document).on("click.shareemail",function(e){if($(".email-share").has(e.target).length===0){$(".email-share").removeClass("show-email");$(document).off("click.shareemail");return false}});return false}).on("click",function(){return false})})}function ue(){$(".dotdotdot").exists(function(){$(this).dotdotdot({watch:true})})}function pe(){$.validator.addMethod("passwordLowercase",function(e,t,a){return this.optional(t)||/[a-z]/.test(e)},"Please enter at least one lower case letter.");$.validator.addMethod("passwordUppercase",function(e,t,a){var o=new RegExp(a);return this.optional(t)||/[A-Z]/.test(e)},"Please enter at least one upper case letter.");$.validator.addMethod("passwordNumber",function(e,t,a){return this.optional(t)||/[0-9]/.test(e)},"Please enter at least one number.");$.validator.addMethod("personName",function(e,t,a){return this.optional(t)||/^[a-z \.\-\']+$/i.test(e)},"Please enter a valid name.");$.validator.addMethod("countyRequiredInSomeCountries",function(e,t,a){var o=$(t).closest("form").find("[name='"+a+"']");var i=o.prop("selectedIndex")||0;var s=o.find("option").eq(i);return s.attr("data-county-required")!="1"||e.length>0},"Please enter the county/province/state.");$.validator.addMethod("stateRequiredInSomeCountries",function(e,t,a){var o=$(t).closest("form").find("[name='"+a+"']");var i=o.prop("selectedIndex")||0;var s=o.find("option").eq(i);return s.attr("value")!="236"||!!e},"Please enter the state.");$.validator.addMethod("postcodeRequiredInSomeCountries",function(e,t,a){var o=$(t).closest("form").find("[name='"+a+"']");var i=o.prop("selectedIndex")||0;var s=o.find("option").eq(i);return s.attr("data-postcode-required")!="1"||e.length>0},"Please enter the postcode.");$.validator.methods.email=function(e,t){return this.optional(t)||/^[a-zA-Z0-9_.\-\+]+@[a-zA-Z0-9_.\-\+]+\.[a-zA-Z0-9]+$/.test(e)}}function fe(e){e.preventDefault()}function he(){$(".filter-toggle").on("change",function(){var e=$(this);window.location=e.is(":checked")?e.data("checkurl"):e.data("uncheckurl")});$(".top-link").on("click",function(){ne(0,800);return false});$(".js-filter-results").exists(function(){var e=$(this),t=$(".search-results-list"),a=$(".pagination").not(".results-header .pagination"),o=$(".results-header .pagination"),i=$(".sort"),s=$(".hide-on-filters-panel, .filter-responsive-set-filters");e.on("click",function(n){n.preventDefault();se(0);if(!e.hasClass("active")){e.add(h).addClass("active");t.add(a).add(i).add(s).addClass("hidden");$(".search-tabs-wrap").addClass("hidden");$(".heading-pagination").addClass("hide-tabs");o.addClass("invisible")}else{e.add(h).removeClass("active");t.add(a).add(i).add(s).removeClass("hidden");$(".search-tabs-wrap").removeClass("hidden");$(".heading-pagination").removeClass("hide-tabs");o.removeClass("invisible")}$(".js-filter-container").removeClass("open")})});$(".js-filter-content-toggle").each(function(e,t){var a=$(t),o=a.prev(".searchrollout"),i=0;if(!touch&&!mobileView){o.height("auto");i=o.height();o.height(0)}a.on("click",function(e){e.preventDefault();if(!a.hasClass("active")){if(!touch){o.transition({height:i},300,function(){o.height("auto");a.addClass("active")})}else{o.height("auto");a.addClass("active")}a.text("Less")}else{o.height(0);a.removeClass("active");a.text("More")}})})}function me(){var e=$(".form-newsletter");e.validate({errorClass:"input-error"})}function ve(){$(".book-preview-grid-item .button-reserve, .book-preview-list-item .button-reserve").each(function(){var e=$(this);var t=e.parents(".book-preview-grid-item,.book-preview-list-item");$(this).on("click",function(){var a=e.data("lat");var o=e.data("lng");var i=e.data("search");var s=e.data("isbn");if(a&&o&&s){var n="/reserve/search?"+$.param({lat:a,lng:o,search:i,isbn:s});document.location=n}else{t.addClass("cnc-enabled");t.find(".cnc-box input[name=search]").trigger("focus")}return false})});$(".cnc-box form").on("submit.getGeo",function(){var e=$(this);var t=new google.maps.Geocoder;t.geocode({address:e.find("[name=search]").val()},function(t,a){if(t.length>0){e.find("[name=lat]").val(t[0].geometry.location.lat());e.find("[name=lng]").val(t[0].geometry.location.lng())}e.get(0).trigger("submit")});return false})}function ge(e){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(a,t,{timeout:1e4,maximumAge:6e5});function t(t){var a=t.message;switch(t.code){case t.PERMISSION_DENIED:a="Waterstones needs access to your location. Please turn on location access.";break;case t.POSITION_UNAVAILABLE:a="Location information is unavailable.";break;case t.TIMEOUT:a="The request to get user location timed out.";break;case t.UNKNOWN_ERROR:a="An unknown error occurred.";break}alert(a);e()}function a(t){var a=t.coords.latitude,o=t.coords.longitude,i=new google.maps.LatLng(a,o),s=new google.maps.Geocoder,n,r;s.geocode({location:i},function(t,i){if(i==google.maps.GeocoderStatus.OK){if(t[0]){for(var s=0;s<t[0].address_components.length;s++){for(var l=0;l<t[0].address_components[s].types.length;l++){var c=t[0].address_components[s].types[l];if(c=="locality"||c=="postal_town"){n=t[0].address_components[s];break}}}r=n.short_name}else{r="Unknown location"}}else{r="Unknown location"}if(e)e(a,o,r)})}}}function $e(){$(".js-toggle-newsletter").on("click",function(){var e=$(this),t=$(".js-form-newsletter");if(!t.hasClass("active")){t.addClass("active")}else{t.removeClass("active")}})}function be(){var e=$(".book-carousel.compiled-page");e.exists(function(){$.getJSON("/account/preferredshop",function(t){if(t.ret){var a=t.shop;$(".button-reserve",e).each(function(){var e=$(this);e.data("lat",a.latitude);e.data("lng",a.longitude);e.data("search",a.name)})}})});$(".book-carousel .expand").each(function(){var e=$(this);var t=$(".button-reserve",e);var a=$(".cnc-box",e);t.on("click",function(){var a=t.data("lat");var o=t.data("lng");var i=t.data("search");var s=t.data("isbn");if(a&&o&&s){var n="/reserve/search?"+$.param({lat:a,lng:o,search:i,isbn:s});document.location=n}else{e.find(".cnc-box").show();e.find(".cnc-box input[name=search]").trigger("focus")}return false})})}function we(){$(".select-states").each(function(){var e=$(this);var t=e.parents(".fancy-select");var a=$(e.prop("form"));var o=$(".countrySelect",a);var i=$(".input-county",a);var s=$(".label-county",a);var n=e.data("states");var r={14:"AU",40:"CA",236:"US"};e.on("change",function(){e.data("selected",e.val())});function l(){var a=o.val();var l=r[a];if(l){var c=n[l];e.empty();var d=$("<option />");d.prop("value","");d.prop("selected",true);d.text("Please select");d.appendTo(e);for(var u in c){var p=c[u];var d=$("<option />");d.text(p.label);d.prop("value",p.value);if(p.value==e.data("selected")){d.prop("selected",true)}d.appendTo(e)}t.show();i.prop("disabled",true).hide();e.prop("disabled",false);e.trigger("update");if(l==="AU"||l==="US"){s.text("State")}else if(l==="CA"){s.text("Province")}}else{e.prop("disabled",true);t.hide();i.prop("disabled",false).show();var d=$("<option />");d.prop("value",e.data("selected"));d.prop("selected",true);d.appendTo(e);s.html("County")}}o.on("change",l);o.on("update",l);l()})}function ke(){$(".preview-action .title, .banner-row > p").each(function(){var e=$(this);if($.trim(e.text()).length===0){e.hide()}else{e.show()}})}function ye(){$("#ebook-popup").each(function(){var e=$(this);$(".button",e).on("click",function(){$("#ebook-popup, #popup-under").hide()});if(e.data("disableDigital")){$(".book-carousel .basket-form.is-digital .pre-add").each(function(){var e=$(this);$(".button",e).remove();var t=$('<button disabled class="button button-grey">Not available</button>');t.appendTo(e)})}})}function Ce(){$(".dp_banner_header").parent(".row").addClass("dp_banner_header_container")}$("select[name='sort'], select[name='sortmode']").siblings("ul.options").css({"max-height":"none"});function xe(){z();I();E();te();F();K();W();G();ae();le();re();Q();X();ue();de();pe();he();me();ve();$e();be();we();ke();ye();Ce()}xe();window.floatingBasket=re;window.scrollPageTo=se;window.animatedScrollPageTo=ne;window.preventdefault=fe;window.geoLocate=ge;function _e(){var e=$(".site-ribbon li.show");var t=e.next().length?e.next():e.parent().children(":first");e.fadeOut(1e3,function(){t.fadeIn(1e3,function(){setTimeout(_e,2500)}).addClass("show");e.removeClass("show")})}_e()});$(function(){if(window.location.hash&&$(window.location.hash).length){setTimeout(function(){$("html, body").animate({scrollTop:$(window.location.hash).offset().top-170},0)},500)}$("body").on("click",".js-open-modal",function(e){e.preventDefault();var t=$(this);var a=t.attr("data-modal-id");if(!modalClosed){closeModal("newModal")}modalClosed=false;t.addClass("waiting");if(a=="collectModal"){$(".collect-box #collectisbn").val(t.data("isbn"));$(".collect-box #searchshopid").val(t.data("isbn"));$.ajax({method:"POST",url:"/reserve/modalinit",data:{isbn:t.data("isbn")}}).done(function(e){if(e.success){var o=$("<img />",{src:e.image,onerror:"this.src='/images/cover404.png'"});$(".collect-box.book .thumb").html(o);$(".collect-box.book .title").html(e.title);$(".collect-box.book .nowprice").html(e.price);if(e.priceWas){$(".collect-box.book .wasprice").html(e.priceWas)}else{$(".collect-box.book .wasprice").html("")}$(".collect-box #bookprice").val(e.price);if(e.shop){store=N(e.shop.id,e.shop.thumb,e.shop.name,e.shop.address,e.shop.openingTime,e.shop.cnc2hr,e.shop.availabilityMsg,true);$("#collectModal .shopphone").html(e.shop.telephone);$("#collectModal .shopemail").html(e.shop.email);$("#collectshopid").val(e.shop.id);$(".store-container").empty().append(store);$(".collect-box.stores").removeClass("open");$(".collect-box.details").show()}else{$(".store-container").html('<div class="title">Please search for a shop</div>');$(".collect-box.stores").addClass("open");$(".collect-box.details").hide()}if(e.purchasable==1){$(".store-message .to-buy").show();$('.store-message .buy-form input[name="productid"]').val(e.productid)}else{$(".store-message .to-buy").hide()}if(e.user){$("#customer_firstname").val(e.user.fname);$("#customer_lastname").val(e.user.lname);$("#customer_email").val(e.user.email);$("#customer_phone").val(e.user.customerPhone);if(e.user.pcm){$("#pref_"+e.user.pcm).prop("checked",true).trigger("change");if(e.user.pcm=="S"){$(".collect-box.details form .field:nth-of-type(6)").show();$(".collect-box.details").addClass("bottom-spaced")}else{$(".collect-box.details form .field:nth-of-type(6)").hide();$(".collect-box.details").removeClass("bottom-spaced")}}if(e.user.showMarketingOptIn){if(!e.user.marketingOptIn){$("#collectModal input[name=opt_into_mailing]").prop("checked",false).trigger("change")}}else{$("#collectModal input[name=opt_into_mailing]").parents(".field").hide();$("#collectModal").on("click","#pref_E",function(e){$(".collect-box.details").removeClass("bottom-spaced");$(window).trigger("resize")});$("#collectModal").on("click","#pref_S",function(e){$(".collect-box.details").addClass("bottom-spaced");$(window).trigger("resize")})}}}else{console.log(e);replacementMsg=$("<div>",{class:"collect-box cncdisabled",html:"<h2>"+e.heading+"</h2><p>"+e.message+"</p>"});$("#collectModal .modal-body").empty().append(replacementMsg)}openModal(a,t)})}else if(a=="detailModal"){$.ajax({method:"POST",url:"/books/xhrsearch",data:{isbn:t.data("isbn")}}).done(function(e){var o=$("#detailModal");var s=e.product_url;var n=e.isbn_thirt;o.find(".book-format .info .subtitle").show();if(e.publication_date){var r=e.publication_date.split("-").reverse().join("/");o.find(".book-format .info .subtitle meta").attr("content",e.publication_date);o.find(".book-format .info .subtitle span").html(r)}else{o.find(".book-format .info .subtitle").hide()}if(e.alt_book_image){o.find(".detail-modal-image img").attr("src",e.alt_book_image)}else{o.find(".detail-modal-image img").attr("src",e.book_large_image)}o.find(".detail-modal-reviews").show();if(e.reviews.total&&e.reviews.total>0){var l='<meta itemprop="ratingValue" content="'+e.review_score+'">';for(i=0;i<5;i++){l+="<div";if(i<e.review_score){l+=' class="active"'}l+="></div>"}o.find(".detail-modal-reviews .star-rating").html(l);o.find(".detail-modal-reviews .reviews-link").attr("href",s.replace("/book/","/reviews/"))}else{o.find(".detail-modal-reviews").hide()}o.find(".detail-modal-info .contributors").show();if(e.authors_names){var c=e.authors_names.split(",");bkAuthors=$.map(c,function(e){return'<a href="'+s+'" class="text-gold"><b><span itemprop="author">'+e+"</span></b></a>"}).join(", ");o.find(".contributors").html(bkAuthors)}else{o.find(".detail-modal-info .contributors").hide()}o.find(".book-format .price b.price-rrp").hide();if(e.campaign_enabled&&e.campaign_price&&e.campaign_price!=e.price_wt){o.find(".book-format .price b.price-rrp").show();o.find(".book-format .price b.price-rrp").html(e.currency_symbol_left+e.rrp+e.currency_symbol_right);o.find('.book-format .price b[itemprop="price"]').html(e.currency_symbol_left+e.campaign_price+e.currency_symbol_right)}else{if(e.srp>e.price_rrp){o.find(".book-format .price b.price-rrp").show();o.find(".book-format .price b.price-rrp").html(e.currency_symbol_left+e.srp+e.currency_symbol_right)}o.find('.book-format .price b[itemprop="price"]').html(e.currency_symbol_left+e.price_wt+e.currency_symbol_right)}o.find(".book-title").html(e.title);if(e.our_view){o.find(".book-synopsis p:not(.spec)").html(e.our_view)}else{o.find(".book-synopsis p:not(.spec)").html(e.full_description)}o.find('.book-synopsis span[itemprop="publisher"]').html(e.publisher_name);o.find('.book-synopsis span[itemprop="isbn"]').html(e.isbn_thirt);o.find(".book-format .info .name").html(e.book_format);o.find(".stock-message").html(e.stock_status);o.find('meta[itemprop="availability"]').attr("content",e.stock_status);o.find(".availability-message").html(e.availability_text);o.find(".pre-add").show().css("opacity",1);o.find(".post-add").hide().css("opacity",0);o.find("footer button.button-buy").hide();if(e.purchasable&&e.purchasable>0){o.find("footer button.button-buy").show()}o.find("footer button.collect-open").hide();if(e.reservable&&e.reservable>0){o.find("footer button.collect-open").show();o.find("footer button.collect-open").attr("data-isbn",e.isbn_thirt)}o.find("a.more-details").attr("href",s);o.find("a.detail-modal-image").attr("href",s);o.find("a.book-title").attr("href",s);o.find('input[name="productid"]').val(e.product_id);o.find('input[name="redirect"]').val(e.product_url);o.find(".add-list-item-trigger").data("bookid",e.id);setTimeout(function(){openModal(a,t)},100)})}else if(a=="loginModal"){var o=$('#loginModal input[name="continue"]');if(t.attr("href")&&t.attr("href")!=""&&t.attr("href")!="#"){o.val(t.attr("href"))}if(t.attr("data-hash")){o.val(o.val()+"#"+t.attr("data-hash"))}if(t.attr("data-plus")){$("#loginModal").addClass("plus")}$(".tooltipster-base").remove();openModal(a,t)}else if(a=="reportReviewModal"){$("#reportReviewModal #id").val(t.data("review"));$("#reportReviewModal #type").val(t.data("type"));$("#reportReviewModal .report-type").html(t.data("type"));$("#reportReviewModal input[name=reason]:checked").prop("checked",false).parents(".ws-checkable-outer").removeClass("checked");openModal(a)}else{openModal(a,t)}});$("body").on("click","#loginModal .forgot-pass, #loginValidModal .forgot-pass",function(e){e.preventDefault();var t=$(this).parents(".modal-box");$(".reset-pass .message",t).removeClass("error");$(".reset-pass .message",t).html("");$(".reset-password-form",t).show();$('.reset-pass input[name="email"]',t).val($('.login-area input[name="email"]',t).val());$(".login-area",t).hide(400);$(".reset-pass",t).show(400,function(){$(window).trigger("resize")})});$("body").on("click","#loginModal .login-return, #loginValidModal .login-return",function(e){e.preventDefault();var t=$(this).parents(".modal-box");$(".reset-pass",t).hide(400);$(".login-area",t).show(400,function(){$(window).trigger("resize")})});$("body").on("click",".js-modal-close",function(e){e.preventDefault();closeModal()});$(document).on("keyup",function(e){if(e.keyCode===27)closeModal()});$(window).on("resize",function(){$(".modal-box:visible").css({top:($(window).height()-$(".modal-box:visible").outerHeight())/2,left:($(window).width()-$(".modal-box:visible").outerWidth())/2})});$(window).trigger("resize");$(".store-message .buy-form").basketUpdate({postUpdate:function(e){var t=$(".book-detail");if(t.length){$(".pre-add",t).animate({opacity:0},250,function(){$(".pre-add",t).hide();$(".post-add",t).css({opacity:0}).show().animate({opacity:1})})}var a=$('.book-preview[data-isbn="'+e.gtm.isbn+'"]');if(a.length){$(".added-basket",a).addClass("added-show");$(".pre-add",a).animate({opacity:0},250,function(){$(".pre-add",a).hide();$(".post-add",a).css({opacity:0}).show().animate({opacity:1})})}var o=$(".header-basket");o.addClass("active");setTimeout(function(){o.removeClass("active")},3e3);return false}});$("#collectModal").on("click",".buy-link",function(e){e.preventDefault();closeModal();$(".store-message .buy-form").trigger("submit")});$("#collectModal").on("click","#pref_E",function(e){$(".collect-box.details form .field:nth-of-type(6)").hide()});$("#collectModal").on("click","#pref_S",function(e){$(".collect-box.details form .field:nth-of-type(6)").show()});function e(){$thisForm=$(".collect-box .find-collect");var e=$thisForm.find("#searchterm");var t=new google.maps.Geocoder;var a=$thisForm.find("[name=search]").val();var o=$thisForm.find("[name=isbn]").val();var i=$thisForm.find("[name=lat]").val();var s=$thisForm.find("[name=lng]").val();if(a!=""){e.addClass("waiting");$(".store-container").hide(400,function(){ajaxLoaded=false;$.ajax({url:"/bookshops/preprocesssearch",type:"POST",data:{search_term:a},success:function(n){if(n){a=n}$.ajax({method:"POST",url:"/reserve/modalsearch",data:{isbn:o,search:encodeURI(a),lat:i,lng:s}}).done(function(i){ajaxLoaded=true;$thisForm.find("[name=lat]").val("");$thisForm.find("[name=lng]").val("");if(i.shops){$(".store-container").empty();$.each(i.shops,function(e,t){store=N(t.id,t.thumb,t.name,t.address,t.openingTime,t.cnc2hr,t.availabilityMsg,false);$(".store-container").append(store);shopsArray[t.id]={telephone:t.telephone,email:t.email,url:t.url}});$("#collectModal .store-message").show();$(".store-container").show(400,function(){e.removeClass("waiting");$(window).trigger("resize");initialiseButtons();$(this).scrollTop(0)})}else{var s=["st helier","cork","dublin","ireland","channel islands","eire"];var n=true;for(var r=s.length-1;r>=0;r--){if(a.toLowerCase().indexOf(s[r])>-1){n=false}}if(n){a+=", UK"}t.geocode({address:a},function(t,i){if(t.length>0){ajaxLoaded=false;$.ajax({method:"POST",url:"/reserve/modalsearch",data:{isbn:o,search:encodeURI(a),lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()}}).done(function(t){ajaxLoaded=true;if(t.shops){$(".store-container").empty();$.each(t.shops,function(e,t){store=N(t.id,t.thumb,t.name,t.address,t.openingTime,t.cnc2hr,t.availabilityMsg,false);$(".store-container").append(store);shopsArray[t.id]={telephone:t.telephone,email:t.email,url:t.url}});$("#collectModal .store-message").show();$(".store-container").show(400,function(){e.removeClass("waiting");$(window).trigger("resize");initialiseButtons();$(this).scrollTop(0)})}else{if(t.message){if(t.message.indexOf("none of the shops")){$(".store-container").html('<div class="error">'+t.message+'. You can <a href="" class="buy-link">add the item to your basket</a> instead and select \'Deliver to my local shop\' at the checkout, to be able to collect it from there at a later date.</div>')}else{$(".store-container").html('<div class="error">'+t.message+"</div>")}}$("#collectModal .store-message").hide(400);$(".store-container").show(400,function(){e.removeClass("waiting");$(window).trigger("resize");initialiseButtons()})}})}else{$(".store-container").html('<div class="error">No shops found matching your search. Please try again.</div>');$("#collectModal .store-message").hide(400);$(".store-container").show(400,function(){e.removeClass("waiting");$(window).trigger("resize");initialiseButtons()})}})}})}})})}}$(".collect-box .find-collect").on("submit",function(t){t.preventDefault();e()});if($(".collect-box .js-location-container").length&&navigator.geolocation){var t=$(".collect-box form.find-collect"),a=$("input[name=lat]",t),o=$("input[name=lng]",t),s=$('input[name="search"]',t);t.addClass("geo_enabled");$(".collect-box .js-location-container").append('<button class="button button-gold get-location-button js-get-location">Use my location</button>').on("click",function(e){e.preventDefault();s.prop("disabled",true);s.val("Locating...");geoButton=$(".button",this);geoButton.addClass("waiting");geoLocate(function(e,i,n){a.val(e);o.val(i);s.val(n);s.prop("disabled",false);geoButton.removeClass("waiting");t.trigger("submit")})})}if($(".find-shops").length){var n=null;var r=new google.maps.Geocoder;var l=new google.maps.DirectionsRenderer;var c=new google.maps.DirectionsService;var d=$(".shops-map");var u=$(".find-shops");var p=false;var f=[];if($(".find-shops .js-location-container").length&&navigator.geolocation&&touch){var h=$(".find-shops .js-location-container"),t=h.closest("form"),a=$("input.lat",t),o=$("input.lng",t),s=$('input[name="search"]',t);h.append('<button class="button button-teal get-location-button js-get-location">Use My Location</button>');var m=$(".js-get-location",h);m.on("click",function(e){e.preventDefault();geoLocate(function(e,i,n){a.val(e);o.val(i);s.val(n);t.submit()})})}var n=$(".js-map"),v=document.getElementById("map-spinner"),g=$(v),b=null,w={lines:13,length:5,width:2,radius:6,right:0,hwaccel:true},k=$(".js-close-map");if(touch&&window.location.search.indexOf("openmap=1")>-1){y();C()}function y(){scrollPageTo(100);n.addClass("loading");k.addClass("active");html.addClass("scroll-disabled").attr("ontouchmove","preventdefault(event)");if(n.data("activeTimer")){clearTimeout(n.data("activeTimer"))}n.data("activeTimer",setTimeout(function(){$(".js-map").addClass("active").removeClass("loading");b.stop();g.removeClass("active")},5e3));b=new Spinner(w).spin(v);g.addClass("active");M()}function C(){k.on("click",function(e){e.preventDefault();var t=$(this);scrollPageTo(0);t.removeClass("active").text("Find on Map");html.removeClass("scroll-disabled").removeAttr("ontouchmove");b.stop();g.removeClass("active");$(".js-map").removeClass("loading active");if($(".js-map").data("activeTimer")){clearTimeout($(".js-map").data("activeTimer"))}})}$(".js-open-map").on("click",function(e){e.preventDefault();if(touch){var t=$(this),a=t.closest("form");a.prepend('<input type="hidden" name="openmap" value="1" />');a.submit()}});function x(e){for(var t in f){f[t].setMap(null);if(f[t].popup){f[t].popup.close()}}f=[];var a=new google.maps.LatLngBounds(new google.maps.LatLng(47.439556958940855,-11.77734375),new google.maps.LatLng(59.512029386502704,7.470703125));$(".input-error",u).remove();if(u.has(".get-location-button").length&&$(".lat",u).val()!==""&&$(".lng",u).val()!==""){if(a.contains(new google.maps.LatLng($(".lat",u).val(),$(".lng",u).val()))){u.get(0).submit()}else{var o=$('<label class="input-error">The location you entered is outside the area of search. Please try again.</label>');$(".other-filters",u).append(o)}}else{$.ajax({url:"/bookshops/preprocesssearch",type:"POST",data:{search_term:e},success:function(t){if(t){e=t}r.geocode({address:e+", Europe",bounds:a,region:"EU"},function(e,t){if(t==google.maps.GeocoderStatus.OK){var o=e[0].geometry.location;if(a.contains(o)){$(".lat",u).val(o.lat());$(".lng",u).val(o.lng());u.get(0).submit()}else{var i=$('<label class="input-error">The location you entered is outside the area of search. Please try again.</label>');$(".other-filters",u).append(i)}}else{var i=$('<label class="input-error">Failed to find your address. Please try again.</label>');$(".other-filters",u).append(i)}})}})}}function _(){if(p){return}var e=new google.maps.Geocoder;var t=new google.maps.DirectionsRenderer;var a=new google.maps.DirectionsService;var o={zoom:6,center:new google.maps.LatLng(52.960837,-1.636431),minZoom:6,scrollwheel:false};n=new google.maps.Map(d.get(0),o);t.setMap(n);u.submit(function(e){e.preventDefault();var t=$(".input",u),a=t.val();if($.trim(a).length===0){t.focus()}else{x(a)}});p=true}function M(){_();r=new google.maps.Geocoder;l=new google.maps.DirectionsRenderer;c=new google.maps.DirectionsService;var e=d.data("lat");var t=d.data("lng");var a=null,o=null;if(e&&t){var i=d.data("usershop");h(new google.maps.LatLng(e,t),!i);a=e;o=t}else{$.getJSON("/bookshops/findall",function(e,t){p(e,t,false);var a={gridSize:90,maxZoom:14,styles:[{textColor:"white",textSize:20,fontFamily:"Source Sans Pro, sans-serif",url:"",width:30,height:30},{textColor:"white",textSize:20,fontFamily:"Source Sans Pro, sans-serif",url:"",width:38,height:39},{textColor:"white",textSize:20,fontFamily:"Source Sans Pro, sans-serif",url:"",width:46,height:46}]};var o=new MarkerClusterer(n,f,a);n.setZoom(6);n.setCenter(new google.maps.LatLng(52.960837,-1.636431))});a=52.960837;o=-1.636431}win.on("resize",function(){n.setCenter(new google.maps.LatLng(a,o))});if(!touch){win.on("scroll",function(){u()})}$("body").on("mousedown",function(e){var t=$(e.target).closest(".map").length>0;if(!t){u()}else{s()}});function s(){n.setOptions({scrollwheel:true})}function u(){n.setOptions({scrollwheel:false})}function p(e,t,a){if(t=="success"&&e.ret){if(e.data.length>0){n.setCenter(new google.maps.LatLng(e.data[0].latitude,e.data[0].longitude));n.setZoom(10);$.each(e.data,function(e,t){if(a){var o=$('<div class="map-marker"><span></span></div>');$("span",o).text(e+1);var i=$("<div/>").append(o).html();var s=new RichMarker({position:new google.maps.LatLng(t.latitude,t.longitude),map:n,content:i,flat:true})}else{var r=new google.maps.MarkerImage(mapMarkerImage,null,null,null,new google.maps.Size(39,52));var s=new google.maps.Marker({position:new google.maps.LatLng(t.latitude,t.longitude),map:n,icon:r})}var l=$(".marker-popup-outer").show();var c=$(".marker-popup",l);$(".name",c).text(t.name+",");$(".address1",c).text(t.address_1);$(".address2",c).text(t.address_2);$(".address3",c).text(t.address_3);$(".postcode",c).text(t.postcode);$(".link",c).prop("href",t.url);if(t.popupImage){var d=$(".popup-inner",c).height();$("img",c).show().prop("src",t.popupImage).height(d)}else{$("img",c).hide()}var u=c.outerWidth()/-2;var p=c.outerHeight()*-1;var h=c.outerWidth();var m={content:l.html(),closeBoxURL:"/images/infobox-close.png",pixelOffset:new google.maps.Size(u,p),boxStyle:{width:h+"px"}};l.hide();var v=new InfoBox(m);s.popup=v;google.maps.event.addListener(v,"closeclick",function(){s.setVisible(true)});google.maps.event.addListener(s,"click",function(){$.each(f,function(e,t){if(t.popup){t.popup.close()}t.setVisible(true)});if(s.popup){s.popup.open(n,s);s.setVisible(false)}});f.push(s)})}}else{alert("Failed to find shops near you")}}function h(e,t){n.setCenter(e);n.setZoom(12);$.getJSON("/bookshops/findnearest",{lat:e.lat(),lng:e.lng()},function(e,a){p(e,a,t)})}$(".shops-search-list .get-directions").on("click",function(){var a=$(this);var o=a.data("lat");var i=a.data("lng");var s={origin:new google.maps.LatLng(e,t),destination:new google.maps.LatLng(o,i),travelMode:google.maps.TravelMode.DRIVING};c.route(s,function(e,t){if(t==google.maps.DirectionsStatus.OK){l.setDirections(e);var a=$(".main-page");var o=a.position().top;$(document.body).animate({scrollTop:o},500)}else{}});return false})}if(!touch){M()}else{_()}}else if($(".shop-detail-feature").length){var n=$(".js-map"),d=n,v=document.getElementById("map-spinner"),g=$(v),b=null,w={lines:13,length:5,width:2,radius:6,right:0,hwaccel:true},T=$(".js-open-map"),k=$(".js-close-map"),j=$("form.directions"),S=d.data("lat"),P=d.data("lng"),c=null,l=null,O=null;function M(){c=new google.maps.DirectionsService;l=new google.maps.DirectionsRenderer({suppressMarkers:true});d.each(function(){if(S&&P){var e={zoom:15,center:new google.maps.LatLng(S,P)};O=new google.maps.Map(this,e);l.setMap(O);var t=null;var a=$(".marker-popup-outer").show();var o=$(".marker-popup",a);var i=o.outerWidth()/-2;var s=o.outerHeight()*-1;var n={content:a.html(),closeBoxURL:"/images/infobox-close.png",pixelOffset:new google.maps.Size(i,s)};var r=new InfoBox(n);a.hide();t=new google.maps.Marker({position:new google.maps.LatLng(S,P),map:O,icon:mapMarkerImage});if(!touch){t.setVisible(false);r.open(O,t)}google.maps.event.addListener(r,"closeclick",function(){t.setVisible(true)});google.maps.event.addListener(t,"click",function(){r.open(O,t)})}});function e(){O.setOptions({scrollwheel:true})}function t(){O.setOptions({scrollwheel:false})}if(!touch){win.scroll(function(){t()})}$("body").on("mousedown",function(a){var o=$(a.target).closest(".map").length>0;if(!o){t()}else{e()}});win.on("resize",function(){O.setCenter(new google.maps.LatLng(S,P))})}if(!touch){M()}function y(){scrollPageTo(0);n.addClass("loading");k.addClass("active");html.addClass("scroll-disabled").attr("ontouchmove","preventdefault(event)");if(n.data("activeTimer")){clearTimeout(n.data("activeTimer"))}n.data("activeTimer",setTimeout(function(){n.addClass("active").removeClass("loading");b.stop();g.removeClass("active")},5e3));b=new Spinner(w).spin(v);g.addClass("active");if(O===null){M()}}function L(){scrollPageTo(0);k.removeClass("active");html.removeClass("scroll-disabled").removeAttr("ontouchmove");b.stop();g.removeClass("active");n.removeClass("loading active");if(n.data("activeTimer")){clearTimeout(n.data("activeTimer"))}}T.on("click",function(e){e.preventDefault();y()});k.on("click",function(e){e.preventDefault();L()});j.submit(function(e){e.preventDefault();$("label.input-error",j).remove();$(".input",j).removeClass("input-error")});j.validate({errorClass:"input-error",focusCleanup:true,submitHandler:function(){var e=$(".input",j).val()+", GB";if(touch){M()}if(O){var t={origin:e,destination:new google.maps.LatLng(S,P),travelMode:google.maps.TravelMode.DRIVING};c.route(t,function(e,t){if(t==google.maps.DirectionsStatus.OK){if(touch){y()}l.setDirections(e);animatedScrollPageTo(0)}else{$(".input",j).addClass("input-error");$(".button",j).after('<label class="input-error">Failed to find your location. Please try again.</label>')}})}return false},errorPlacement:function(e,t){t.next(".button").after(e);V()}});function V(){if(!touch){var e=$(".detail-box").outerHeight();$(".map-box").height(e)}}if(!touch){V();$(window).on("load resize",V)}$(".gallery-carousel").carousel({onUpdate:function(e){e.items.width(e.carousel.width())}});$(".book-carousel").bookCarousel();$(".action-fav-shop").on("click",function(){var e=$(this);if(e.hasClass("active")){window.location="/account/contactdetails"}else{$.getJSON(this.href,function(t){if(t===true){e.addClass("active")}})}return false});var z=$(".shop-floor .title"),D=z.closest(".shop-floor"),A=$(".content",D);
    z.each(function(){var e=$(this),t=e.closest(".shop-floor"),a=$(".content",t),o=a.children("ul");e.on("click",function(){if(t.hasClass("open")){if(!mobileView&&!t.hasClass("no-transition")){a.height(0)}t.removeClass("open")}else{if(!mobileView&&!t.hasClass("no-transition")){a.height(o.outerHeight());A.not(a).height(0)}D.not(t).removeClass("open");t.addClass("open")}})}).first().trigger("click")}$.validator.addMethod("phone",function(e,t){return this.optional(t)||/^[0-9\-\+\s]+$/i.test(e)},"Phone must contain only numbers, + and -.");$(".collect-box .reserve-details-form").validate({rules:{customer_title:{required:true},customer_firstname:{required:true,personName:true},customer_lastname:{required:true,personName:true},customer_email:{required:true,email:true},customer_phone:{required:true,phone:true}},messages:{customer_title:{required:"Please enter your title."},customer_firstname:{required:"Please enter your first name."},customer_lastname:{required:"Please enter your last name."},customer_email:{required:"Please enter your email address so that we can contact you about your order.",email:"Please enter a correctly formatted email address"},customer_phone:{required:"Please enter your mobile number so that we can contact you about your order."}},submitHandler:function(e){$("button[type=submit]",e).addClass("waiting");ajaxLoaded=false;$.ajax({method:"POST",url:"/reserve/modalconfirm",data:{isbn:$("input[name=isbn]",e).val(),shopid:$("input[name=shopid]",e).val(),reservation:{total:$("input[name=total]",e).val(),customer_firstname:$("input[name=customer_firstname]",e).val(),customer_lastname:$("input[name=customer_lastname]",e).val(),customer_email:$("input[name=customer_email]",e).val(),customer_phone:$("input[name=customer_phone]",e).val(),preferred_contact_method:$("input[name=preferred_contact_method]:checked",e).val()},marketingOptIn:$("input[name=opt_into_mailing]",e).prop("checked")}}).done(function(t){ajaxLoaded=true;if(t.success){$(".modal-body").addClass("reserved");$(".collect-box #customeremail").html($("#customer_email").val());$(".collect-box.details").hide(400,function(){$(window).trigger("resize")});$(".collect-box.thankyou").show(400,function(){$(window).trigger("resize")});$(".collect-box.orderready").show(400,function(){$(window).trigger("resize")});$(".modal-body").scrollTop(0)}else{if(t.message){$("#collectModal .collect-error .error-message").html(t.message)}$("#collectModal .modal-body").hide(400,function(){$("#collectModal .collect-error").show(400,function(){$(window).trigger("resize")})})}$("button[type=submit]",e).removeClass("waiting")})},invalidHandler:function(){setTimeout(function(){$(window).trigger("resize")},100)},onkeyup:function(){setTimeout(function(){$(window).trigger("resize")},100)},onfocusout:function(){setTimeout(function(){$(window).trigger("resize")},100)}});$(".reserve-details-form").on("keyup",".valid, .error",function(){$(this).valid()});var I=navigator.vendor.indexOf("Apple")==0&&/\sSafari\//.test(navigator.userAgent);var q=false||!!document.documentMode;if(!I&&!q){if(touch){var U;$(".collect-box .reserve-details-form input.textbox").on("focus",function(){if(U!=this){var e=$(this).parents(".field").position().top+180;setTimeout(function(){$("#collectModal .modal-body").scrollTop(e)},200);U=this;$(this).trigger("blur").trigger("focus")}});$('.collect-box input[name="search"]').on("focus",function(){$("#collectModal .modal-body").animate({scrollTop:5e3},1e3)})}}else{if(I){$("html").addClass("safari")}}if(I&&touch){$(".account-content input").on("focus",function(){$("#masthead").addClass("click-disabled")});$(".account-content input").on("blur",function(){$("#masthead").removeClass("click-disabled")})}$(".collect-box .find-collect").validate({rules:{search:{required:true}},messages:{search:{required:"Please type in your location."}},invalidHandler:function(){setTimeout(function(){$(window).trigger("resize")},100)},onkeyup:false,onfocusout:false});initialiseButtons();function N(e,t,a,o,i,s,n,r){store=$("<div>",{class:"store"});if(r){store.addClass("selected")}if(t){storeThumb=$("<div>",{class:"thumb",style:"background-image:url("+t+")"});storeThumb.appendTo(store)}storeInfo=$("<div>",{class:"info"});storeInfo.appendTo(store);storeTitle=$("<div>",{class:"title",text:a});storeTitle.appendTo(storeInfo);storeAddress=$("<div>",{class:"address",text:o});storeAddress.appendTo(storeInfo);storeHours=$("<div>",{class:"hours",text:i});storeHours.appendTo(storeInfo);collectTime=$("<div>",{class:"collect-time",text:n});if(s){collectTime.addClass("two-hr")}collectTime.appendTo(storeInfo);storeButtons=$("<div>",{class:"button-holder"});storeButtons.appendTo(store);storeSelect=$("<button>",{class:"select button button-small button-teal","data-shopid":e,text:"Select"});storeSelect.appendTo(storeButtons);storeChange=$("<button>",{class:"change button button-small button-teal",text:"Change"});storeChange.appendTo(storeButtons);return store}$(".input-overlay").on("click",function(){$(this).parents(".field").find("input").trigger("focus")});initialiseButtons();$('.js-open-modal[data-modal-id="detailModal"]').on("click",function(e){e.preventDefault();if(modalClosed){modalClosed=false;var t=$(this);t.addClass("waiting");var a=$(this).attr("data-modal-id");$("body").append(appendthis);$(".modal-overlay").fadeTo(500,.7).addClass("js-modal-close");$(".js-modal-close").on("click",function(e){e.preventDefault();closeModal()});$.ajax({method:"POST",url:"/books/xhrsearch",data:{isbn:$(this).data("isbn")}}).done(function(e){var o=$("#detailModal");var s=e.product_url;var n=e.isbn_thirt;o.find(".book-format .info .subtitle").show();if(e.publication_date){var r=e.publication_date.split("-").reverse().join("/");o.find(".book-format .info .subtitle meta").attr("content",e.publication_date);o.find(".book-format .info .subtitle span").html(r)}else{o.find(".book-format .info .subtitle").hide()}if(e.alt_book_image){o.find(".detail-modal-image img").attr("src",e.alt_book_image)}else{o.find(".detail-modal-image img").attr("src",e.book_large_image)}o.find(".detail-modal-reviews").show();if(e.reviews.total&&e.reviews.total>0){var l='<meta itemprop="ratingValue" content="'+e.review_score+'">';for(i=0;i<5;i++){l+="<div";if(i<e.review_score){l+=' class="active"'}l+="></div>"}o.find(".detail-modal-reviews .star-rating").html(l);o.find(".detail-modal-reviews .reviews-link").attr("href",s.replace("/book/","/reviews/"))}else{o.find(".detail-modal-reviews").hide()}o.find(".detail-modal-info .contributors").show();if(e.authors_names){var c=e.authors_names.split(",");bkAuthors=$.map(c,function(e){return'<a href="'+s+'" class="text-gold"><b><span itemprop="author">'+e+"</span></b></a>"}).join(", ");o.find(".contributors").html(bkAuthors)}else{o.find(".detail-modal-info .contributors").hide()}o.find(".book-format .price b.price-rrp").hide();if(e.campaign_enabled&&e.campaign_price&&e.campaign_price!=e.price_wt){o.find(".book-format .price b.price-rrp").show();o.find(".book-format .price b.price-rrp").html(e.currency_symbol_left+e.rrp+e.currency_symbol_right);o.find('.book-format .price b[itemprop="price"]').html(e.currency_symbol_left+e.campaign_price+e.currency_symbol_right)}else{if(e.srp>e.price_rrp){o.find(".book-format .price b.price-rrp").show();o.find(".book-format .price b.price-rrp").html(e.currency_symbol_left+e.srp+e.currency_symbol_right)}o.find('.book-format .price b[itemprop="price"]').html(e.currency_symbol_left+e.price_wt+e.currency_symbol_right)}o.find(".book-title").html(e.title);if(e.our_view){o.find(".book-synopsis p:not(.spec)").html(e.our_view)}else{o.find(".book-synopsis p:not(.spec)").html(e.full_description)}o.find('.book-synopsis span[itemprop="publisher"]').html(e.publisher_name);o.find('.book-synopsis span[itemprop="isbn"]').html(e.isbn_thirt);o.find(".book-format .info .name").html(e.book_format);o.find(".stock-message").html(e.stock_status);o.find('meta[itemprop="availability"]').attr("content",e.stock_status);o.find(".availability-message").html(e.availability_text);o.find(".pre-add").show().css("opacity",1);o.find(".post-add").hide().css("opacity",0);o.find("footer button.button-buy").hide();if(e.purchasable&&e.purchasable>0){o.find("footer button.button-buy").show()}o.find("footer button.collect-open").hide();if(e.reservable&&e.reservable>0){o.find("footer button.collect-open").show();o.find("footer button.collect-open").attr("data-isbn",e.isbn_thirt)}o.find("a.more-details").attr("href",s);o.find("a.detail-modal-image").attr("href",s);o.find("a.book-title").attr("href",s);o.find('input[name="productid"]').val(e.product_id);o.find('input[name="redirect"]').val(e.product_url);o.find(".add-list-item-trigger").data("bookid",e.id);setTimeout(function(){$("#"+a).fadeIn(500,function(){positionOnModalOpen=win.scrollTop();$("body").addClass("modal-open").css("top",0-positionOnModalOpen+"px");$(window).trigger("resize");t.removeClass("waiting")})},100)})}});$(".add-list-item-trigger").each(function(){var e=$(this);var t=e.next(".user-lists-popup");function a(){$("ul",t).empty();$.getJSON("/account/userlists",function(e){if(e.ret){$.each(e.lists,function(e,a){var o=$("<li/>");o.text(a.title);o.data("listid",a.id);$("ul",t).append(o)});$(".loading",t).hide()}})}e.one("mouseenter",a);e.on("mouseenter",function(){t.show()});$(".top-bar").on("mouseleave",function(){t.hide()});$("ul",t).on("click","li",function(){var a=$(this).data("listid");var o=e.data("bookid");$.getJSON("/account/listaddbook",{listid:a,bookid:o},function(){});e.addClass("active");t.hide()});$("form",t).on("submit",function(){var o=$(".name",this).val();var i=e.data("bookid");$.getJSON("/account/listscreateadd",{name:o,bookid:i},function(){a();e.addClass("active");t.hide()});$(".name",this).val("");return false})});$(".add-list-button-wrap").on("mouseleave",function(){$(this).find(".user-lists-popup").hide()});$(".button-qas").each(function(){var e=$(this);var t=$(this).closest(".sub-panel");var a=$(".qas-list",t);var o=$(".qas-result",t);var i=$(".input-postcode",t);var s=$(".lookup-spinner",t);var n=$(".button-qas",t);var r=$(".qas-error",t);var l=$(".qas-service-error",t);function c(){var e=i.val();var c=$(".countrySelect",t).val();e=e.replace(/-|_| /,"");var u=/^([a-zA-Z]){1}([0-9][0-9]|[0-9]|[a-zA-Z][0-9][a-zA-Z]|[a-zA-Z][0-9][0-9]|[0-9][a-zA-Z]|[a-zA-Z][0-9]){1}( |-|_|)([0-9][a-zA-z][a-zA-z]){1}$/;if(u.test(e)==false){r.show();l.hide();return false}if(!$.trim(e)){r.show();return false}n.addClass("invisible");s.show();o.hide();a.empty();r.hide();l.hide();$.getJSON("/qas/ajax-postcode-address-lookup",{postcode:e,countryid:c,limit:100},function(e){n.removeClass("invisible button-teal").addClass("button-grey");s.hide();if(e.errors){l.show();return false}if(e.length>0){if(e[0].address=="No matches"||!e[0].moniker){l.show()}else{if(e.length==1){d(e[0].moniker)}else{o.show();for(var t in e){var i=$("<li/>");i.text(e[t].address);i.data("moniker",e[t].moniker);i.appendTo(a)}}}}});return false}e.on("click",c);i.on("keydown",function(e){r.hide();l.hide();if(e.keyCode==13){i.trigger("blur");c();return false}});function d(e){n.addClass("invisible");s.show();$.getJSON("/qas/ajax-full-address-lookup",{moniker:e},function(e){n.removeClass("invisible");s.hide();$('.input[name="address[address_1]"]',t).val(e.address.line1).trigger("blur");$('.input[name="address[address_2]"]',t).val(e.address.line2).trigger("blur");$('.input[name="address[address_3]"]',t).val(e.address.town).trigger("blur");$('.input[name="address[address_4]"]',t).val(e.address.county).trigger("blur");o.hide()})}a.on("click","li",function(){var e=$(this);var t=e.data("moniker");d(t)});s.each(function(){var e=$(this);var t={lines:13,length:5,width:2,radius:6,right:0,hwaccel:true};new Spinner(t).spin(e.get(0))})});$(".countrySelect").on("change",function(){var e=$(this).find("option:selected").text();if(e=="United States"){$(".showUsa").show();$(".hideUsa").hide();$(".hideUsa input[type=text]").val("")}else{$(".showUsa").hide();$(".hideUsa").show()}if(e==="United Kingdom"){$(".lookup-button-container").show()}else{$(".lookup-button-container, .qas-result").hide()}}).trigger("change");$(".card-option").on("click",function(){var e=$(this).data("card-type");$(".card-option").removeClass("selected");$(this).addClass("selected");$("input#card_type").val(e);$(".option-block").removeClass("card-1").removeClass("card-2").removeClass("card-3").addClass("card-"+e);if(e!="1"){$(".card-fields").slideDown(400);$("#opt_into_marketing").prop("checked",false);$("#opt_into_marketing").parents(".ws-checkbox-outer").removeClass("checked")}else{$(".card-fields").slideUp(400);$("#opt_into_marketing").prop("checked",true);$("#opt_into_marketing").parents(".ws-checkbox-outer").addClass("checked")}});$(".user-mobile.input-mobile").on("keyup",function(){if($(this).val()){$(".check-sms").slideDown(400)}else{$(".check-sms").slideUp(400)}});$(".email-preferences:not(.prefs-disabled) .ws-checkbox").on("click",function(){var e=$(this).parents(".email-category-wrap");var t=$(this);var a=$(this).parents(".ws-checkbox-outer").hasClass("email-pref-all");setTimeout(function(){var o=t.is(":checked");if(a){if(o){$(".ws-checkbox-outer",e).addClass("checked");$(".ws-checkbox",e).prop("checked",true)}else{$(".ws-checkbox-outer",e).removeClass("checked");$(".ws-checkbox",e).prop("checked",false)}}else if(!o){$(".email-pref-all",e).removeClass("checked");$(".email-pref-all",e).find(".ws-checkbox").prop("checked",false)}var i=e.find(".ws-checkbox:not(.select-all):not(:checked)");if(i.length<1){e.find(".email-pref-all").addClass("checked");e.find(".email-pref-all .ws-checkbox").prop("checked",true)}},100)});$(".email-pref-all").each(function(){var e=$(this).parents(".email-category-wrap").find(".ws-checkbox:not(.select-all):not(:checked)");if(e.length<1){$(this).addClass("checked");$(this).find(".ws-checkbox").prop("checked",true)}});$(".acc-trigger").on("click",function(){if(window.matchMedia("(max-width: 640px)").matches){$(this).toggleClass("triggered");$(this).next(".acc-content").slideToggle(400)}});$(".open-today").on("click",function(){$(this).toggleClass("opened")});$(".shop-prefs-help").on("click",function(e){var t=$(this).hasClass("hover");$(".shop-prefs-help").removeClass("hover");if(!t){$(this).addClass("hover")}});function B(e){setTimeout(function(){var t=e.hasClass("select-all");var a=e.hasClass("button")||e.hasClass("btn");var o=e.data("breakduration");var i=e.data("pref-category");var s=$(".ajax-prefs:not(.ajax-complete)").length;var n={};var r="/account/savepreferences";if($(".post-action").val()){r=$(".post-action").val()}if(!s){$(".ajax-prefs .update-prefs-message").text("Updating...");$(".ajax-prefs").attr("class","ajax-prefs");$(".ajax-prefs").css("bottom","0px");$(".prefs-area").addClass("click-disabled")}if(a){var l=e.attr("name");var c=e.data("value");n[l]=c}else if(t){e.parents(".email-category-wrap").find('.ws-checkbox:not(input[id^="email_pref_all"])').each(function(){var e=$(this).attr("name");var t=$(this).prop("checked");n[e]=+t})}else{var l=e.attr("name");var d=e.prop("checked");n[l]=+d}if(o){n["breakDuration"]=o}n["pref_category"]=i;$.each(["utm_campaign","utm_source","utm_medium"],function(e,t){if($("input[name="+t+"]").length){n[t]=$("input[name="+t+"]").val()}});$.ajax({type:"POST",url:r,data:n,timeout:15e3,success:function(t){e.data("saved-value",n[l]);if(a){location.reload()}},error:function(t,a,o){R(e);H(false)}})},100)}function R(e){var t=e.data("saved-value");if(typeof t!="undefined"){if(e.attr("type")==="checkbox"){e.prop("checked",t=="1"?true:false).trigger("change")}else{e.val(t)}}}$(".prefs-area .email-preferences:not(.prefs-disabled) .ws-checkbox").on("click",function(){B($(this))});$(".prefs-area .email-preferences:not(.prefs-disabled) .button").on("click",function(){B($(this))});$('.dob_wrapper select[name="dob_day"]').on("change",function(){var e=$(this).val();if(e>29){$('.dob_wrapper select[name="dob_month"]').siblings("ul").find('li[data-raw-value="2"]').addClass("select-disabled")}else{$('.dob_wrapper select[name="dob_month"]').siblings("ul").find('li[data-raw-value="2"]').removeClass("select-disabled")}if(e>30){$('.dob_wrapper select[name="dob_month"]').siblings("ul").find('li[data-raw-value="9"]').addClass("select-disabled");$('.dob_wrapper select[name="dob_month"]').siblings("ul").find('li[data-raw-value="4"]').addClass("select-disabled");$('.dob_wrapper select[name="dob_month"]').siblings("ul").find('li[data-raw-value="6"]').addClass("select-disabled");$('.dob_wrapper select[name="dob_month"]').siblings("ul").find('li[data-raw-value="11"]').addClass("select-disabled")}else{$('.dob_wrapper select[name="dob_month"]').siblings("ul").find('li[data-raw-value="9"]').removeClass("select-disabled");$('.dob_wrapper select[name="dob_month"]').siblings("ul").find('li[data-raw-value="4"]').removeClass("select-disabled");$('.dob_wrapper select[name="dob_month"]').siblings("ul").find('li[data-raw-value="6"]').removeClass("select-disabled");$('.dob_wrapper select[name="dob_month"]').siblings("ul").find('li[data-raw-value="11"]').removeClass("select-disabled")}});$('.dob_wrapper select[name="dob_month"]').on("change",function(){var e=$(this).val();if(e==2){$('.dob_wrapper select[name="dob_day"]').siblings("ul").find('li[data-raw-value="30"]').addClass("select-disabled")}else{$('.dob_wrapper select[name="dob_day"]').siblings("ul").find('li[data-raw-value="30"]').removeClass("select-disabled")}if(e==2||e==9||e==4||e==6||e==11){$('.dob_wrapper select[name="dob_day"]').siblings("ul").find('li[data-raw-value="31"]').addClass("select-disabled")}else{$('.dob_wrapper select[name="dob_day"]').siblings("ul").find('li[data-raw-value="31"]').removeClass("select-disabled")}});$(".button-formsubmit").on("click",function(){var e=$(this).parents("form").valid();if(e){$(this).addClass("click-disabled")}});$(".reset-password-form").on("submit",function(e){var t=$(this);var a=t.find('input[name="email"]').val();var o=t.find('input[name="token"]').val();e.preventDefault();$.ajax({method:"POST",url:"/reset/confirm",data:{email:a,token:o}}).done(function(e){if(e.success){$(".reset-pass .message").removeClass("error");$(".reset-pass .message").fadeOut(100,function(){$(this).html(e.message);$(this).fadeIn(100,function(){$(window).trigger("resize")})});$(".reset-password-form").hide(400,function(){$(window).trigger("resize")})}else{$(".reset-pass .message").addClass("error");$(".reset-pass .message").fadeOut(100,function(){$(this).html(e.message);$(this).fadeIn(100,function(){$(window).trigger("resize")})})}})});function E(e){var t=e.attr("src");var a=e.data("zoom-src");return a?a:t}$('.js-open-modal[data-modal-id="zoomModal"]').on("click",function(e){e.preventDefault();var t=$(".additional-images > .active").length;var a=$(".multi-img.slick-slider").length;if(a){var o=E($(".slick-current > img"))}else if(t){var o=E($(".additional-images .active"))}else{var o=E($("#scope_book_image"))}if(modalClosed){modalClosed=false;var i=$(this).attr("data-modal-id");$("body").append(appendthis);$(".modal-overlay").fadeTo(500,.7).addClass("js-modal-close");var s=$("<div />",{class:"zoom-container js-modal-close"}).append($("<div />",{class:"zoom-content",style:"background-image:url("+o+")"})).append($("<a />",{href:"#",class:"js-modal-close close",html:"Ã"}));$("body").append(s);$(".zoom-container").fadeTo(500,1);$(".js-modal-close").on("click",function(e){e.preventDefault();closeModal();$(".zoom-container").remove()})}});$(document).on("keyup",function(e){if($(".zoom-container").length){if(e.keyCode===27)$(".zoom-container").remove();if($(".multi-img").length){if(e.keyCode===39){if(!$(".additional-images > .active").length){$("#scope_book_image").hide();$(".additional-images img:first-child").addClass("active")}else{var t=$(".additional-images img.active").next();if(t.length){$(".additional-images img.active").removeClass("active");t.addClass("active")}}}if(e.keyCode===37){if($(".additional-images > .active").length){var a=$(".additional-images img.active").prev();if(a.length){$(".additional-images img.active").removeClass("active");a.addClass("active")}else{$(".additional-images img.active").removeClass("active");$("#scope_book_image").show()}}}if($(".additional-images > .active").length){var o=$(".additional-images > .active")}else{var o=$("#scope_book_image")}var i=E(o);$(".zoom-content").css("background-image","url('"+i+"')")}}});function H(e){if(e){var t="Changes saved";var a="ajax-success"}else{var t="Error - changes not saved";var a="ajax-error"}$(".ajax-prefs .update-prefs-message").fadeOut(function(){$(this).text(t).fadeIn()});$(".ajax-prefs .update-prefs-spinner").fadeOut(function(){$(".ajax-prefs").removeClass("ajax-success").removeClass("ajax-error").addClass(a).addClass("ajax-complete");$(this).fadeIn()});setTimeout(function(){$(".ajax-prefs.ajax-complete").css("bottom","-300px")},2e3);$(".prefs-area").removeClass("click-disabled");$(".shop-prefs-wrap").removeClass("click-disabled");$("form").removeClass("click-disabled")}$(document).ajaxSuccess(function(e,t,a){if(t.responseJSON){if(t.responseJSON.ret||t.responseJSON.success){H(true)}else{H(false)}}});$(document).ajaxError(function(e,t,a){setTimeout(function(){if($(".ajax-prefs .update-prefs-message").is(":visible")){H(false)}},200)});function F(e,t,a){var o=e.height();var a=a||false;if(o>t+20){e.addClass("show-container show-more").css("height",t).append($("<div />",{class:"show-button",text:"Show more"}).on("click",function(){var e=$(this);e.parents(".slick-list").css("height","auto");if(e.parent().hasClass("show-more")){e.parent().removeClass("show-more");e.parent().addClass("show-less");e.text("Show less");var o=$(this).parent().addClass("heightAuto").height()+30;setTimeout(function(){e.parent().addClass("heightAuto")},500)}else if(e.parent().hasClass("show-less")){e.parent().removeClass("show-less");e.parent().addClass("show-more");e.text("Show more");var o=t;var i=e.parent().offset().top-140;if(a){animatedScrollPageTo(i,800)}}$(this).parent().removeClass("heightAuto").animate({height:o},500)}))}}$(".show-desc").each(function(){F($(this),124,true)});$(".book-editorial .description").each(function(){F($(this),124)});$(".synced_slider_feature .feature-text-inner").each(function(){F($(this),118)});$(window).on("resize",function(){if($(window).width()<=770){$(".synced_slider_feature .feature-text-inner").each(function(){if($(this).scrollTop!=0){$(this).scrollTop(0)}})}});$("body").on("click",".check-login-valid",function(e){e.preventDefault();var t=$(this);checkLoginValid("short",t)});$(".ajax-login").validate({rules:{email:{required:true,email:true},password:{required:true}},messages:{email:{required:"Please enter your email address",email:"Please enter a valid email address"},password:{required:"Please enter your password"}},errorElement:"label"});$(".ajax-login button").on("click",function(e){var t=$(".ajax-login").valid();if(!t){e.preventDefault()}});$("#loginValidForm").validate({rules:{email:{required:true,email:true},password:{required:true}},messages:{email:{required:"Please enter your email address",email:"Please enter a valid email address"},password:{required:"Please enter your password"}},errorElement:"label"});$("#loginValidForm button").on("click",function(e){var t=$("#loginValidForm").valid();if(!t){e.preventDefault()}});$(".reset-password-form").validate({rules:{email:{required:true,email:true}},messages:{email:{required:"Please enter your email address",email:"Please enter a valid email address"}},errorElement:"label"});$(".reset-password-form button").on("click",function(e){var t=$(".reset-password-form").valid();if(!t){e.preventDefault()}});$(".clear-current-form").on("click",function(){$(this).parents("form").find("input").val("");$(this).parents("form").find("select").each(function(){var e=$(this).find("option:first-child");e.trigger("click");if($(this).nextAll(".options").length){$(this).nextAll(".options").find("li:first-child").trigger("click")}else{var t=e.text();$(this).find("option").attr("selected",false);e.attr("selected","selected");$(this).next(".trigger").text(t)}})});$(".shop-prefs-check:not(.js-open-modal)").on("click",function(){$(this).prev('input[type="checkbox"]').trigger("click")});$(".shop-prefs-check").prev('input[type="checkbox"]').on("change",function(){var e=$(this).is(":checked");var t=$(this).val();var a=$(".ajax-prefs:not(.ajax-complete)").length;var o={};if($(this).hasClass("email_pref")){o["email_pref["+t+"]"]=+e}else if($(this).hasClass("email_shop_pref")){o["email_shop_pref["+t+"]"]=+e}if(!a){$(".ajax-prefs .update-prefs-message").text("Updating...");$(".ajax-prefs").attr("class","ajax-prefs");$(".ajax-prefs").css("bottom","0px");$(".shop-prefs-wrap").addClass("click-disabled")}$.ajax({method:"POST",url:"/bookshops/savepreferences",data:o})});$(".show-password").on("click",function(){var e=$(this).parent().find("input");if(e.attr("type")=="password"){e.attr("type","text");$(this).text("hide");$(this).addClass("hide-password")}else{e.attr("type","password");$(this).text("show");$(this).removeClass("hide-password")}});$('input[name="loyalty[has_card]"]').on("click",function(){var e=$('input[name="loyalty[existing_card_no]"]').closest(".reg-loyalty-input");if($(this).val()=="1"){e.removeClass("hidden").slideDown(400)}else{e.slideUp(400,function(){e.addClass("hidden")})}});$(".plus-menu-collapse").on("click",function(){if($(this).hasClass("menu-open")){$(".plus-header-menu").slideUp();$(this).removeClass("menu-open")}else{$(".plus-header-menu").slideDown();$(this).addClass("menu-open")}});$(".plus-menu-item").on("click",function(){if($(".plus-menu-collapse:visible").length){$(".plus-header-menu").slideUp();$(".plus-menu-collapse").removeClass("menu-open")}});$("input[name=opt_into_marketing]").on("change",function(){if(this.checked){var e=1}else{var e=0}$.post("/account/loyaltymarketingoptin",{source:"plus-dashboard-optin",status:e},function(e,t){console.log(e)})});function W(e,t){var a=new google.maps.Geocoder;if(e.trim()){se();a.geocode({address:e,region:"uk"},function(a,o){if(n||e.substr(e.length-4)==", UK"){if(o=="ZERO_RESULTS"){K("No results found")}else{var i=a[0].geometry.location.lat();var s=a[0].geometry.location.lng();var n=Z(i,s);var r=J(a[0].geometry.viewport.getNorthEast().lat(),a[0].geometry.viewport.getNorthEast().lng(),a[0].geometry.viewport.getSouthWest().lat(),a[0].geometry.viewport.getSouthWest().lng());if(r>200){K("Please narrow your search")}else{if(t)t(i,s)}}}else{ie(e+", UK")}})}}function Z(e,t){var a=61.265275;var o=16.089894;var i=47.699387;var s=-12.607939;if(e<=a&&t<=o&&e>=i&&t>=s){return true}else{return false}}if(typeof Number.prototype.toRadians==="undefined"){Number.prototype.toRadians=function(){return this*Math.PI/180}}function G(e,t){if(!(this instanceof G))return new G(e,t);this.lat=Number(e);this.lon=Number(t)}G.prototype.distanceTo=function(e,t){if(!(e instanceof G))throw new TypeError("point is not LatLon object");t=t===undefined?6371e3:Number(t);var a=t;var o=this.lat.toRadians(),i=this.lon.toRadians();var s=e.lat.toRadians(),n=e.lon.toRadians();var r=s-o;var l=n-i;var c=Math.sin(r/2)*Math.sin(r/2)+Math.cos(o)*Math.cos(s)*Math.sin(l/2)*Math.sin(l/2);var d=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));var u=a*d;return u};function J(e,t,a,o){var i=new G(e,t);var s=new G(a,o);var n=i.distanceTo(s)/1e3;return n}function K(e){$(".locate-input-wrap").append($("<label />",{class:"input-error",text:e}));ne()}var Y=false;function Q(e){if(Y==false){Y=true;if(navigator.geolocation){se();function t(e){var t=e.message;switch(e.code){case e.PERMISSION_DENIED:t="Location permission denied.";break;case e.POSITION_UNAVAILABLE:t="Location information is unavailable.";break;case e.TIMEOUT:t="The request to get user location timed out.";break;case e.UNKNOWN_ERROR:t="An unknown error occurred.";break}K(t)}navigator.geolocation.getCurrentPosition(a,t);function a(t){Y=false;var a=t.coords.latitude,o=t.coords.longitude,i=new google.maps.LatLng(a,o),s=new google.maps.Geocoder,n,r;s.geocode({location:i,region:"uk"},function(t,i){if(i==google.maps.GeocoderStatus.OK){if(t[0]){for(var s=0;s<t[0].address_components.length;s++){for(var l=0;l<t[0].address_components[s].types.length;l++){var c=t[0].address_components[s].types[l];if(c=="locality"||c=="postal_town"){n=t[0].address_components[s];break}}}r=n.short_name}else{r="Unknown location"}}else{r="Unknown location"}if(e)e(a,o,r)})}}}}var X=null;function ee(e,t,a){if(a&&a.substr(a.length-4)==", UK"){a=a.substr(0,a.length-4)}var o=$('input[name="token"]').val();if(X!=null){X.abort()}X=$.ajax({method:"POST",url:"/index/searchbookshops",data:{lat:e,lng:t,search:a,token:o}}).done(function(e){if(e.shops.length<=0){K("No results found")}else{te(e.shops)}})}function te(e){$.each(e,function(e,t){var a=t.id;var o=t.h1_title;var i="("+t.distance+" miles)";var s=t.address_1;if(t.address_2)s+=", "+t.address_2;if(t.address_3)s+=", "+t.address_3;if(t.address_4)s+=", "+t.address_4;if(t.postcode)s+=", "+t.postcode;var n=$("<div />",{class:"locate-results-row"}).append($("<div />",{class:"locate-shop-details"}).append($("<div />",{class:"locate-shop-title",text:o})).append($("<div />",{class:"locate-shop-distance",text:i})).append($("<div />",{class:"locate-shop-address",text:s}))).append($("<div />",{class:"locate-select-wrap"}).append($("<div />",{class:"locate-button-select",text:"Select","data-shopid":a})));if(t.distance==null){$(".locate-shop-distance",n).hide()}$(".locate-results-target").append(n)});ne();$(".locate-results-wrap").show()}$(".button-locate").on("click",function(e){Q(function(e,t,a){ee(e,t)})});var ae=false;var oe=null;$(".locate-input").on("keyup",function(e){e.preventDefault();var t=$(".locate-input").val();clearTimeout(ae);if(t.trim().length){ae=setTimeout(function(){ie(t)},500)}else{if(oe!=null){oe.abort()}if(X!=null){X.abort()}ne()}});function ie(e){oe=$.ajax({url:"/bookshops/preprocesssearch",type:"POST",data:{search_term:e},success:function(e){if(e){thisInput=e;W(thisInput,function(e,t){ee(e,t,thisInput)})}},beforeSend:function(){if(oe!=null){oe.abort()}if(X!=null){X.abort()}}})}$(".locate-results-target").on("click",".locate-button-select",function(){var e=$(this).parents(".locate-results-row");var t=$(this).data("shopid");var a=e.find(".locate-shop-title").text();var o=e.find(".locate-shop-address").text();$("#user-shopid").val(t);$(".selected-shop-wrap").find(".locate-shop-title").text(a);$(".selected-shop-wrap").find(".locate-shop-address").text(o);$(".preferred-shop-title").removeClass("span3").addClass("span12");$(".locate-formfields").hide();$(".locate-results-wrap").hide();$(".selected-shop-wrap").show()});$(".locate-button-change").on("click",function(){$("#user-shopid").val("");$(".preferred-shop-title").removeClass("span12").addClass("span3");$(".locate-formfields").show();$(".selected-shop-wrap").hide()});function se(){$(".button-locate").addClass("waiting");$(".locate-results-wrap").hide();$(".selected-shop-wrap").hide();$(".locate-results-target").empty();$("#user-shopid").val("");$(".locate-input-wrap .input-error").remove()}function ne(){$(".button-locate").removeClass("waiting")}$("#regform").on("keypress",function(e){return e.keyCode!=13});$(".plus-stamp").each(function(){var e=Math.floor(Math.random()*7)-3;var t=Math.floor(Math.random()*7)-3;var a=e*-1;var o=t*-1;$(this).css({top:e+"px",right:t+"px",bottom:a+"px",left:o+"px"})});$("body").on("click",".display-trigger",function(e){e.preventDefault();var t=$(this).data("displayelement");$("."+t).toggle()});function re(){var e=$("#registerEmail").val();var t=validateStudentEmailAddress(e);if(!e||t==false){$(".plus-student-info").show()}else{$(".plus-student-info").hide()}}$("#registerEmail").on("keyup",function(){if($('input[name="i_am_a_student"]').is(":checked")){re()}});$('input[name="i_am_a_student"]').on("change",function(){if($(this).is(":checked")){re();$("#card_type").val("3")}else{$(".plus-student-info").hide();var e=$('input[name="signup_plus"]:checked').length||$(".plus-form.account-plus").length;
    if(e){$("#card_type").val("2")}else{$("#card_type").val("1")}}});$('.account-basic input[name="signup_plus"]').on("change",function(){if($(this).is(":checked")){if($('input[name="i_am_a_student"]:checked').length){$("#card_type").val("3")}else{$("#card_type").val("2")}$(".hide-basic").show();$(".show-basic").hide();$(".register-wrap").addClass("account-plus")}else{$("#card_type").val("1");$(".hide-basic").hide();$(".show-basic").show();$(".register-wrap").removeClass("account-plus")}});$("body").on("click",".click-to-hide",function(){$(this).parent().hide()});$("body").on("click",".test-checkbox",function(e){e.preventDefault();var t=$(this).find("input");t.prop("checked")?t.prop("checked",false):t.prop("checked",true);if($(this).find("input").is(":checked")){$(this).find(".ws-checkable-outer").addClass("checked")}else{$(this).find(".ws-checkable-outer").removeClass("checked")}});$(".ico-tooltip").on("click mouseenter touchstart",function(e){e.preventDefault();if(!$(this).find(".tooltip").length){var t=$(this).data("tooltipcontent");if(t){var a=$('*[data-tooltipcontentid="'+t+'"]').clone().addClass("tooltip")}else{var o=$(this).data("tooltiptext");var a=$('<div class="tooltip">'+o+"</div>")}var i=$(this).offset().left;var s=$(window).width()-($(this).offset().left+$(this).outerWidth());if(s>i){a.addClass("right");if(s<300){a.width(s-20)}}else{if(i<300){a.width(i-20)}}$(this).append(a);a.animate({marginTop:"+=30",opacity:1},50)}}).on("mouseleave",function(){$(".tooltip").remove()});$("body").on("click, touchstart",function(e){if(!$(e.target).hasClass("tooltip")&&!$(e.target).hasClass("ico-tooltip")){$(".tooltip").remove()}});$.validator.addMethod("lastnameValidation",function(e,t){if(e.trim().length<2){return false}if(e.trim().replace(/[^A-Za-z]/g,"").length<1){return false}return true},"Last name must be at least 2 characters");$(".ws-acc-trigger").on("click",function(){$(this).toggleClass("acc-open");$(this).next(".ws-acc-content").slideToggle(400)});$(".book-event-trigger").on("click",function(e){e.preventDefault();target=$(this.hash).length?$(this.hash):$("[name="+this.hash.slice(1)+"]");$("html, body").animate({scrollTop:target.offset().top},1e3);return false})});function imgError(e){$(e).attr("src","/images/cover404.png");$(e).parents(".book-image-main").find(".button-book-zoom").remove()}function formatSymbols(e){if(e){var t=e.replace(/\(C\)/gi,"&copy;").replace(/\(R\)/g,"&reg;").replace(/\(TM\)/g,"&trade;");return t}else{return e}}function buildReviewStars(e){var t=$("<div />",{class:"star-rating"});var a=$("<span />",{class:"star-icon full",html:"&#x2605;"});var o=$("<span />",{class:"star-icon half",html:"&#x2605;"});var s=$("<span />",{class:"star-icon",html:"&#x2605;"});for(i=0;i<5;i++){if(e>=1){var n=a.clone()}else if(e>0){var n=o.clone()}else{var n=s.clone()}e-=1;t.append(n)}return t}

(function(t){"use strict";t.fn.fitVids=function(e){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var r=document.head||document.getElementsByTagName("head")[0];var a=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}";var d=document.createElement("div");d.innerHTML='<p>x</p><style id="fit-vids-style">'+a+"</style>";r.appendChild(d.childNodes[1])}if(e){t.extend(i,e)}return this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];if(i.customSelector){e.push(i.customSelector)}var r=".fitvidsignore";if(i.ignore){r=r+", "+i.ignore}var a=t(this).find(e.join(","));a=a.not("object object");a=a.not(r);a.each(function(){var e=t(this);if(e.parents(r).length>0){return}if(this.tagName.toLowerCase()==="embed"&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length){return}if(!e.css("height")&&!e.css("width")&&(isNaN(e.attr("height"))||isNaN(e.attr("width")))){e.attr("height",9);e.attr("width",16)}var i=this.tagName.toLowerCase()==="object"||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),a=!isNaN(parseInt(e.attr("width"),10))?parseInt(e.attr("width"),10):e.width(),d=i/a;if(!e.attr("id")){var o="fitvid"+Math.floor(Math.random()*999999);e.attr("id",o)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",d*100+"%");e.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);

!function(){"use strict";var e,a=function(s,i){function r(e){return Math.floor(e)}function n(){var e=T.params.autoplay,a=T.slides.eq(T.activeIndex);a.attr("data-swiper-autoplay")&&(e=a.attr("data-swiper-autoplay")||T.params.autoplay),T.autoplayTimeoutId=setTimeout(function(){T.params.loop?(T.fixLoop(),T._slideNext(),T.emit("onAutoplay",T)):T.isEnd?i.autoplayStopOnLast?T.stopAutoplay():(T._slideTo(0),T.emit("onAutoplay",T)):(T._slideNext(),T.emit("onAutoplay",T))},e)}function o(a,t){var s=e(a.target);if(!s.is(t))if("string"==typeof t)s=s.parents(t);else if(t.nodeType){var i;return s.parents().each(function(e,a){a===t&&(i=t)}),i?t:void 0}if(0!==s.length)return s[0]}function l(e,a){a=a||{};var t=window.MutationObserver||window.WebkitMutationObserver,s=new t(function(e){e.forEach(function(e){T.onResize(!0),T.emit("onObserverUpdate",T,e)})});s.observe(e,{attributes:void 0===a.attributes||a.attributes,childList:void 0===a.childList||a.childList,characterData:void 0===a.characterData||a.characterData}),T.observers.push(s)}function p(e){e.originalEvent&&(e=e.originalEvent);var a=e.keyCode||e.charCode;if(!T.params.allowSwipeToNext&&(T.isHorizontal()&&39===a||!T.isHorizontal()&&40===a))return!1;if(!T.params.allowSwipeToPrev&&(T.isHorizontal()&&37===a||!T.isHorizontal()&&38===a))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===a||39===a||38===a||40===a){var t=!1;if(T.container.parents("."+T.params.slideClass).length>0&&0===T.container.parents("."+T.params.slideActiveClass).length)return;var s={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,r=window.innerHeight,n=T.container.offset();T.rtl&&(n.left=n.left-T.container[0].scrollLeft);for(var o=[[n.left,n.top],[n.left+T.width,n.top],[n.left,n.top+T.height],[n.left+T.width,n.top+T.height]],l=0;l<o.length;l++){var p=o[l];p[0]>=s.left&&p[0]<=s.left+i&&p[1]>=s.top&&p[1]<=s.top+r&&(t=!0)}if(!t)return}T.isHorizontal()?(37!==a&&39!==a||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===a&&!T.rtl||37===a&&T.rtl)&&T.slideNext(),(37===a&&!T.rtl||39===a&&T.rtl)&&T.slidePrev()):(38!==a&&40!==a||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===a&&T.slideNext(),38===a&&T.slidePrev()),T.emit("onKeyPress",T,a)}}function d(e){var a=0,t=0,s=0,i=0;return"detail"in e&&(t=e.detail),"wheelDelta"in e&&(t=-e.wheelDelta/120),"wheelDeltaY"in e&&(t=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(a=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(a=t,t=0),s=10*a,i=10*t,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(s=e.deltaX),(s||i)&&e.deltaMode&&(1===e.deltaMode?(s*=40,i*=40):(s*=800,i*=800)),s&&!a&&(a=s<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:a,spinY:t,pixelX:s,pixelY:i}}function u(e){e.originalEvent&&(e=e.originalEvent);var a=0,t=T.rtl?-1:1,s=d(e);if(T.params.mousewheelForceToAxis)if(T.isHorizontal()){if(!(Math.abs(s.pixelX)>Math.abs(s.pixelY)))return;a=s.pixelX*t}else{if(!(Math.abs(s.pixelY)>Math.abs(s.pixelX)))return;a=s.pixelY}else a=Math.abs(s.pixelX)>Math.abs(s.pixelY)?-s.pixelX*t:-s.pixelY;if(0!==a){if(T.params.mousewheelInvert&&(a=-a),T.params.freeMode){var i=T.getWrapperTranslate()+a*T.params.mousewheelSensitivity,r=T.isBeginning,n=T.isEnd;if(i>=T.minTranslate()&&(i=T.minTranslate()),i<=T.maxTranslate()&&(i=T.maxTranslate()),T.setWrapperTransition(0),T.setWrapperTranslate(i),T.updateProgress(),T.updateActiveIndex(),(!r&&T.isBeginning||!n&&T.isEnd)&&T.updateClasses(),T.params.freeModeSticky?(clearTimeout(T.mousewheel.timeout),T.mousewheel.timeout=setTimeout(function(){T.slideReset()},300)):T.params.lazyLoading&&T.lazy&&T.lazy.load(),T.emit("onScroll",T,e),T.params.autoplay&&T.params.autoplayDisableOnInteraction&&T.stopAutoplay(),0===i||i===T.maxTranslate())return}else{if((new window.Date).getTime()-T.mousewheel.lastScrollTime>60)if(a<0)if(T.isEnd&&!T.params.loop||T.animating){if(T.params.mousewheelReleaseOnEdges)return!0}else T.slideNext(),T.emit("onScroll",T,e);else if(T.isBeginning&&!T.params.loop||T.animating){if(T.params.mousewheelReleaseOnEdges)return!0}else T.slidePrev(),T.emit("onScroll",T,e);T.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function c(a,t){a=e(a);var s,i,r,n=T.rtl?-1:1;s=a.attr("data-swiper-parallax")||"0",i=a.attr("data-swiper-parallax-x"),r=a.attr("data-swiper-parallax-y"),i||r?(i=i||"0",r=r||"0"):T.isHorizontal()?(i=s,r="0"):(r=s,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*t*n+"%":i*t*n+"px",r=r.indexOf("%")>=0?parseInt(r,10)*t+"%":r*t+"px",a.transform("translate3d("+i+", "+r+",0px)")}function m(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof a))return new a(s,i);var h={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},g=i&&i.virtualTranslate;i=i||{};var f={};for(var v in i)if("object"!=typeof i[v]||null===i[v]||(i[v].nodeType||i[v]===window||i[v]===document||void 0!==t&&i[v]instanceof t||"undefined"!=typeof jQuery&&i[v]instanceof jQuery))f[v]=i[v];else{f[v]={};for(var w in i[v])f[v][w]=i[v][w]}for(var y in h)if(void 0===i[y])i[y]=h[y];else if("object"==typeof i[y])for(var x in h[y])void 0===i[y][x]&&(i[y][x]=h[y][x]);var T=this;if(T.params=i,T.originalParams=f,T.classNames=[],void 0!==e&&void 0!==t&&(e=t),(void 0!==e||(e=void 0===t?window.Dom7||window.Zepto||window.jQuery:t))&&(T.$=e,T.currentBreakpoint=void 0,T.getActiveBreakpoint=function(){if(!T.params.breakpoints)return!1;var e,a=!1,t=[];for(e in T.params.breakpoints)T.params.breakpoints.hasOwnProperty(e)&&t.push(e);t.sort(function(e,a){return parseInt(e,10)>parseInt(a,10)});for(var s=0;s<t.length;s++)(e=t[s])>=window.innerWidth&&!a&&(a=e);return a||"max"},T.setBreakpoint=function(){var e=T.getActiveBreakpoint();if(e&&T.currentBreakpoint!==e){var a=e in T.params.breakpoints?T.params.breakpoints[e]:T.originalParams,t=T.params.loop&&a.slidesPerView!==T.params.slidesPerView;for(var s in a)T.params[s]=a[s];T.currentBreakpoint=e,t&&T.destroyLoop&&T.reLoop(!0)}},T.params.breakpoints&&T.setBreakpoint(),T.container=e(s),0!==T.container.length)){if(T.container.length>1){var b=[];return T.container.each(function(){b.push(new a(this,i))}),b}T.container[0].swiper=T,T.container.data("swiper",T),T.classNames.push(T.params.containerModifierClass+T.params.direction),T.params.freeMode&&T.classNames.push(T.params.containerModifierClass+"free-mode"),T.support.flexbox||(T.classNames.push(T.params.containerModifierClass+"no-flexbox"),T.params.slidesPerColumn=1),T.params.autoHeight&&T.classNames.push(T.params.containerModifierClass+"autoheight"),(T.params.parallax||T.params.watchSlidesVisibility)&&(T.params.watchSlidesProgress=!0),T.params.touchReleaseOnEdges&&(T.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(T.params.effect)>=0&&(T.support.transforms3d?(T.params.watchSlidesProgress=!0,T.classNames.push(T.params.containerModifierClass+"3d")):T.params.effect="slide"),"slide"!==T.params.effect&&T.classNames.push(T.params.containerModifierClass+T.params.effect),"cube"===T.params.effect&&(T.params.resistanceRatio=0,T.params.slidesPerView=1,T.params.slidesPerColumn=1,T.params.slidesPerGroup=1,T.params.centeredSlides=!1,T.params.spaceBetween=0,T.params.virtualTranslate=!0),"fade"!==T.params.effect&&"flip"!==T.params.effect||(T.params.slidesPerView=1,T.params.slidesPerColumn=1,T.params.slidesPerGroup=1,T.params.watchSlidesProgress=!0,T.params.spaceBetween=0,void 0===g&&(T.params.virtualTranslate=!0)),T.params.grabCursor&&T.support.touch&&(T.params.grabCursor=!1),T.wrapper=T.container.children("."+T.params.wrapperClass),T.params.pagination&&(T.paginationContainer=e(T.params.pagination),T.params.uniqueNavElements&&"string"==typeof T.params.pagination&&T.paginationContainer.length>1&&1===T.container.find(T.params.pagination).length&&(T.paginationContainer=T.container.find(T.params.pagination)),"bullets"===T.params.paginationType&&T.params.paginationClickable?T.paginationContainer.addClass(T.params.paginationModifierClass+"clickable"):T.params.paginationClickable=!1,T.paginationContainer.addClass(T.params.paginationModifierClass+T.params.paginationType)),(T.params.nextButton||T.params.prevButton)&&(T.params.nextButton&&(T.nextButton=e(T.params.nextButton),T.params.uniqueNavElements&&"string"==typeof T.params.nextButton&&T.nextButton.length>1&&1===T.container.find(T.params.nextButton).length&&(T.nextButton=T.container.find(T.params.nextButton))),T.params.prevButton&&(T.prevButton=e(T.params.prevButton),T.params.uniqueNavElements&&"string"==typeof T.params.prevButton&&T.prevButton.length>1&&1===T.container.find(T.params.prevButton).length&&(T.prevButton=T.container.find(T.params.prevButton)))),T.isHorizontal=function(){return"horizontal"===T.params.direction},T.rtl=T.isHorizontal()&&("rtl"===T.container[0].dir.toLowerCase()||"rtl"===T.container.css("direction")),T.rtl&&T.classNames.push(T.params.containerModifierClass+"rtl"),T.rtl&&(T.wrongRTL="-webkit-box"===T.wrapper.css("display")),T.params.slidesPerColumn>1&&T.classNames.push(T.params.containerModifierClass+"multirow"),T.device.android&&T.classNames.push(T.params.containerModifierClass+"android"),T.container.addClass(T.classNames.join(" ")),T.translate=0,T.progress=0,T.velocity=0,T.lockSwipeToNext=function(){T.params.allowSwipeToNext=!1,T.params.allowSwipeToPrev===!1&&T.params.grabCursor&&T.unsetGrabCursor()},T.lockSwipeToPrev=function(){T.params.allowSwipeToPrev=!1,T.params.allowSwipeToNext===!1&&T.params.grabCursor&&T.unsetGrabCursor()},T.lockSwipes=function(){T.params.allowSwipeToNext=T.params.allowSwipeToPrev=!1,T.params.grabCursor&&T.unsetGrabCursor()},T.unlockSwipeToNext=function(){T.params.allowSwipeToNext=!0,T.params.allowSwipeToPrev===!0&&T.params.grabCursor&&T.setGrabCursor()},T.unlockSwipeToPrev=function(){T.params.allowSwipeToPrev=!0,T.params.allowSwipeToNext===!0&&T.params.grabCursor&&T.setGrabCursor()},T.unlockSwipes=function(){T.params.allowSwipeToNext=T.params.allowSwipeToPrev=!0,T.params.grabCursor&&T.setGrabCursor()},T.setGrabCursor=function(e){T.container[0].style.cursor="move",T.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",T.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",T.container[0].style.cursor=e?"grabbing":"grab"},T.unsetGrabCursor=function(){T.container[0].style.cursor=""},T.params.grabCursor&&T.setGrabCursor(),T.imagesToLoad=[],T.imagesLoaded=0,T.loadImage=function(e,a,t,s,i,r){function n(){r&&r()}var o;e.complete&&i?n():a?(o=new window.Image,o.onload=n,o.onerror=n,s&&(o.sizes=s),t&&(o.srcset=t),a&&(o.src=a)):n()},T.preloadImages=function(){function e(){void 0!==T&&null!==T&&T&&(void 0!==T.imagesLoaded&&T.imagesLoaded++,T.imagesLoaded===T.imagesToLoad.length&&(T.params.updateOnImagesReady&&T.update(),T.emit("onImagesReady",T)))}T.imagesToLoad=T.container.find("img");for(var a=0;a<T.imagesToLoad.length;a++)T.loadImage(T.imagesToLoad[a],T.imagesToLoad[a].currentSrc||T.imagesToLoad[a].getAttribute("src"),T.imagesToLoad[a].srcset||T.imagesToLoad[a].getAttribute("srcset"),T.imagesToLoad[a].sizes||T.imagesToLoad[a].getAttribute("sizes"),!0,e)},T.autoplayTimeoutId=void 0,T.autoplaying=!1,T.autoplayPaused=!1,T.startAutoplay=function(){return void 0===T.autoplayTimeoutId&&(!!T.params.autoplay&&(!T.autoplaying&&(T.autoplaying=!0,T.emit("onAutoplayStart",T),void n())))},T.stopAutoplay=function(e){T.autoplayTimeoutId&&(T.autoplayTimeoutId&&clearTimeout(T.autoplayTimeoutId),T.autoplaying=!1,T.autoplayTimeoutId=void 0,T.emit("onAutoplayStop",T))},T.pauseAutoplay=function(e){T.autoplayPaused||(T.autoplayTimeoutId&&clearTimeout(T.autoplayTimeoutId),T.autoplayPaused=!0,0===e?(T.autoplayPaused=!1,n()):T.wrapper.transitionEnd(function(){T&&(T.autoplayPaused=!1,T.autoplaying?n():T.stopAutoplay())}))},T.minTranslate=function(){return-T.snapGrid[0]},T.maxTranslate=function(){return-T.snapGrid[T.snapGrid.length-1]},T.updateAutoHeight=function(){var e,a=[],t=0;if("auto"!==T.params.slidesPerView&&T.params.slidesPerView>1)for(e=0;e<Math.ceil(T.params.slidesPerView);e++){var s=T.activeIndex+e;if(s>T.slides.length)break;a.push(T.slides.eq(s)[0])}else a.push(T.slides.eq(T.activeIndex)[0]);for(e=0;e<a.length;e++)if(void 0!==a[e]){var i=a[e].offsetHeight;t=i>t?i:t}t&&T.wrapper.css("height",t+"px")},T.updateContainerSize=function(){var e,a;e=void 0!==T.params.width?T.params.width:T.container[0].clientWidth,a=void 0!==T.params.height?T.params.height:T.container[0].clientHeight,0===e&&T.isHorizontal()||0===a&&!T.isHorizontal()||(e=e-parseInt(T.container.css("padding-left"),10)-parseInt(T.container.css("padding-right"),10),a=a-parseInt(T.container.css("padding-top"),10)-parseInt(T.container.css("padding-bottom"),10),T.width=e,T.height=a,T.size=T.isHorizontal()?T.width:T.height)},T.updateSlidesSize=function(){T.slides=T.wrapper.children("."+T.params.slideClass),T.snapGrid=[],T.slidesGrid=[],T.slidesSizesGrid=[];var e,a=T.params.spaceBetween,t=-T.params.slidesOffsetBefore,s=0,i=0;if(void 0!==T.size){"string"==typeof a&&a.indexOf("%")>=0&&(a=parseFloat(a.replace("%",""))/100*T.size),T.virtualSize=-a,T.rtl?T.slides.css({marginLeft:"",marginTop:""}):T.slides.css({marginRight:"",marginBottom:""});var n;T.params.slidesPerColumn>1&&(n=Math.floor(T.slides.length/T.params.slidesPerColumn)===T.slides.length/T.params.slidesPerColumn?T.slides.length:Math.ceil(T.slides.length/T.params.slidesPerColumn)*T.params.slidesPerColumn,"auto"!==T.params.slidesPerView&&"row"===T.params.slidesPerColumnFill&&(n=Math.max(n,T.params.slidesPerView*T.params.slidesPerColumn)));var o,l=T.params.slidesPerColumn,p=n/l,d=p-(T.params.slidesPerColumn*p-T.slides.length);for(e=0;e<T.slides.length;e++){o=0;var u=T.slides.eq(e);if(T.params.slidesPerColumn>1){var c,m,h;"column"===T.params.slidesPerColumnFill?(m=Math.floor(e/l),h=e-m*l,(m>d||m===d&&h===l-1)&&++h>=l&&(h=0,m++),c=m+h*n/l,u.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(h=Math.floor(e/p),m=e-h*p),u.css("margin-"+(T.isHorizontal()?"top":"left"),0!==h&&T.params.spaceBetween&&T.params.spaceBetween+"px").attr("data-swiper-column",m).attr("data-swiper-row",h)}"none"!==u.css("display")&&("auto"===T.params.slidesPerView?(o=T.isHorizontal()?u.outerWidth(!0):u.outerHeight(!0),T.params.roundLengths&&(o=r(o))):(o=(T.size-(T.params.slidesPerView-1)*a)/T.params.slidesPerView,T.params.roundLengths&&(o=r(o)),T.isHorizontal()?T.slides[e].style.width=o+"px":T.slides[e].style.height=o+"px"),T.slides[e].swiperSlideSize=o,T.slidesSizesGrid.push(o),T.params.centeredSlides?(t=t+o/2+s/2+a,0===s&&0!==e&&(t=t-T.size/2-a),0===e&&(t=t-T.size/2-a),Math.abs(t)<.001&&(t=0),i%T.params.slidesPerGroup==0&&T.snapGrid.push(t),T.slidesGrid.push(t)):(i%T.params.slidesPerGroup==0&&T.snapGrid.push(t),T.slidesGrid.push(t),t=t+o+a),T.virtualSize+=o+a,s=o,i++)}T.virtualSize=Math.max(T.virtualSize,T.size)+T.params.slidesOffsetAfter;var g;if(T.rtl&&T.wrongRTL&&("slide"===T.params.effect||"coverflow"===T.params.effect)&&T.wrapper.css({width:T.virtualSize+T.params.spaceBetween+"px"}),T.support.flexbox&&!T.params.setWrapperSize||(T.isHorizontal()?T.wrapper.css({width:T.virtualSize+T.params.spaceBetween+"px"}):T.wrapper.css({height:T.virtualSize+T.params.spaceBetween+"px"})),T.params.slidesPerColumn>1&&(T.virtualSize=(o+T.params.spaceBetween)*n,T.virtualSize=Math.ceil(T.virtualSize/T.params.slidesPerColumn)-T.params.spaceBetween,T.isHorizontal()?T.wrapper.css({width:T.virtualSize+T.params.spaceBetween+"px"}):T.wrapper.css({height:T.virtualSize+T.params.spaceBetween+"px"}),T.params.centeredSlides)){for(g=[],e=0;e<T.snapGrid.length;e++)T.snapGrid[e]<T.virtualSize+T.snapGrid[0]&&g.push(T.snapGrid[e]);T.snapGrid=g}if(!T.params.centeredSlides){for(g=[],e=0;e<T.snapGrid.length;e++)T.snapGrid[e]<=T.virtualSize-T.size&&g.push(T.snapGrid[e]);T.snapGrid=g,Math.floor(T.virtualSize-T.size)-Math.floor(T.snapGrid[T.snapGrid.length-1])>1&&T.snapGrid.push(T.virtualSize-T.size)}0===T.snapGrid.length&&(T.snapGrid=[0]),0!==T.params.spaceBetween&&(T.isHorizontal()?T.rtl?T.slides.css({marginLeft:a+"px"}):T.slides.css({marginRight:a+"px"}):T.slides.css({marginBottom:a+"px"})),T.params.watchSlidesProgress&&T.updateSlidesOffset()}},T.updateSlidesOffset=function(){for(var e=0;e<T.slides.length;e++)T.slides[e].swiperSlideOffset=T.isHorizontal()?T.slides[e].offsetLeft:T.slides[e].offsetTop},T.currentSlidesPerView=function(){var e,a,t=1;if(T.params.centeredSlides){var s,i=T.slides[T.activeIndex].swiperSlideSize;for(e=T.activeIndex+1;e<T.slides.length;e++)T.slides[e]&&!s&&(i+=T.slides[e].swiperSlideSize,t++,i>T.size&&(s=!0));for(a=T.activeIndex-1;a>=0;a--)T.slides[a]&&!s&&(i+=T.slides[a].swiperSlideSize,t++,i>T.size&&(s=!0))}else for(e=T.activeIndex+1;e<T.slides.length;e++)T.slidesGrid[e]-T.slidesGrid[T.activeIndex]<T.size&&t++;return t},T.updateSlidesProgress=function(e){if(void 0===e&&(e=T.translate||0),0!==T.slides.length){void 0===T.slides[0].swiperSlideOffset&&T.updateSlidesOffset();var a=-e;T.rtl&&(a=e),T.slides.removeClass(T.params.slideVisibleClass);for(var t=0;t<T.slides.length;t++){var s=T.slides[t],i=(a+(T.params.centeredSlides?T.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+T.params.spaceBetween);if(T.params.watchSlidesVisibility){var r=-(a-s.swiperSlideOffset),n=r+T.slidesSizesGrid[t];(r>=0&&r<T.size||n>0&&n<=T.size||r<=0&&n>=T.size)&&T.slides.eq(t).addClass(T.params.slideVisibleClass)}s.progress=T.rtl?-i:i}}},T.updateProgress=function(e){void 0===e&&(e=T.translate||0);var a=T.maxTranslate()-T.minTranslate(),t=T.isBeginning,s=T.isEnd;0===a?(T.progress=0,T.isBeginning=T.isEnd=!0):(T.progress=(e-T.minTranslate())/a,T.isBeginning=T.progress<=0,T.isEnd=T.progress>=1),T.isBeginning&&!t&&T.emit("onReachBeginning",T),T.isEnd&&!s&&T.emit("onReachEnd",T),T.params.watchSlidesProgress&&T.updateSlidesProgress(e),T.emit("onProgress",T,T.progress)},T.updateActiveIndex=function(){var e,a,t,s=T.rtl?T.translate:-T.translate;for(a=0;a<T.slidesGrid.length;a++)void 0!==T.slidesGrid[a+1]?s>=T.slidesGrid[a]&&s<T.slidesGrid[a+1]-(T.slidesGrid[a+1]-T.slidesGrid[a])/2?e=a:s>=T.slidesGrid[a]&&s<T.slidesGrid[a+1]&&(e=a+1):s>=T.slidesGrid[a]&&(e=a);T.params.normalizeSlideIndex&&(e<0||void 0===e)&&(e=0),t=Math.floor(e/T.params.slidesPerGroup),t>=T.snapGrid.length&&(t=T.snapGrid.length-1),e!==T.activeIndex&&(T.snapIndex=t,T.previousIndex=T.activeIndex,T.activeIndex=e,T.updateClasses(),T.updateRealIndex())},T.updateRealIndex=function(){T.realIndex=parseInt(T.slides.eq(T.activeIndex).attr("data-swiper-slide-index")||T.activeIndex,10)},T.updateClasses=function(){T.slides.removeClass(T.params.slideActiveClass+" "+T.params.slideNextClass+" "+T.params.slidePrevClass+" "+T.params.slideDuplicateActiveClass+" "+T.params.slideDuplicateNextClass+" "+T.params.slideDuplicatePrevClass);var a=T.slides.eq(T.activeIndex);a.addClass(T.params.slideActiveClass),i.loop&&(a.hasClass(T.params.slideDuplicateClass)?T.wrapper.children("."+T.params.slideClass+":not(."+T.params.slideDuplicateClass+')[data-swiper-slide-index="'+T.realIndex+'"]').addClass(T.params.slideDuplicateActiveClass):T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass+'[data-swiper-slide-index="'+T.realIndex+'"]').addClass(T.params.slideDuplicateActiveClass));var t=a.next("."+T.params.slideClass).addClass(T.params.slideNextClass);T.params.loop&&0===t.length&&(t=T.slides.eq(0),t.addClass(T.params.slideNextClass));var s=a.prev("."+T.params.slideClass).addClass(T.params.slidePrevClass);if(T.params.loop&&0===s.length&&(s=T.slides.eq(-1),s.addClass(T.params.slidePrevClass)),i.loop&&(t.hasClass(T.params.slideDuplicateClass)?T.wrapper.children("."+T.params.slideClass+":not(."+T.params.slideDuplicateClass+')[data-swiper-slide-index="'+t.attr("data-swiper-slide-index")+'"]').addClass(T.params.slideDuplicateNextClass):T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass+'[data-swiper-slide-index="'+t.attr("data-swiper-slide-index")+'"]').addClass(T.params.slideDuplicateNextClass),s.hasClass(T.params.slideDuplicateClass)?T.wrapper.children("."+T.params.slideClass+":not(."+T.params.slideDuplicateClass+')[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(T.params.slideDuplicatePrevClass):T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass+'[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(T.params.slideDuplicatePrevClass)),T.paginationContainer&&T.paginationContainer.length>0){var r,n=T.params.loop?Math.ceil((T.slides.length-2*T.loopedSlides)/T.params.slidesPerGroup):T.snapGrid.length;if(T.params.loop?(r=Math.ceil((T.activeIndex-T.loopedSlides)/T.params.slidesPerGroup),r>T.slides.length-1-2*T.loopedSlides&&(r-=T.slides.length-2*T.loopedSlides),r>n-1&&(r-=n),r<0&&"bullets"!==T.params.paginationType&&(r=n+r)):r=void 0!==T.snapIndex?T.snapIndex:T.activeIndex||0,"bullets"===T.params.paginationType&&T.bullets&&T.bullets.length>0&&(T.bullets.removeClass(T.params.bulletActiveClass),T.paginationContainer.length>1?T.bullets.each(function(){e(this).index()===r&&e(this).addClass(T.params.bulletActiveClass)}):T.bullets.eq(r).addClass(T.params.bulletActiveClass)),"fraction"===T.params.paginationType&&(T.paginationContainer.find("."+T.params.paginationCurrentClass).text(r+1),T.paginationContainer.find("."+T.params.paginationTotalClass).text(n)),"progress"===T.params.paginationType){var o=(r+1)/n,l=o,p=1;T.isHorizontal()||(p=o,l=1),T.paginationContainer.find("."+T.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+p+")").transition(T.params.speed)}"custom"===T.params.paginationType&&T.params.paginationCustomRender&&(T.paginationContainer.html(T.params.paginationCustomRender(T,r+1,n)),T.emit("onPaginationRendered",T,T.paginationContainer[0]))}T.params.loop||(T.params.prevButton&&T.prevButton&&T.prevButton.length>0&&(T.isBeginning?(T.prevButton.addClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.disable(T.prevButton)):(T.prevButton.removeClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.enable(T.prevButton))),T.params.nextButton&&T.nextButton&&T.nextButton.length>0&&(T.isEnd?(T.nextButton.addClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.disable(T.nextButton)):(T.nextButton.removeClass(T.params.buttonDisabledClass),T.params.a11y&&T.a11y&&T.a11y.enable(T.nextButton))))},T.updatePagination=function(){if(T.params.pagination&&T.paginationContainer&&T.paginationContainer.length>0){var e="";if("bullets"===T.params.paginationType){for(var a=T.params.loop?Math.ceil((T.slides.length-2*T.loopedSlides)/T.params.slidesPerGroup):T.snapGrid.length,t=0;t<a;t++)e+=T.params.paginationBulletRender?T.params.paginationBulletRender(T,t,T.params.bulletClass):"<"+T.params.paginationElement+' class="'+T.params.bulletClass+'"></'+T.params.paginationElement+">";T.paginationContainer.html(e),T.bullets=T.paginationContainer.find("."+T.params.bulletClass),T.params.paginationClickable&&T.params.a11y&&T.a11y&&T.a11y.initPagination()}"fraction"===T.params.paginationType&&(e=T.params.paginationFractionRender?T.params.paginationFractionRender(T,T.params.paginationCurrentClass,T.params.paginationTotalClass):'<span class="'+T.params.paginationCurrentClass+'"></span> / <span class="'+T.params.paginationTotalClass+'"></span>',T.paginationContainer.html(e)),"progress"===T.params.paginationType&&(e=T.params.paginationProgressRender?T.params.paginationProgressRender(T,T.params.paginationProgressbarClass):'<span class="'+T.params.paginationProgressbarClass+'"></span>',T.paginationContainer.html(e)),"custom"!==T.params.paginationType&&T.emit("onPaginationRendered",T,T.paginationContainer[0])}},T.update=function(e){function a(){T.rtl,T.translate;t=Math.min(Math.max(T.translate,T.maxTranslate()),T.minTranslate()),T.setWrapperTranslate(t),T.updateActiveIndex(),T.updateClasses()}if(T){T.updateContainerSize(),T.updateSlidesSize(),T.updateProgress(),T.updatePagination(),T.updateClasses(),T.params.scrollbar&&T.scrollbar&&T.scrollbar.set();var t;if(e){T.controller&&T.controller.spline&&(T.controller.spline=void 0),T.params.freeMode?(a(),T.params.autoHeight&&T.updateAutoHeight()):(("auto"===T.params.slidesPerView||T.params.slidesPerView>1)&&T.isEnd&&!T.params.centeredSlides?T.slideTo(T.slides.length-1,0,!1,!0):T.slideTo(T.activeIndex,0,!1,!0))||a()}else T.params.autoHeight&&T.updateAutoHeight()}},T.onResize=function(e){T.params.onBeforeResize&&T.params.onBeforeResize(T),T.params.breakpoints&&T.setBreakpoint();var a=T.params.allowSwipeToPrev,t=T.params.allowSwipeToNext;T.params.allowSwipeToPrev=T.params.allowSwipeToNext=!0,T.updateContainerSize(),T.updateSlidesSize(),("auto"===T.params.slidesPerView||T.params.freeMode||e)&&T.updatePagination(),T.params.scrollbar&&T.scrollbar&&T.scrollbar.set(),T.controller&&T.controller.spline&&(T.controller.spline=void 0);var s=!1;if(T.params.freeMode){var i=Math.min(Math.max(T.translate,T.maxTranslate()),T.minTranslate());T.setWrapperTranslate(i),T.updateActiveIndex(),T.updateClasses(),T.params.autoHeight&&T.updateAutoHeight()}else T.updateClasses(),s=("auto"===T.params.slidesPerView||T.params.slidesPerView>1)&&T.isEnd&&!T.params.centeredSlides?T.slideTo(T.slides.length-1,0,!1,!0):T.slideTo(T.activeIndex,0,!1,!0);T.params.lazyLoading&&!s&&T.lazy&&T.lazy.load(),T.params.allowSwipeToPrev=a,T.params.allowSwipeToNext=t,T.params.onAfterResize&&T.params.onAfterResize(T)},T.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?T.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(T.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),T.touchEvents={start:T.support.touch||!T.params.simulateTouch?"touchstart":T.touchEventsDesktop.start,move:T.support.touch||!T.params.simulateTouch?"touchmove":T.touchEventsDesktop.move,end:T.support.touch||!T.params.simulateTouch?"touchend":T.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===T.params.touchEventsTarget?T.container:T.wrapper).addClass("swiper-wp8-"+T.params.direction),T.initEvents=function(e){var a=e?"off":"on",t=e?"removeEventListener":"addEventListener",s="container"===T.params.touchEventsTarget?T.container[0]:T.wrapper[0],r=T.support.touch?s:document,n=!!T.params.nested;if(T.browser.ie)s[t](T.touchEvents.start,T.onTouchStart,!1),r[t](T.touchEvents.move,T.onTouchMove,n),r[t](T.touchEvents.end,T.onTouchEnd,!1);else{if(T.support.touch){var o=!("touchstart"!==T.touchEvents.start||!T.support.passiveListener||!T.params.passiveListeners)&&{passive:!0,capture:!1};s[t](T.touchEvents.start,T.onTouchStart,o),s[t](T.touchEvents.move,T.onTouchMove,n),s[t](T.touchEvents.end,T.onTouchEnd,o)}(i.simulateTouch&&!T.device.ios&&!T.device.android||i.simulateTouch&&!T.support.touch&&T.device.ios)&&(s[t]("mousedown",T.onTouchStart,!1),document[t]("mousemove",T.onTouchMove,n),document[t]("mouseup",T.onTouchEnd,!1))}window[t]("resize",T.onResize),T.params.nextButton&&T.nextButton&&T.nextButton.length>0&&(T.nextButton[a]("click",T.onClickNext),T.params.a11y&&T.a11y&&T.nextButton[a]("keydown",T.a11y.onEnterKey)),T.params.prevButton&&T.prevButton&&T.prevButton.length>0&&(T.prevButton[a]("click",T.onClickPrev),T.params.a11y&&T.a11y&&T.prevButton[a]("keydown",T.a11y.onEnterKey)),T.params.pagination&&T.params.paginationClickable&&(T.paginationContainer[a]("click","."+T.params.bulletClass,T.onClickIndex),T.params.a11y&&T.a11y&&T.paginationContainer[a]("keydown","."+T.params.bulletClass,T.a11y.onEnterKey)),(T.params.preventClicks||T.params.preventClicksPropagation)&&s[t]("click",T.preventClicks,!0)},T.attachEvents=function(){T.initEvents()},T.detachEvents=function(){T.initEvents(!0)},T.allowClick=!0,T.preventClicks=function(e){T.allowClick||(T.params.preventClicks&&e.preventDefault(),T.params.preventClicksPropagation&&T.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},T.onClickNext=function(e){e.preventDefault(),T.isEnd&&!T.params.loop||T.slideNext()},T.onClickPrev=function(e){e.preventDefault(),T.isBeginning&&!T.params.loop||T.slidePrev()},T.onClickIndex=function(a){a.preventDefault();var t=e(this).index()*T.params.slidesPerGroup;T.params.loop&&(t+=T.loopedSlides),T.slideTo(t)},T.updateClickedSlide=function(a){
    var t=o(a,"."+T.params.slideClass),s=!1;if(t)for(var i=0;i<T.slides.length;i++)T.slides[i]===t&&(s=!0);if(!t||!s)return T.clickedSlide=void 0,void(T.clickedIndex=void 0);if(T.clickedSlide=t,T.clickedIndex=e(t).index(),T.params.slideToClickedSlide&&void 0!==T.clickedIndex&&T.clickedIndex!==T.activeIndex){var r,n=T.clickedIndex,l="auto"===T.params.slidesPerView?T.currentSlidesPerView():T.params.slidesPerView;if(T.params.loop){if(T.animating)return;r=parseInt(e(T.clickedSlide).attr("data-swiper-slide-index"),10),T.params.centeredSlides?n<T.loopedSlides-l/2||n>T.slides.length-T.loopedSlides+l/2?(T.fixLoop(),n=T.wrapper.children("."+T.params.slideClass+'[data-swiper-slide-index="'+r+'"]:not(.'+T.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){T.slideTo(n)},0)):T.slideTo(n):n>T.slides.length-l?(T.fixLoop(),n=T.wrapper.children("."+T.params.slideClass+'[data-swiper-slide-index="'+r+'"]:not(.'+T.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){T.slideTo(n)},0)):T.slideTo(n)}else T.slideTo(n)}};var S,C,z,M,E,P,I,k,L,D,B="input, select, textarea, button, video",H=Date.now(),G=[];T.animating=!1,T.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var X,A;T.onTouchStart=function(a){if(a.originalEvent&&(a=a.originalEvent),(X="touchstart"===a.type)||!("which"in a)||3!==a.which){if(T.params.noSwiping&&o(a,"."+T.params.noSwipingClass))return void(T.allowClick=!0);if(!T.params.swipeHandler||o(a,T.params.swipeHandler)){var t=T.touches.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,s=T.touches.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;if(!(T.device.ios&&T.params.iOSEdgeSwipeDetection&&t<=T.params.iOSEdgeSwipeThreshold)){if(S=!0,C=!1,z=!0,E=void 0,A=void 0,T.touches.startX=t,T.touches.startY=s,M=Date.now(),T.allowClick=!0,T.updateContainerSize(),T.swipeDirection=void 0,T.params.threshold>0&&(k=!1),"touchstart"!==a.type){var i=!0;e(a.target).is(B)&&(i=!1),document.activeElement&&e(document.activeElement).is(B)&&document.activeElement.blur(),i&&a.preventDefault()}T.emit("onTouchStart",T,a)}}}},T.onTouchMove=function(a){if(a.originalEvent&&(a=a.originalEvent),!X||"mousemove"!==a.type){if(a.preventedByNestedSwiper)return T.touches.startX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,void(T.touches.startY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY);if(T.params.onlyExternal)return T.allowClick=!1,void(S&&(T.touches.startX=T.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,T.touches.startY=T.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,M=Date.now()));if(X&&T.params.touchReleaseOnEdges&&!T.params.loop)if(T.isHorizontal()){if(T.touches.currentX<T.touches.startX&&T.translate<=T.maxTranslate()||T.touches.currentX>T.touches.startX&&T.translate>=T.minTranslate())return}else if(T.touches.currentY<T.touches.startY&&T.translate<=T.maxTranslate()||T.touches.currentY>T.touches.startY&&T.translate>=T.minTranslate())return;if(X&&document.activeElement&&a.target===document.activeElement&&e(a.target).is(B))return C=!0,void(T.allowClick=!1);if(z&&T.emit("onTouchMove",T,a),!(a.targetTouches&&a.targetTouches.length>1)){if(T.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,T.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,void 0===E){var t;T.isHorizontal()&&T.touches.currentY===T.touches.startY||!T.isHorizontal()&&T.touches.currentX===T.touches.startX?E=!1:(t=180*Math.atan2(Math.abs(T.touches.currentY-T.touches.startY),Math.abs(T.touches.currentX-T.touches.startX))/Math.PI,E=T.isHorizontal()?t>T.params.touchAngle:90-t>T.params.touchAngle)}if(E&&T.emit("onTouchMoveOpposite",T,a),void 0===A&&(T.touches.currentX===T.touches.startX&&T.touches.currentY===T.touches.startY||(A=!0)),S){if(E)return void(S=!1);if(A){T.allowClick=!1,T.emit("onSliderMove",T,a),a.preventDefault(),T.params.touchMoveStopPropagation&&!T.params.nested&&a.stopPropagation(),C||(i.loop&&T.fixLoop(),I=T.getWrapperTranslate(),T.setWrapperTransition(0),T.animating&&T.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),T.params.autoplay&&T.autoplaying&&(T.params.autoplayDisableOnInteraction?T.stopAutoplay():T.pauseAutoplay()),D=!1,!T.params.grabCursor||T.params.allowSwipeToNext!==!0&&T.params.allowSwipeToPrev!==!0||T.setGrabCursor(!0)),C=!0;var s=T.touches.diff=T.isHorizontal()?T.touches.currentX-T.touches.startX:T.touches.currentY-T.touches.startY;s*=T.params.touchRatio,T.rtl&&(s=-s),T.swipeDirection=s>0?"prev":"next",P=s+I;var r=!0;if(s>0&&P>T.minTranslate()?(r=!1,T.params.resistance&&(P=T.minTranslate()-1+Math.pow(-T.minTranslate()+I+s,T.params.resistanceRatio))):s<0&&P<T.maxTranslate()&&(r=!1,T.params.resistance&&(P=T.maxTranslate()+1-Math.pow(T.maxTranslate()-I-s,T.params.resistanceRatio))),r&&(a.preventedByNestedSwiper=!0),!T.params.allowSwipeToNext&&"next"===T.swipeDirection&&P<I&&(P=I),!T.params.allowSwipeToPrev&&"prev"===T.swipeDirection&&P>I&&(P=I),T.params.threshold>0){if(!(Math.abs(s)>T.params.threshold||k))return void(P=I);if(!k)return k=!0,T.touches.startX=T.touches.currentX,T.touches.startY=T.touches.currentY,P=I,void(T.touches.diff=T.isHorizontal()?T.touches.currentX-T.touches.startX:T.touches.currentY-T.touches.startY)}T.params.followFinger&&((T.params.freeMode||T.params.watchSlidesProgress)&&T.updateActiveIndex(),T.params.freeMode&&(0===G.length&&G.push({position:T.touches[T.isHorizontal()?"startX":"startY"],time:M}),G.push({position:T.touches[T.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),T.updateProgress(P),T.setWrapperTranslate(P))}}}}},T.onTouchEnd=function(a){if(a.originalEvent&&(a=a.originalEvent),z&&T.emit("onTouchEnd",T,a),z=!1,S){T.params.grabCursor&&C&&S&&(T.params.allowSwipeToNext===!0||T.params.allowSwipeToPrev===!0)&&T.setGrabCursor(!1);var t=Date.now(),s=t-M;if(T.allowClick&&(T.updateClickedSlide(a),T.emit("onTap",T,a),s<300&&t-H>300&&(L&&clearTimeout(L),L=setTimeout(function(){T&&(T.params.paginationHide&&T.paginationContainer.length>0&&!e(a.target).hasClass(T.params.bulletClass)&&T.paginationContainer.toggleClass(T.params.paginationHiddenClass),T.emit("onClick",T,a))},300)),s<300&&t-H<300&&(L&&clearTimeout(L),T.emit("onDoubleTap",T,a))),H=Date.now(),setTimeout(function(){T&&(T.allowClick=!0)},0),!S||!C||!T.swipeDirection||0===T.touches.diff||P===I)return void(S=C=!1);S=C=!1;var i;if(i=T.params.followFinger?T.rtl?T.translate:-T.translate:-P,T.params.freeMode){if(i<-T.minTranslate())return void T.slideTo(T.activeIndex);if(i>-T.maxTranslate())return void(T.slides.length<T.snapGrid.length?T.slideTo(T.snapGrid.length-1):T.slideTo(T.slides.length-1));if(T.params.freeModeMomentum){if(G.length>1){var r=G.pop(),n=G.pop(),o=r.position-n.position,l=r.time-n.time;T.velocity=o/l,T.velocity=T.velocity/2,Math.abs(T.velocity)<T.params.freeModeMinimumVelocity&&(T.velocity=0),(l>150||(new window.Date).getTime()-r.time>300)&&(T.velocity=0)}else T.velocity=0;T.velocity=T.velocity*T.params.freeModeMomentumVelocityRatio,G.length=0;var p=1e3*T.params.freeModeMomentumRatio,d=T.velocity*p,u=T.translate+d;T.rtl&&(u=-u);var c,m=!1,h=20*Math.abs(T.velocity)*T.params.freeModeMomentumBounceRatio;if(u<T.maxTranslate())T.params.freeModeMomentumBounce?(u+T.maxTranslate()<-h&&(u=T.maxTranslate()-h),c=T.maxTranslate(),m=!0,D=!0):u=T.maxTranslate();else if(u>T.minTranslate())T.params.freeModeMomentumBounce?(u-T.minTranslate()>h&&(u=T.minTranslate()+h),c=T.minTranslate(),m=!0,D=!0):u=T.minTranslate();else if(T.params.freeModeSticky){var g,f=0;for(f=0;f<T.snapGrid.length;f+=1)if(T.snapGrid[f]>-u){g=f;break}u=Math.abs(T.snapGrid[g]-u)<Math.abs(T.snapGrid[g-1]-u)||"next"===T.swipeDirection?T.snapGrid[g]:T.snapGrid[g-1],T.rtl||(u=-u)}if(0!==T.velocity)p=T.rtl?Math.abs((-u-T.translate)/T.velocity):Math.abs((u-T.translate)/T.velocity);else if(T.params.freeModeSticky)return void T.slideReset();T.params.freeModeMomentumBounce&&m?(T.updateProgress(c),T.setWrapperTransition(p),T.setWrapperTranslate(u),T.onTransitionStart(),T.animating=!0,T.wrapper.transitionEnd(function(){T&&D&&(T.emit("onMomentumBounce",T),T.setWrapperTransition(T.params.speed),T.setWrapperTranslate(c),T.wrapper.transitionEnd(function(){T&&T.onTransitionEnd()}))})):T.velocity?(T.updateProgress(u),T.setWrapperTransition(p),T.setWrapperTranslate(u),T.onTransitionStart(),T.animating||(T.animating=!0,T.wrapper.transitionEnd(function(){T&&T.onTransitionEnd()}))):T.updateProgress(u),T.updateActiveIndex()}return void((!T.params.freeModeMomentum||s>=T.params.longSwipesMs)&&(T.updateProgress(),T.updateActiveIndex()))}var v,w=0,y=T.slidesSizesGrid[0];for(v=0;v<T.slidesGrid.length;v+=T.params.slidesPerGroup)void 0!==T.slidesGrid[v+T.params.slidesPerGroup]?i>=T.slidesGrid[v]&&i<T.slidesGrid[v+T.params.slidesPerGroup]&&(w=v,y=T.slidesGrid[v+T.params.slidesPerGroup]-T.slidesGrid[v]):i>=T.slidesGrid[v]&&(w=v,y=T.slidesGrid[T.slidesGrid.length-1]-T.slidesGrid[T.slidesGrid.length-2]);var x=(i-T.slidesGrid[w])/y;if(s>T.params.longSwipesMs){if(!T.params.longSwipes)return void T.slideTo(T.activeIndex);"next"===T.swipeDirection&&(x>=T.params.longSwipesRatio?T.slideTo(w+T.params.slidesPerGroup):T.slideTo(w)),"prev"===T.swipeDirection&&(x>1-T.params.longSwipesRatio?T.slideTo(w+T.params.slidesPerGroup):T.slideTo(w))}else{if(!T.params.shortSwipes)return void T.slideTo(T.activeIndex);"next"===T.swipeDirection&&T.slideTo(w+T.params.slidesPerGroup),"prev"===T.swipeDirection&&T.slideTo(w)}}},T._slideTo=function(e,a){return T.slideTo(e,a,!0,!0)},T.slideTo=function(e,a,t,s){void 0===t&&(t=!0),void 0===e&&(e=0),e<0&&(e=0),T.snapIndex=Math.floor(e/T.params.slidesPerGroup),T.snapIndex>=T.snapGrid.length&&(T.snapIndex=T.snapGrid.length-1);var i=-T.snapGrid[T.snapIndex];if(T.params.autoplay&&T.autoplaying&&(s||!T.params.autoplayDisableOnInteraction?T.pauseAutoplay(a):T.stopAutoplay()),T.updateProgress(i),T.params.normalizeSlideIndex)for(var r=0;r<T.slidesGrid.length;r++)-Math.floor(100*i)>=Math.floor(100*T.slidesGrid[r])&&(e=r);return!(!T.params.allowSwipeToNext&&i<T.translate&&i<T.minTranslate())&&(!(!T.params.allowSwipeToPrev&&i>T.translate&&i>T.maxTranslate()&&(T.activeIndex||0)!==e)&&(void 0===a&&(a=T.params.speed),T.previousIndex=T.activeIndex||0,T.activeIndex=e,T.updateRealIndex(),T.rtl&&-i===T.translate||!T.rtl&&i===T.translate?(T.params.autoHeight&&T.updateAutoHeight(),T.updateClasses(),"slide"!==T.params.effect&&T.setWrapperTranslate(i),!1):(T.updateClasses(),T.onTransitionStart(t),0===a||T.browser.lteIE9?(T.setWrapperTranslate(i),T.setWrapperTransition(0),T.onTransitionEnd(t)):(T.setWrapperTranslate(i),T.setWrapperTransition(a),T.animating||(T.animating=!0,T.wrapper.transitionEnd(function(){T&&T.onTransitionEnd(t)}))),!0)))},T.onTransitionStart=function(e){void 0===e&&(e=!0),T.params.autoHeight&&T.updateAutoHeight(),T.lazy&&T.lazy.onTransitionStart(),e&&(T.emit("onTransitionStart",T),T.activeIndex!==T.previousIndex&&(T.emit("onSlideChangeStart",T),T.activeIndex>T.previousIndex?T.emit("onSlideNextStart",T):T.emit("onSlidePrevStart",T)))},T.onTransitionEnd=function(e){T.animating=!1,T.setWrapperTransition(0),void 0===e&&(e=!0),T.lazy&&T.lazy.onTransitionEnd(),e&&(T.emit("onTransitionEnd",T),T.activeIndex!==T.previousIndex&&(T.emit("onSlideChangeEnd",T),T.activeIndex>T.previousIndex?T.emit("onSlideNextEnd",T):T.emit("onSlidePrevEnd",T))),T.params.history&&T.history&&T.history.setHistory(T.params.history,T.activeIndex),T.params.hashnav&&T.hashnav&&T.hashnav.setHash()},T.slideNext=function(e,a,t){if(T.params.loop){if(T.animating)return!1;T.fixLoop();T.container[0].clientLeft;return T.slideTo(T.activeIndex+T.params.slidesPerGroup,a,e,t)}return T.slideTo(T.activeIndex+T.params.slidesPerGroup,a,e,t)},T._slideNext=function(e){return T.slideNext(!0,e,!0)},T.slidePrev=function(e,a,t){if(T.params.loop){if(T.animating)return!1;T.fixLoop();T.container[0].clientLeft;return T.slideTo(T.activeIndex-1,a,e,t)}return T.slideTo(T.activeIndex-1,a,e,t)},T._slidePrev=function(e){return T.slidePrev(!0,e,!0)},T.slideReset=function(e,a,t){return T.slideTo(T.activeIndex,a,e)},T.disableTouchControl=function(){return T.params.onlyExternal=!0,!0},T.enableTouchControl=function(){return T.params.onlyExternal=!1,!0},T.setWrapperTransition=function(e,a){T.wrapper.transition(e),"slide"!==T.params.effect&&T.effects[T.params.effect]&&T.effects[T.params.effect].setTransition(e),T.params.parallax&&T.parallax&&T.parallax.setTransition(e),T.params.scrollbar&&T.scrollbar&&T.scrollbar.setTransition(e),T.params.control&&T.controller&&T.controller.setTransition(e,a),T.emit("onSetTransition",T,e)},T.setWrapperTranslate=function(e,a,t){var s=0,i=0;T.isHorizontal()?s=T.rtl?-e:e:i=e,T.params.roundLengths&&(s=r(s),i=r(i)),T.params.virtualTranslate||(T.support.transforms3d?T.wrapper.transform("translate3d("+s+"px, "+i+"px, 0px)"):T.wrapper.transform("translate("+s+"px, "+i+"px)")),T.translate=T.isHorizontal()?s:i;var n,o=T.maxTranslate()-T.minTranslate();n=0===o?0:(e-T.minTranslate())/o,n!==T.progress&&T.updateProgress(e),a&&T.updateActiveIndex(),"slide"!==T.params.effect&&T.effects[T.params.effect]&&T.effects[T.params.effect].setTranslate(T.translate),T.params.parallax&&T.parallax&&T.parallax.setTranslate(T.translate),T.params.scrollbar&&T.scrollbar&&T.scrollbar.setTranslate(T.translate),T.params.control&&T.controller&&T.controller.setTranslate(T.translate,t),T.emit("onSetTranslate",T,T.translate)},T.getTranslate=function(e,a){var t,s,i,r;return void 0===a&&(a="x"),T.params.virtualTranslate?T.rtl?-T.translate:T.translate:(i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(s=i.transform||i.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new window.WebKitCSSMatrix("none"===s?"":s)):(r=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=r.toString().split(",")),"x"===a&&(s=window.WebKitCSSMatrix?r.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===a&&(s=window.WebKitCSSMatrix?r.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),T.rtl&&s&&(s=-s),s||0)},T.getWrapperTranslate=function(e){return void 0===e&&(e=T.isHorizontal()?"x":"y"),T.getTranslate(T.wrapper[0],e)},T.observers=[],T.initObservers=function(){if(T.params.observeParents)for(var e=T.container.parents(),a=0;a<e.length;a++)l(e[a]);l(T.container[0],{childList:!1}),l(T.wrapper[0],{attributes:!1})},T.disconnectObservers=function(){for(var e=0;e<T.observers.length;e++)T.observers[e].disconnect();T.observers=[]},T.createLoop=function(){T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass).remove();var a=T.wrapper.children("."+T.params.slideClass);"auto"!==T.params.slidesPerView||T.params.loopedSlides||(T.params.loopedSlides=a.length),T.loopedSlides=parseInt(T.params.loopedSlides||T.params.slidesPerView,10),T.loopedSlides=T.loopedSlides+T.params.loopAdditionalSlides,T.loopedSlides>a.length&&(T.loopedSlides=a.length);var t,s=[],i=[];for(a.each(function(t,r){var n=e(this);t<T.loopedSlides&&i.push(r),t<a.length&&t>=a.length-T.loopedSlides&&s.push(r),n.attr("data-swiper-slide-index",t)}),t=0;t<i.length;t++)T.wrapper.append(e(i[t].cloneNode(!0)).addClass(T.params.slideDuplicateClass));for(t=s.length-1;t>=0;t--)T.wrapper.prepend(e(s[t].cloneNode(!0)).addClass(T.params.slideDuplicateClass))},T.destroyLoop=function(){T.wrapper.children("."+T.params.slideClass+"."+T.params.slideDuplicateClass).remove(),T.slides.removeAttr("data-swiper-slide-index")},T.reLoop=function(e){var a=T.activeIndex-T.loopedSlides;T.destroyLoop(),T.createLoop(),T.updateSlidesSize(),e&&T.slideTo(a+T.loopedSlides,0,!1)},T.fixLoop=function(){var e;T.activeIndex<T.loopedSlides?(e=T.slides.length-3*T.loopedSlides+T.activeIndex,e+=T.loopedSlides,T.slideTo(e,0,!1,!0)):("auto"===T.params.slidesPerView&&T.activeIndex>=2*T.loopedSlides||T.activeIndex>T.slides.length-2*T.params.slidesPerView)&&(e=-T.slides.length+T.activeIndex+T.loopedSlides,e+=T.loopedSlides,T.slideTo(e,0,!1,!0))},T.appendSlide=function(e){if(T.params.loop&&T.destroyLoop(),"object"==typeof e&&e.length)for(var a=0;a<e.length;a++)e[a]&&T.wrapper.append(e[a]);else T.wrapper.append(e);T.params.loop&&T.createLoop(),T.params.observer&&T.support.observer||T.update(!0)},T.prependSlide=function(e){T.params.loop&&T.destroyLoop();var a=T.activeIndex+1;if("object"==typeof e&&e.length){for(var t=0;t<e.length;t++)e[t]&&T.wrapper.prepend(e[t]);a=T.activeIndex+e.length}else T.wrapper.prepend(e);T.params.loop&&T.createLoop(),T.params.observer&&T.support.observer||T.update(!0),T.slideTo(a,0,!1)},T.removeSlide=function(e){T.params.loop&&(T.destroyLoop(),T.slides=T.wrapper.children("."+T.params.slideClass));var a,t=T.activeIndex;if("object"==typeof e&&e.length){for(var s=0;s<e.length;s++)a=e[s],T.slides[a]&&T.slides.eq(a).remove(),a<t&&t--;t=Math.max(t,0)}else a=e,T.slides[a]&&T.slides.eq(a).remove(),a<t&&t--,t=Math.max(t,0);T.params.loop&&T.createLoop(),T.params.observer&&T.support.observer||T.update(!0),T.params.loop?T.slideTo(t+T.loopedSlides,0,!1):T.slideTo(t,0,!1)},T.removeAllSlides=function(){for(var e=[],a=0;a<T.slides.length;a++)e.push(a);T.removeSlide(e)},T.effects={fade:{setTranslate:function(){for(var e=0;e<T.slides.length;e++){var a=T.slides.eq(e),t=a[0].swiperSlideOffset,s=-t;T.params.virtualTranslate||(s-=T.translate);var i=0;T.isHorizontal()||(i=s,s=0);var r=T.params.fade.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:r}).transform("translate3d("+s+"px, "+i+"px, 0px)")}},setTransition:function(e){if(T.slides.transition(e),T.params.virtualTranslate&&0!==e){var a=!1;T.slides.transitionEnd(function(){if(!a&&T){a=!0,T.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)T.wrapper.trigger(e[t])}})}}},flip:{setTranslate:function(){for(var a=0;a<T.slides.length;a++){var t=T.slides.eq(a),s=t[0].progress;T.params.flip.limitRotation&&(s=Math.max(Math.min(t[0].progress,1),-1));var i=t[0].swiperSlideOffset,r=-180*s,n=r,o=0,l=-i,p=0;if(T.isHorizontal()?T.rtl&&(n=-n):(p=l,l=0,o=-n,n=0),t[0].style.zIndex=-Math.abs(Math.round(s))+T.slides.length,T.params.flip.slideShadows){var d=T.isHorizontal()?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),u=T.isHorizontal()?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===d.length&&(d=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"left":"top")+'"></div>'),t.append(d)),0===u.length&&(u=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"right":"bottom")+'"></div>'),t.append(u)),d.length&&(d[0].style.opacity=Math.max(-s,0)),u.length&&(u[0].style.opacity=Math.max(s,0))}t.transform("translate3d("+l+"px, "+p+"px, 0px) rotateX("+o+"deg) rotateY("+n+"deg)")}},setTransition:function(a){if(T.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),T.params.virtualTranslate&&0!==a){var t=!1;T.slides.eq(T.activeIndex).transitionEnd(function(){if(!t&&T&&e(this).hasClass(T.params.slideActiveClass)){t=!0,T.animating=!1;for(var a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=0;s<a.length;s++)T.wrapper.trigger(a[s])}})}}},cube:{setTranslate:function(){var a,t=0;T.params.cube.shadow&&(T.isHorizontal()?(a=T.wrapper.find(".swiper-cube-shadow"),0===a.length&&(a=e('<div class="swiper-cube-shadow"></div>'),T.wrapper.append(a)),a.css({height:T.width+"px"})):(a=T.container.find(".swiper-cube-shadow"),0===a.length&&(a=e('<div class="swiper-cube-shadow"></div>'),T.container.append(a))));for(var s=0;s<T.slides.length;s++){var i=T.slides.eq(s),r=90*s,n=Math.floor(r/360);T.rtl&&(r=-r,n=Math.floor(-r/360));var o=Math.max(Math.min(i[0].progress,1),-1),l=0,p=0,d=0;s%4==0?(l=4*-n*T.size,d=0):(s-1)%4==0?(l=0,d=4*-n*T.size):(s-2)%4==0?(l=T.size+4*n*T.size,d=T.size):(s-3)%4==0&&(l=-T.size,d=3*T.size+4*T.size*n),T.rtl&&(l=-l),T.isHorizontal()||(p=l,l=0);var u="rotateX("+(T.isHorizontal()?0:-r)+"deg) rotateY("+(T.isHorizontal()?r:0)+"deg) translate3d("+l+"px, "+p+"px, "+d+"px)";if(o<=1&&o>-1&&(t=90*s+90*o,T.rtl&&(t=90*-s-90*o)),i.transform(u),T.params.cube.slideShadows){var c=T.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),m=T.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"left":"top")+'"></div>'),i.append(c)),0===m.length&&(m=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"right":"bottom")+'"></div>'),i.append(m)),c.length&&(c[0].style.opacity=Math.max(-o,0)),m.length&&(m[0].style.opacity=Math.max(o,0))}}if(T.wrapper.css({"-webkit-transform-origin":"50% 50% -"+T.size/2+"px","-moz-transform-origin":"50% 50% -"+T.size/2+"px","-ms-transform-origin":"50% 50% -"+T.size/2+"px","transform-origin":"50% 50% -"+T.size/2+"px"}),T.params.cube.shadow)if(T.isHorizontal())a.transform("translate3d(0px, "+(T.width/2+T.params.cube.shadowOffset)+"px, "+-T.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+T.params.cube.shadowScale+")");else{var h=Math.abs(t)-90*Math.floor(Math.abs(t)/90),g=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),f=T.params.cube.shadowScale,v=T.params.cube.shadowScale/g,w=T.params.cube.shadowOffset;a.transform("scale3d("+f+", 1, "+v+") translate3d(0px, "+(T.height/2+w)+"px, "+-T.height/2/v+"px) rotateX(-90deg)")}var y=T.isSafari||T.isUiWebView?-T.size/2:0;T.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(T.isHorizontal()?0:t)+"deg) rotateY("+(T.isHorizontal()?-t:0)+"deg)")},setTransition:function(e){T.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),T.params.cube.shadow&&!T.isHorizontal()&&T.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var a=T.translate,t=T.isHorizontal()?-a+T.width/2:-a+T.height/2,s=T.isHorizontal()?T.params.coverflow.rotate:-T.params.coverflow.rotate,i=T.params.coverflow.depth,r=0,n=T.slides.length;r<n;r++){var o=T.slides.eq(r),l=T.slidesSizesGrid[r],p=o[0].swiperSlideOffset,d=(t-p-l/2)/l*T.params.coverflow.modifier,u=T.isHorizontal()?s*d:0,c=T.isHorizontal()?0:s*d,m=-i*Math.abs(d),h=T.isHorizontal()?0:T.params.coverflow.stretch*d,g=T.isHorizontal()?T.params.coverflow.stretch*d:0;Math.abs(g)<.001&&(g=0),Math.abs(h)<.001&&(h=0),Math.abs(m)<.001&&(m=0),Math.abs(u)<.001&&(u=0),Math.abs(c)<.001&&(c=0);var f="translate3d("+g+"px,"+h+"px,"+m+"px)  rotateX("+c+"deg) rotateY("+u+"deg)";if(o.transform(f),o[0].style.zIndex=1-Math.abs(Math.round(d)),T.params.coverflow.slideShadows){var v=T.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),w=T.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"left":"top")+'"></div>'),o.append(v)),0===w.length&&(w=e('<div class="swiper-slide-shadow-'+(T.isHorizontal()?"right":"bottom")+'"></div>'),o.append(w)),v.length&&(v[0].style.opacity=d>0?d:0),w.length&&(w[0].style.opacity=-d>0?-d:0)}}if(T.browser.ie){T.wrapper[0].style.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){T.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},T.lazy={initialImageLoaded:!1,loadImageInSlide:function(a,t){if(void 0!==a&&(void 0===t&&(t=!0),0!==T.slides.length)){var s=T.slides.eq(a),i=s.find("."+T.params.lazyLoadingClass+":not(."+T.params.lazyStatusLoadedClass+"):not(."+T.params.lazyStatusLoadingClass+")");!s.hasClass(T.params.lazyLoadingClass)||s.hasClass(T.params.lazyStatusLoadedClass)||s.hasClass(T.params.lazyStatusLoadingClass)||(i=i.add(s[0])),0!==i.length&&i.each(function(){var a=e(this);a.addClass(T.params.lazyStatusLoadingClass);var i=a.attr("data-background"),r=a.attr("data-src"),n=a.attr("data-srcset"),o=a.attr("data-sizes");T.loadImage(a[0],r||i,n,o,!1,function(){if(void 0!==T&&null!==T&&T){if(i?(a.css("background-image",'url("'+i+'")'),a.removeAttr("data-background")):(n&&(a.attr("srcset",n),a.removeAttr("data-srcset")),o&&(a.attr("sizes",o),a.removeAttr("data-sizes")),r&&(a.attr("src",r),a.removeAttr("data-src"))),a.addClass(T.params.lazyStatusLoadedClass).removeClass(T.params.lazyStatusLoadingClass),s.find("."+T.params.lazyPreloaderClass+", ."+T.params.preloaderClass).remove(),T.params.loop&&t){var e=s.attr("data-swiper-slide-index");if(s.hasClass(T.params.slideDuplicateClass)){var l=T.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+T.params.slideDuplicateClass+")");T.lazy.loadImageInSlide(l.index(),!1)}else{var p=T.wrapper.children("."+T.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');T.lazy.loadImageInSlide(p.index(),!1)}}T.emit("onLazyImageReady",T,s[0],a[0])}}),T.emit("onLazyImageLoad",T,s[0],a[0])})}},load:function(){var a,t=T.params.slidesPerView;if("auto"===t&&(t=0),T.lazy.initialImageLoaded||(T.lazy.initialImageLoaded=!0),T.params.watchSlidesVisibility)T.wrapper.children("."+T.params.slideVisibleClass).each(function(){T.lazy.loadImageInSlide(e(this).index())});else if(t>1)for(a=T.activeIndex;a<T.activeIndex+t;a++)T.slides[a]&&T.lazy.loadImageInSlide(a);else T.lazy.loadImageInSlide(T.activeIndex);if(T.params.lazyLoadingInPrevNext)if(t>1||T.params.lazyLoadingInPrevNextAmount&&T.params.lazyLoadingInPrevNextAmount>1){var s=T.params.lazyLoadingInPrevNextAmount,i=t,r=Math.min(T.activeIndex+i+Math.max(s,i),T.slides.length),n=Math.max(T.activeIndex-Math.max(i,s),0);for(a=T.activeIndex+t;a<r;a++)T.slides[a]&&T.lazy.loadImageInSlide(a);for(a=n;a<T.activeIndex;a++)T.slides[a]&&T.lazy.loadImageInSlide(a)}else{var o=T.wrapper.children("."+T.params.slideNextClass);o.length>0&&T.lazy.loadImageInSlide(o.index());var l=T.wrapper.children("."+T.params.slidePrevClass);l.length>0&&T.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){T.params.lazyLoading&&(T.params.lazyLoadingOnTransitionStart||!T.params.lazyLoadingOnTransitionStart&&!T.lazy.initialImageLoaded)&&T.lazy.load()},onTransitionEnd:function(){T.params.lazyLoading&&!T.params.lazyLoadingOnTransitionStart&&T.lazy.load()}},T.scrollbar={isTouched:!1,setDragPosition:function(e){var a=T.scrollbar,t=T.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,s=t-a.track.offset()[T.isHorizontal()?"left":"top"]-a.dragSize/2,i=-T.minTranslate()*a.moveDivider,r=-T.maxTranslate()*a.moveDivider;s<i?s=i:s>r&&(s=r),s=-s/a.moveDivider,T.updateProgress(s),T.setWrapperTranslate(s,!0)},dragStart:function(e){var a=T.scrollbar;a.isTouched=!0,e.preventDefault(),e.stopPropagation(),a.setDragPosition(e),clearTimeout(a.dragTimeout),a.track.transition(0),T.params.scrollbarHide&&a.track.css("opacity",1),T.wrapper.transition(100),a.drag.transition(100),T.emit("onScrollbarDragStart",T)},dragMove:function(e){var a=T.scrollbar;a.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a.setDragPosition(e),T.wrapper.transition(0),a.track.transition(0),a.drag.transition(0),T.emit("onScrollbarDragMove",T))},dragEnd:function(e){var a=T.scrollbar;a.isTouched&&(a.isTouched=!1,T.params.scrollbarHide&&(clearTimeout(a.dragTimeout),a.dragTimeout=setTimeout(function(){a.track.css("opacity",0),a.track.transition(400)},1e3)),T.emit("onScrollbarDragEnd",T),T.params.scrollbarSnapOnRelease&&T.slideReset())},draggableEvents:function(){return T.params.simulateTouch!==!1||T.support.touch?T.touchEvents:T.touchEventsDesktop}(),enableDraggable:function(){var a=T.scrollbar,t=T.support.touch?a.track:document;e(a.track).on(a.draggableEvents.start,a.dragStart),e(t).on(a.draggableEvents.move,a.dragMove),e(t).on(a.draggableEvents.end,a.dragEnd)},disableDraggable:function(){var a=T.scrollbar,t=T.support.touch?a.track:document;e(a.track).off(a.draggableEvents.start,a.dragStart),e(t).off(a.draggableEvents.move,a.dragMove),e(t).off(a.draggableEvents.end,a.dragEnd)},set:function(){if(T.params.scrollbar){var a=T.scrollbar;a.track=e(T.params.scrollbar),T.params.uniqueNavElements&&"string"==typeof T.params.scrollbar&&a.track.length>1&&1===T.container.find(T.params.scrollbar).length&&(a.track=T.container.find(T.params.scrollbar)),a.drag=a.track.find(".swiper-scrollbar-drag"),0===a.drag.length&&(a.drag=e('<div class="swiper-scrollbar-drag"></div>'),a.track.append(a.drag)),a.drag[0].style.width="",a.drag[0].style.height="",a.trackSize=T.isHorizontal()?a.track[0].offsetWidth:a.track[0].offsetHeight,a.divider=T.size/T.virtualSize,a.moveDivider=a.divider*(a.trackSize/T.size),a.dragSize=a.trackSize*a.divider,T.isHorizontal()?a.drag[0].style.width=a.dragSize+"px":a.drag[0].style.height=a.dragSize+"px",a.divider>=1?a.track[0].style.display="none":a.track[0].style.display="",T.params.scrollbarHide&&(a.track[0].style.opacity=0)}},setTranslate:function(){if(T.params.scrollbar){var e,a=T.scrollbar,t=(T.translate,a.dragSize);e=(a.trackSize-a.dragSize)*T.progress,T.rtl&&T.isHorizontal()?(e=-e,e>0?(t=a.dragSize-e,e=0):-e+a.dragSize>a.trackSize&&(t=a.trackSize+e)):e<0?(t=a.dragSize+e,e=0):e+a.dragSize>a.trackSize&&(t=a.trackSize-e),T.isHorizontal()?(T.support.transforms3d?a.drag.transform("translate3d("+e+"px, 0, 0)"):a.drag.transform("translateX("+e+"px)"),a.drag[0].style.width=t+"px"):(T.support.transforms3d?a.drag.transform("translate3d(0px, "+e+"px, 0)"):a.drag.transform("translateY("+e+"px)"),a.drag[0].style.height=t+"px"),T.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1e3))}},setTransition:function(e){T.params.scrollbar&&T.scrollbar.drag.transition(e)}},T.controller={LinearSpline:function(e,a){var t=function(){var e,a,t;return function(s,i){for(a=-1,e=s.length;e-a>1;)s[t=e+a>>1]<=i?a=t:e=t;return e}}();this.x=e,this.y=a,this.lastIndex=e.length-1;var s,i;this.x.length;this.interpolate=function(e){return e?(i=t(this.x,e),s=i-1,(e-this.x[s])*(this.y[i]-this.y[s])/(this.x[i]-this.x[s])+this.y[s]):0}},getInterpolateFunction:function(e){T.controller.spline||(T.controller.spline=T.params.loop?new T.controller.LinearSpline(T.slidesGrid,e.slidesGrid):new T.controller.LinearSpline(T.snapGrid,e.snapGrid))},setTranslate:function(e,t){function s(a){e=a.rtl&&"horizontal"===a.params.direction?-T.translate:T.translate,"slide"===T.params.controlBy&&(T.controller.getInterpolateFunction(a),r=-T.controller.spline.interpolate(-e)),r&&"container"!==T.params.controlBy||(i=(a.maxTranslate()-a.minTranslate())/(T.maxTranslate()-T.minTranslate()),r=(e-T.minTranslate())*i+a.minTranslate()),T.params.controlInverse&&(r=a.maxTranslate()-r),a.updateProgress(r),a.setWrapperTranslate(r,!1,T),a.updateActiveIndex()}var i,r,n=T.params.control;if(Array.isArray(n))for(var o=0;o<n.length;o++)n[o]!==t&&n[o]instanceof a&&s(n[o]);else n instanceof a&&t!==n&&s(n)},setTransition:function(e,t){function s(a){a.setWrapperTransition(e,T),0!==e&&(a.onTransitionStart(),a.wrapper.transitionEnd(function(){r&&(a.params.loop&&"slide"===T.params.controlBy&&a.fixLoop(),a.onTransitionEnd())}))}var i,r=T.params.control;if(Array.isArray(r))for(i=0;i<r.length;i++)r[i]!==t&&r[i]instanceof a&&s(r[i]);else r instanceof a&&t!==r&&s(r)}},T.hashnav={onHashCange:function(e,a){var t=document.location.hash.replace("#","");t!==T.slides.eq(T.activeIndex).attr("data-hash")&&T.slideTo(T.wrapper.children("."+T.params.slideClass+'[data-hash="'+t+'"]').index())},attachEvents:function(a){var t=a?"off":"on";e(window)[t]("hashchange",T.hashnav.onHashCange)},setHash:function(){if(T.hashnav.initialized&&T.params.hashnav)if(T.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+T.slides.eq(T.activeIndex).attr("data-hash")||"");else{
    var e=T.slides.eq(T.activeIndex),a=e.attr("data-hash")||e.attr("data-history");document.location.hash=a||""}},init:function(){if(T.params.hashnav&&!T.params.history){T.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var a=0,t=T.slides.length;a<t;a++){var s=T.slides.eq(a),i=s.attr("data-hash")||s.attr("data-history");if(i===e&&!s.hasClass(T.params.slideDuplicateClass)){var r=s.index();T.slideTo(r,0,T.params.runCallbacksOnInit,!0)}}T.params.hashnavWatchState&&T.hashnav.attachEvents()}},destroy:function(){T.params.hashnavWatchState&&T.hashnav.attachEvents(!0)}},T.history={init:function(){if(T.params.history){if(!window.history||!window.history.pushState)return T.params.history=!1,void(T.params.hashnav=!0);T.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,T.params.runCallbacksOnInit),T.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){T.history.paths=T.history.getPathValues(),T.history.scrollToSlide(T.params.speed,T.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),a=e.length;return{key:e[a-2],value:e[a-1]}},setHistory:function(e,a){if(T.history.initialized&&T.params.history){var t=T.slides.eq(a),s=this.slugify(t.attr("data-history"));window.location.pathname.includes(e)||(s=e+"/"+s),T.params.replaceState?window.history.replaceState(null,null,s):window.history.pushState(null,null,s)}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,a,t){if(a)for(var s=0,i=T.slides.length;s<i;s++){var r=T.slides.eq(s),n=this.slugify(r.attr("data-history"));if(n===a&&!r.hasClass(T.params.slideDuplicateClass)){var o=r.index();T.slideTo(o,e,t)}}else T.slideTo(0,e,t)}},T.disableKeyboardControl=function(){T.params.keyboardControl=!1,e(document).off("keydown",p)},T.enableKeyboardControl=function(){T.params.keyboardControl=!0,e(document).on("keydown",p)},T.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},T.params.mousewheelControl&&(T.mousewheel.event=navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in document;if(!e){var a=document.createElement("div");a.setAttribute("onwheel","return;"),e="function"==typeof a.onwheel}return!e&&document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0&&(e=document.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel"),T.disableMousewheelControl=function(){if(!T.mousewheel.event)return!1;var a=T.container;return"container"!==T.params.mousewheelEventsTarged&&(a=e(T.params.mousewheelEventsTarged)),a.off(T.mousewheel.event,u),T.params.mousewheelControl=!1,!0},T.enableMousewheelControl=function(){if(!T.mousewheel.event)return!1;var a=T.container;return"container"!==T.params.mousewheelEventsTarged&&(a=e(T.params.mousewheelEventsTarged)),a.on(T.mousewheel.event,u),T.params.mousewheelControl=!0,!0},T.parallax={setTranslate:function(){T.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,T.progress)}),T.slides.each(function(){var a=e(this);a.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,Math.min(Math.max(a[0].progress,-1),1))})})},setTransition:function(a){void 0===a&&(a=T.params.speed),T.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=e(this),s=parseInt(t.attr("data-swiper-parallax-duration"),10)||a;0===a&&(s=0),t.transition(s)})}},T.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:T.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var a=e.targetTouches[0].pageX,t=e.targetTouches[0].pageY,s=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(s-a,2)+Math.pow(i-t,2))},onGestureStart:function(a){var t=T.zoom;if(!T.support.gestures){if("touchstart"!==a.type||"touchstart"===a.type&&a.targetTouches.length<2)return;t.gesture.scaleStart=t.getDistanceBetweenTouches(a)}if(!(t.gesture.slide&&t.gesture.slide.length||(t.gesture.slide=e(this),0===t.gesture.slide.length&&(t.gesture.slide=T.slides.eq(T.activeIndex)),t.gesture.image=t.gesture.slide.find("img, svg, canvas"),t.gesture.imageWrap=t.gesture.image.parent("."+T.params.zoomContainerClass),t.gesture.zoomMax=t.gesture.imageWrap.attr("data-swiper-zoom")||T.params.zoomMax,0!==t.gesture.imageWrap.length)))return void(t.gesture.image=void 0);t.gesture.image.transition(0),t.isScaling=!0},onGestureChange:function(e){var a=T.zoom;if(!T.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;a.gesture.scaleMove=a.getDistanceBetweenTouches(e)}a.gesture.image&&0!==a.gesture.image.length&&(T.support.gestures?a.scale=e.scale*a.currentScale:a.scale=a.gesture.scaleMove/a.gesture.scaleStart*a.currentScale,a.scale>a.gesture.zoomMax&&(a.scale=a.gesture.zoomMax-1+Math.pow(a.scale-a.gesture.zoomMax+1,.5)),a.scale<T.params.zoomMin&&(a.scale=T.params.zoomMin+1-Math.pow(T.params.zoomMin-a.scale+1,.5)),a.gesture.image.transform("translate3d(0,0,0) scale("+a.scale+")"))},onGestureEnd:function(e){var a=T.zoom;!T.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||a.gesture.image&&0!==a.gesture.image.length&&(a.scale=Math.max(Math.min(a.scale,a.gesture.zoomMax),T.params.zoomMin),a.gesture.image.transition(T.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(a.gesture.slide=void 0))},onTouchStart:function(e,a){var t=e.zoom;t.gesture.image&&0!==t.gesture.image.length&&(t.image.isTouched||("android"===e.device.os&&a.preventDefault(),t.image.isTouched=!0,t.image.touchesStart.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,t.image.touchesStart.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY))},onTouchMove:function(e){var a=T.zoom;if(a.gesture.image&&0!==a.gesture.image.length&&(T.allowClick=!1,a.image.isTouched&&a.gesture.slide)){a.image.isMoved||(a.image.width=a.gesture.image[0].offsetWidth,a.image.height=a.gesture.image[0].offsetHeight,a.image.startX=T.getTranslate(a.gesture.imageWrap[0],"x")||0,a.image.startY=T.getTranslate(a.gesture.imageWrap[0],"y")||0,a.gesture.slideWidth=a.gesture.slide[0].offsetWidth,a.gesture.slideHeight=a.gesture.slide[0].offsetHeight,a.gesture.imageWrap.transition(0),T.rtl&&(a.image.startX=-a.image.startX),T.rtl&&(a.image.startY=-a.image.startY));var t=a.image.width*a.scale,s=a.image.height*a.scale;if(!(t<a.gesture.slideWidth&&s<a.gesture.slideHeight)){if(a.image.minX=Math.min(a.gesture.slideWidth/2-t/2,0),a.image.maxX=-a.image.minX,a.image.minY=Math.min(a.gesture.slideHeight/2-s/2,0),a.image.maxY=-a.image.minY,a.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!a.image.isMoved&&!a.isScaling){if(T.isHorizontal()&&Math.floor(a.image.minX)===Math.floor(a.image.startX)&&a.image.touchesCurrent.x<a.image.touchesStart.x||Math.floor(a.image.maxX)===Math.floor(a.image.startX)&&a.image.touchesCurrent.x>a.image.touchesStart.x)return void(a.image.isTouched=!1);if(!T.isHorizontal()&&Math.floor(a.image.minY)===Math.floor(a.image.startY)&&a.image.touchesCurrent.y<a.image.touchesStart.y||Math.floor(a.image.maxY)===Math.floor(a.image.startY)&&a.image.touchesCurrent.y>a.image.touchesStart.y)return void(a.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),a.image.isMoved=!0,a.image.currentX=a.image.touchesCurrent.x-a.image.touchesStart.x+a.image.startX,a.image.currentY=a.image.touchesCurrent.y-a.image.touchesStart.y+a.image.startY,a.image.currentX<a.image.minX&&(a.image.currentX=a.image.minX+1-Math.pow(a.image.minX-a.image.currentX+1,.8)),a.image.currentX>a.image.maxX&&(a.image.currentX=a.image.maxX-1+Math.pow(a.image.currentX-a.image.maxX+1,.8)),a.image.currentY<a.image.minY&&(a.image.currentY=a.image.minY+1-Math.pow(a.image.minY-a.image.currentY+1,.8)),a.image.currentY>a.image.maxY&&(a.image.currentY=a.image.maxY-1+Math.pow(a.image.currentY-a.image.maxY+1,.8)),a.velocity.prevPositionX||(a.velocity.prevPositionX=a.image.touchesCurrent.x),a.velocity.prevPositionY||(a.velocity.prevPositionY=a.image.touchesCurrent.y),a.velocity.prevTime||(a.velocity.prevTime=Date.now()),a.velocity.x=(a.image.touchesCurrent.x-a.velocity.prevPositionX)/(Date.now()-a.velocity.prevTime)/2,a.velocity.y=(a.image.touchesCurrent.y-a.velocity.prevPositionY)/(Date.now()-a.velocity.prevTime)/2,Math.abs(a.image.touchesCurrent.x-a.velocity.prevPositionX)<2&&(a.velocity.x=0),Math.abs(a.image.touchesCurrent.y-a.velocity.prevPositionY)<2&&(a.velocity.y=0),a.velocity.prevPositionX=a.image.touchesCurrent.x,a.velocity.prevPositionY=a.image.touchesCurrent.y,a.velocity.prevTime=Date.now(),a.gesture.imageWrap.transform("translate3d("+a.image.currentX+"px, "+a.image.currentY+"px,0)")}}},onTouchEnd:function(e,a){var t=e.zoom;if(t.gesture.image&&0!==t.gesture.image.length){if(!t.image.isTouched||!t.image.isMoved)return t.image.isTouched=!1,void(t.image.isMoved=!1);t.image.isTouched=!1,t.image.isMoved=!1;var s=300,i=300,r=t.velocity.x*s,n=t.image.currentX+r,o=t.velocity.y*i,l=t.image.currentY+o;0!==t.velocity.x&&(s=Math.abs((n-t.image.currentX)/t.velocity.x)),0!==t.velocity.y&&(i=Math.abs((l-t.image.currentY)/t.velocity.y));var p=Math.max(s,i);t.image.currentX=n,t.image.currentY=l;var d=t.image.width*t.scale,u=t.image.height*t.scale;t.image.minX=Math.min(t.gesture.slideWidth/2-d/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-u/2,0),t.image.maxY=-t.image.minY,t.image.currentX=Math.max(Math.min(t.image.currentX,t.image.maxX),t.image.minX),t.image.currentY=Math.max(Math.min(t.image.currentY,t.image.maxY),t.image.minY),t.gesture.imageWrap.transition(p).transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}},onTransitionEnd:function(e){var a=e.zoom;a.gesture.slide&&e.previousIndex!==e.activeIndex&&(a.gesture.image.transform("translate3d(0,0,0) scale(1)"),a.gesture.imageWrap.transform("translate3d(0,0,0)"),a.gesture.slide=a.gesture.image=a.gesture.imageWrap=void 0,a.scale=a.currentScale=1)},toggleZoom:function(a,t){var s=a.zoom;if(s.gesture.slide||(s.gesture.slide=a.clickedSlide?e(a.clickedSlide):a.slides.eq(a.activeIndex),s.gesture.image=s.gesture.slide.find("img, svg, canvas"),s.gesture.imageWrap=s.gesture.image.parent("."+a.params.zoomContainerClass)),s.gesture.image&&0!==s.gesture.image.length){var i,r,n,o,l,p,d,u,c,m,h,g,f,v,w,y,x,T;void 0===s.image.touchesStart.x&&t?(i="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,r="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(i=s.image.touchesStart.x,r=s.image.touchesStart.y),s.scale&&1!==s.scale?(s.scale=s.currentScale=1,s.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),s.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),s.gesture.slide=void 0):(s.scale=s.currentScale=s.gesture.imageWrap.attr("data-swiper-zoom")||a.params.zoomMax,t?(x=s.gesture.slide[0].offsetWidth,T=s.gesture.slide[0].offsetHeight,n=s.gesture.slide.offset().left,o=s.gesture.slide.offset().top,l=n+x/2-i,p=o+T/2-r,c=s.gesture.image[0].offsetWidth,m=s.gesture.image[0].offsetHeight,h=c*s.scale,g=m*s.scale,f=Math.min(x/2-h/2,0),v=Math.min(T/2-g/2,0),w=-f,y=-v,d=l*s.scale,u=p*s.scale,d<f&&(d=f),d>w&&(d=w),u<v&&(u=v),u>y&&(u=y)):(d=0,u=0),s.gesture.imageWrap.transition(300).transform("translate3d("+d+"px, "+u+"px,0)"),s.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+s.scale+")"))}},attachEvents:function(a){var t=a?"off":"on";if(T.params.zoom){var s=(T.slides,!("touchstart"!==T.touchEvents.start||!T.support.passiveListener||!T.params.passiveListeners)&&{passive:!0,capture:!1});T.support.gestures?(T.slides[t]("gesturestart",T.zoom.onGestureStart,s),T.slides[t]("gesturechange",T.zoom.onGestureChange,s),T.slides[t]("gestureend",T.zoom.onGestureEnd,s)):"touchstart"===T.touchEvents.start&&(T.slides[t](T.touchEvents.start,T.zoom.onGestureStart,s),T.slides[t](T.touchEvents.move,T.zoom.onGestureChange,s),T.slides[t](T.touchEvents.end,T.zoom.onGestureEnd,s)),T[t]("touchStart",T.zoom.onTouchStart),T.slides.each(function(a,s){e(s).find("."+T.params.zoomContainerClass).length>0&&e(s)[t](T.touchEvents.move,T.zoom.onTouchMove)}),T[t]("touchEnd",T.zoom.onTouchEnd),T[t]("transitionEnd",T.zoom.onTransitionEnd),T.params.zoomToggle&&T.on("doubleTap",T.zoom.toggleZoom)}},init:function(){T.zoom.attachEvents()},destroy:function(){T.zoom.attachEvents(!0)}},T._plugins=[];for(var Y in T.plugins){var O=T.plugins[Y](T,T.params[Y]);O&&T._plugins.push(O)}return T.callPlugins=function(e){for(var a=0;a<T._plugins.length;a++)e in T._plugins[a]&&T._plugins[a][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},T.emitterEventListeners={},T.emit=function(e){T.params[e]&&T.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var a;if(T.emitterEventListeners[e])for(a=0;a<T.emitterEventListeners[e].length;a++)T.emitterEventListeners[e][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);T.callPlugins&&T.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},T.on=function(e,a){return e=m(e),T.emitterEventListeners[e]||(T.emitterEventListeners[e]=[]),T.emitterEventListeners[e].push(a),T},T.off=function(e,a){var t;if(e=m(e),void 0===a)return T.emitterEventListeners[e]=[],T;if(T.emitterEventListeners[e]&&0!==T.emitterEventListeners[e].length){for(t=0;t<T.emitterEventListeners[e].length;t++)T.emitterEventListeners[e][t]===a&&T.emitterEventListeners[e].splice(t,1);return T}},T.once=function(e,a){e=m(e);var t=function(){a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),T.off(e,t)};return T.on(e,t),T},T.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,a){return e.attr("role",a),e},addLabel:function(e,a){return e.attr("aria-label",a),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(a){13===a.keyCode&&(e(a.target).is(T.params.nextButton)?(T.onClickNext(a),T.isEnd?T.a11y.notify(T.params.lastSlideMessage):T.a11y.notify(T.params.nextSlideMessage)):e(a.target).is(T.params.prevButton)&&(T.onClickPrev(a),T.isBeginning?T.a11y.notify(T.params.firstSlideMessage):T.a11y.notify(T.params.prevSlideMessage)),e(a.target).is("."+T.params.bulletClass)&&e(a.target)[0].click())},liveRegion:e('<span class="'+T.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var a=T.a11y.liveRegion;0!==a.length&&(a.html(""),a.html(e))},init:function(){T.params.nextButton&&T.nextButton&&T.nextButton.length>0&&(T.a11y.makeFocusable(T.nextButton),T.a11y.addRole(T.nextButton,"button"),T.a11y.addLabel(T.nextButton,T.params.nextSlideMessage)),T.params.prevButton&&T.prevButton&&T.prevButton.length>0&&(T.a11y.makeFocusable(T.prevButton),T.a11y.addRole(T.prevButton,"button"),T.a11y.addLabel(T.prevButton,T.params.prevSlideMessage)),e(T.container).append(T.a11y.liveRegion)},initPagination:function(){T.params.pagination&&T.params.paginationClickable&&T.bullets&&T.bullets.length&&T.bullets.each(function(){var a=e(this);T.a11y.makeFocusable(a),T.a11y.addRole(a,"button"),T.a11y.addLabel(a,T.params.paginationBulletMessage.replace(/{{index}}/,a.index()+1))})},destroy:function(){T.a11y.liveRegion&&T.a11y.liveRegion.length>0&&T.a11y.liveRegion.remove()}},T.init=function(){T.params.loop&&T.createLoop(),T.updateContainerSize(),T.updateSlidesSize(),T.updatePagination(),T.params.scrollbar&&T.scrollbar&&(T.scrollbar.set(),T.params.scrollbarDraggable&&T.scrollbar.enableDraggable()),"slide"!==T.params.effect&&T.effects[T.params.effect]&&(T.params.loop||T.updateProgress(),T.effects[T.params.effect].setTranslate()),T.params.loop?T.slideTo(T.params.initialSlide+T.loopedSlides,0,T.params.runCallbacksOnInit):(T.slideTo(T.params.initialSlide,0,T.params.runCallbacksOnInit),0===T.params.initialSlide&&(T.parallax&&T.params.parallax&&T.parallax.setTranslate(),T.lazy&&T.params.lazyLoading&&(T.lazy.load(),T.lazy.initialImageLoaded=!0))),T.attachEvents(),T.params.observer&&T.support.observer&&T.initObservers(),T.params.preloadImages&&!T.params.lazyLoading&&T.preloadImages(),T.params.zoom&&T.zoom&&T.zoom.init(),T.params.autoplay&&T.startAutoplay(),T.params.keyboardControl&&T.enableKeyboardControl&&T.enableKeyboardControl(),T.params.mousewheelControl&&T.enableMousewheelControl&&T.enableMousewheelControl(),T.params.hashnavReplaceState&&(T.params.replaceState=T.params.hashnavReplaceState),T.params.history&&T.history&&T.history.init(),T.params.hashnav&&T.hashnav&&T.hashnav.init(),T.params.a11y&&T.a11y&&T.a11y.init(),T.emit("onInit",T)},T.cleanupStyles=function(){T.container.removeClass(T.classNames.join(" ")).removeAttr("style"),T.wrapper.removeAttr("style"),T.slides&&T.slides.length&&T.slides.removeClass([T.params.slideVisibleClass,T.params.slideActiveClass,T.params.slideNextClass,T.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),T.paginationContainer&&T.paginationContainer.length&&T.paginationContainer.removeClass(T.params.paginationHiddenClass),T.bullets&&T.bullets.length&&T.bullets.removeClass(T.params.bulletActiveClass),T.params.prevButton&&e(T.params.prevButton).removeClass(T.params.buttonDisabledClass),T.params.nextButton&&e(T.params.nextButton).removeClass(T.params.buttonDisabledClass),T.params.scrollbar&&T.scrollbar&&(T.scrollbar.track&&T.scrollbar.track.length&&T.scrollbar.track.removeAttr("style"),T.scrollbar.drag&&T.scrollbar.drag.length&&T.scrollbar.drag.removeAttr("style"))},T.destroy=function(e,a){T.detachEvents(),T.stopAutoplay(),T.params.scrollbar&&T.scrollbar&&T.params.scrollbarDraggable&&T.scrollbar.disableDraggable(),T.params.loop&&T.destroyLoop(),a&&T.cleanupStyles(),T.disconnectObservers(),T.params.zoom&&T.zoom&&T.zoom.destroy(),T.params.keyboardControl&&T.disableKeyboardControl&&T.disableKeyboardControl(),T.params.mousewheelControl&&T.disableMousewheelControl&&T.disableMousewheelControl(),T.params.a11y&&T.a11y&&T.a11y.destroy(),T.params.history&&!T.params.replaceState&&window.removeEventListener("popstate",T.history.setHistoryPopState),T.params.hashnav&&T.hashnav&&T.hashnav.destroy(),T.emit("onDestroy"),e!==!1&&(T=null)},T.init(),T}};a.prototype={isSafari:function(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}()},device:function(){var e=window.navigator.userAgent,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),i=!t&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);return{ios:t||i||s,android:a}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,a="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<a.length;t++)if(a[t]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}(),passiveListener:function(){var e=!1;try{var a=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,a)}catch(e){}return e}(),gestures:function(){return"ongesturestart"in window}()},plugins:{}};for(var t=(function(){var e=function(e){var a=this,t=0;for(t=0;t<e.length;t++)a[t]=e[t];return a.length=e.length,this},a=function(a,t){var s=[],i=0;if(a&&!t&&a instanceof e)return a;if(a)if("string"==typeof a){var r,n,o=a.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";for(0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select"),n=document.createElement(l),n.innerHTML=a,i=0;i<n.childNodes.length;i++)s.push(n.childNodes[i])}else for(r=t||"#"!==a[0]||a.match(/[ .<>:~]/)?(t||document).querySelectorAll(a):[document.getElementById(a.split("#")[1])],i=0;i<r.length;i++)r[i]&&s.push(r[i])}else if(a.nodeType||a===window||a===document)s.push(a);else if(a.length>0&&a[0].nodeType)for(i=0;i<a.length;i++)s.push(a[i]);return new e(s)};return e.prototype={addClass:function(e){if(void 0===e)return this;for(var a=e.split(" "),t=0;t<a.length;t++)for(var s=0;s<this.length;s++)this[s].classList.add(a[t]);return this},removeClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var s=0;s<this.length;s++)this[s].classList.remove(a[t]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var s=0;s<this.length;s++)this[s].classList.toggle(a[t]);return this},attr:function(e,a){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var t=0;t<this.length;t++)if(2===arguments.length)this[t].setAttribute(e,a);else for(var s in e)this[t][s]=e[s],this[t].setAttribute(s,e[s]);return this},removeAttr:function(e){for(var a=0;a<this.length;a++)this[a].removeAttribute(e);return this},data:function(e,a){if(void 0!==a){for(var t=0;t<this.length;t++){var s=this[t];s.dom7ElementDataStorage||(s.dom7ElementDataStorage={}),s.dom7ElementDataStorage[e]=a}return this}if(this[0]){var i=this[0].getAttribute("data-"+e);return i?i:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},transform:function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this},on:function(e,t,s,i){function r(e){var i=e.target;if(a(i).is(t))s.call(i,e);else for(var r=a(i).parents(),n=0;n<r.length;n++)a(r[n]).is(t)&&s.call(r[n],e)}var n,o,l=e.split(" ");for(n=0;n<this.length;n++)if("function"==typeof t||t===!1)for("function"==typeof t&&(s=arguments[1],i=arguments[2]||!1),o=0;o<l.length;o++)this[n].addEventListener(l[o],s,i);else for(o=0;o<l.length;o++)this[n].dom7LiveListeners||(this[n].dom7LiveListeners=[]),this[n].dom7LiveListeners.push({listener:s,liveListener:r}),this[n].addEventListener(l[o],r,i);return this},off:function(e,a,t,s){for(var i=e.split(" "),r=0;r<i.length;r++)for(var n=0;n<this.length;n++)if("function"==typeof a||a===!1)"function"==typeof a&&(t=arguments[1],s=arguments[2]||!1),this[n].removeEventListener(i[r],t,s);else if(this[n].dom7LiveListeners)for(var o=0;o<this[n].dom7LiveListeners.length;o++)this[n].dom7LiveListeners[o].listener===t&&this[n].removeEventListener(i[r],this[n].dom7LiveListeners[o].liveListener,s);return this},once:function(e,a,t,s){function i(n){t(n),r.off(e,a,i,s)}var r=this;"function"==typeof a&&(a=!1,t=arguments[1],s=arguments[2]),r.on(e,a,i,s)},trigger:function(e,a){for(var t=0;t<this.length;t++){var s;try{s=new window.CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0})}catch(t){s=document.createEvent("Event"),s.initEvent(e,!0,!0),s.detail=a}this[t].dispatchEvent(s)}return this},transitionEnd:function(e){function a(r){if(r.target===this)for(e.call(this,r),t=0;t<s.length;t++)i.off(s[t],a)}var t,s=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(t=0;t<s.length;t++)i.on(s[t],a);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],a=e.getBoundingClientRect(),t=document.body,s=e.clientTop||t.clientTop||0,i=e.clientLeft||t.clientLeft||0,r=window.pageYOffset||e.scrollTop,n=window.pageXOffset||e.scrollLeft;return{top:a.top+r-s,left:a.left+n-i}}return null},css:function(e,a){var t;if(1===arguments.length){if("string"!=typeof e){for(t=0;t<this.length;t++)for(var s in e)this[t].style[s]=e[s];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(t=0;t<this.length;t++)this[t].style[e]=a;return this}return this},each:function(e){for(var a=0;a<this.length;a++)e.call(this[a],a,this[a]);return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var a=0;a<this.length;a++)this[a].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var a=0;a<this.length;a++)this[a].textContent=e;return this},is:function(t){if(!this[0])return!1;var s,i;if("string"==typeof t){var r=this[0];if(r===document)return t===document;if(r===window)return t===window;if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector)return r.mozMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=a(t),i=0;i<s.length;i++)if(s[i]===this[0])return!0;return!1}if(t===document)return this[0]===document;if(t===window)return this[0]===window;if(t.nodeType||t instanceof e){for(s=t.nodeType?[t]:t,i=0;i<s.length;i++)if(s[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],a=0;null!==(e=e.previousSibling);)1===e.nodeType&&a++;return a}},eq:function(a){if(void 0===a)return this;var t,s=this.length;return a>s-1?new e([]):a<0?(t=s+a,new e(t<0?[]:[this[t]])):new e([this[a]])},append:function(a){var t,s;for(t=0;t<this.length;t++)if("string"==typeof a){var i=document.createElement("div");for(i.innerHTML=a;i.firstChild;)this[t].appendChild(i.firstChild)}else if(a instanceof e)for(s=0;s<a.length;s++)this[t].appendChild(a[s]);else this[t].appendChild(a);return this},prepend:function(a){var t,s;for(t=0;t<this.length;t++)if("string"==typeof a){var i=document.createElement("div");for(i.innerHTML=a,s=i.childNodes.length-1;s>=0;s--)this[t].insertBefore(i.childNodes[s],this[t].childNodes[0])}else if(a instanceof e)for(s=0;s<a.length;s++)this[t].insertBefore(a[s],this[t].childNodes[0]);else this[t].insertBefore(a,this[t].childNodes[0]);return this},insertBefore:function(e){for(var t=a(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0]);else if(t.length>1)for(var i=0;i<t.length;i++)t[i].parentNode.insertBefore(this[s].cloneNode(!0),t[i])},insertAfter:function(e){for(var t=a(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0].nextSibling);else if(t.length>1)for(var i=0;i<t.length;i++)t[i].parentNode.insertBefore(this[s].cloneNode(!0),t[i].nextSibling)},next:function(t){return new e(this.length>0?t?this[0].nextElementSibling&&a(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var s=[],i=this[0];if(!i)return new e([]);for(;i.nextElementSibling;){var r=i.nextElementSibling;t?a(r).is(t)&&s.push(r):s.push(r),i=r}return new e(s)},prev:function(t){return new e(this.length>0?t?this[0].previousElementSibling&&a(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var s=[],i=this[0];if(!i)return new e([]);for(;i.previousElementSibling;){var r=i.previousElementSibling;t?a(r).is(t)&&s.push(r):s.push(r),i=r}return new e(s)},parent:function(e){for(var t=[],s=0;s<this.length;s++)e?a(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode);return a(a.unique(t))},parents:function(e){for(var t=[],s=0;s<this.length;s++)for(var i=this[s].parentNode;i;)e?a(i).is(e)&&t.push(i):t.push(i),i=i.parentNode;return a(a.unique(t))},find:function(a){for(var t=[],s=0;s<this.length;s++)for(var i=this[s].querySelectorAll(a),r=0;r<i.length;r++)t.push(i[r]);return new e(t)},children:function(t){for(var s=[],i=0;i<this.length;i++)for(var r=this[i].childNodes,n=0;n<r.length;n++)t?1===r[n].nodeType&&a(r[n]).is(t)&&s.push(r[n]):1===r[n].nodeType&&s.push(r[n]);return new e(a.unique(s))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,s=this;for(e=0;e<arguments.length;e++){var i=a(arguments[e]);for(t=0;t<i.length;t++)s[s.length]=i[t],s.length++}return s}},a.fn=e.prototype,a.unique=function(e){for(var a=[],t=0;t<e.length;t++)a.indexOf(e[t])===-1&&a.push(e[t]);return a},a}()),s=["jQuery","Zepto","Dom7"],i=0;i<s.length;i++)window[s[i]]&&function(e){e.fn.swiper=function(t){var s;return e(this).each(function(){var e=new a(this,t);s||(s=e)}),s}}(window[s[i]]);var r;r=void 0===t?window.Dom7||window.Zepto||window.jQuery:t,r&&("transitionEnd"in r.fn||(r.fn.transitionEnd=function(e){function a(r){if(r.target===this)for(e.call(this,r),t=0;t<s.length;t++)i.off(s[t],a)}var t,s=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(t=0;t<s.length;t++)i.on(s[t],a);return this}),"transform"in r.fn||(r.fn.transform=function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this}),"transition"in r.fn||(r.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this}),"outerWidth"in r.fn||(r.fn.outerWidth=function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=a}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper});

!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(t,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(t),appendDots:i(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(t).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=e++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):!0===o?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),!1===s.options.vertical?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(!0===o.options.dots){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>1){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||!1===l||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is("a")&&e.preventDefault(),l.is("li")||(l=l.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case"next":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t;if(e=this.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&((i=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){return this.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(!1===e.options.infinite?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o=this;return t=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(s,n){if(n.offsetLeft-t+i(n).outerWidth()/2>-1*o.swipeLeft)return e=n,!1}),Math.abs(i(e).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){var s=o.indexOf(t);i(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+t,tabindex:-1}),-1!==s&&i(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+s})}),e.$dots.attr("role","tablist").find("li").each(function(s){var n=o[s];i(this).attr({role:"presentation"}),i(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+n,"aria-label":s+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.$slides.eq(s).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=i(this).attr("data-srcset"),s=i(this).attr("data-sizes")||n.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),s&&e.attr("sizes",s)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,e,t])},r.src=t})}var t,o,s,n=this;if(!0===n.options.centerMode?!0===n.options.infinite?s=(o=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(o=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),s=n.options.slidesToShow/2+1+2+n.currentSlide):(o=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=Math.ceil(o+n.options.slidesToShow),!0===n.options.fade&&(o>0&&o--,s<=n.slideCount&&s++)),t=n.$slider.find(".slick-slide").slice(o,s),"anticipated"===n.options.lazyLoad)for(var r=o-1,l=s,d=n.$slider.find(".slick-slide"),a=0;a<n.options.slidesToScroll;a++)r<0&&(r=n.slideCount-1),t=(t=t.add(d.eq(r))).add(d.eq(l)),r--,l++;e(t),n.slideCount<=n.options.slidesToShow?e(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?e(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&e(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&i(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i("img[data-lazy]",l.$slider);d.length?(t=d.first(),o=t.attr("data-lazy"),s=t.attr("data-srcset"),n=t.attr("data-sizes")||l.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){s&&(t.attr("srcset",s),n&&t.attr("sizes",n)),t.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===l.options.adaptiveHeight&&l.setPosition(),l.$slider.trigger("lazyLoaded",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),l.$slider.trigger("lazyLoadError",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger("allImagesLoaded",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;if(i="boolean"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,!0===t.options.rtl?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":void 0!==arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",
void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));s||(s=0),t.slideCount<=t.options.slidesToShow?t.slideHandler(s,!1,!0):t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=(l=a.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)}},e.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===s.options.rtl?"left":"right":o<=360&&o>=315?!1===s.options.rtl?"left":"right":o>=135&&o<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,!1===l.options.infinite&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if("object"==typeof s||void 0===s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),void 0!==t)return t;return o}});

$(function(){if($("#confetti").length){$(".hero-banner .hero-slide:nth-child(1) img:nth-of-type(1)").one("load",function(){$("#confetti").addClass("confetti");setTimeout(function(){$(".front-page .main-page .hero-banner").slick("slickGoTo",1)},3e3)}).each(function(){if(this.complete)$(this).trigger("load")});$("html:not(.front-page) .main-page .hero-banner").slick({autoplay:true,infinite:true,dots:true,arrows:true,speed:1e3,autoplaySpeed:5e3});$("html.front-page .main-page .hero-banner").slick({autoplay:false,infinite:false,dots:false,arrows:false,speed:1e3,fade:true,swipe:false})}else{$(".hero-banner").slick({autoplay:true,infinite:true,dots:true,arrows:true,speed:1e3,autoplaySpeed:5e3})}$(".slick_carousel.books_carousel").on("init",function(e,s){s.refresh=s.unfilterSlides}).slick({slidesToShow:5,slidesToScroll:5,autoplay:false,dots:false,swipe:true,arrows:true,lazyLoad:"ondemand",adaptiveHeight:true,respondTo:"slider",responsive:[{breakpoint:780,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:590,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:460,settings:{slidesToShow:2,slidesToScroll:2}}]});$(".slick_carousel.pod_slider4").slick({slidesToShow:4,slidesToScroll:4,autoplay:false,dots:false,swipe:true,arrows:true,lazyLoad:"ondemand",responsive:[{breakpoint:900,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:780,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:590,settings:{slidesToShow:1,slidesToScroll:1}}]});$(".slick_carousel.pod_slider3").slick({slidesToShow:3,slidesToScroll:3,autoplay:false,dots:false,swipe:true,arrows:true,lazyLoad:"ondemand",responsive:[{breakpoint:780,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:590,settings:{slidesToShow:1,slidesToScroll:1}}]});$(".slick_carousel.pod_slider2").slick({slidesToShow:2,slidesToScroll:2,autoplay:false,dots:false,swipe:true,arrows:true,lazyLoad:"ondemand",responsive:[{breakpoint:590,settings:{slidesToShow:1,slidesToScroll:1}}]});$(".slick-gallery").slick({slidesToShow:1,slidesToScroll:1,swipeToSlide:true,autoplay:true,autoplaySpeed:7e3,fade:false,cssEase:"linear",speed:1e3,dots:true,arrows:false,lazyLoad:"progressive",adaptiveHeight:true});var e=0;$(".synced_slider_feature").on("init",function(e,s){s.refresh=s.unfilterSlides}).slick({slidesToShow:1,slidesToScroll:1,arrows:true,adaptiveHeight:false,infinite:false,lazyLoad:"progressive"});$(".synced_slider_feature").on("beforeChange",function(e,s,i,o){$(".synced_slider_nav").slick("slickGoTo",o);$(this).parent(".synced_slider").find(".synced_selected").removeClass("synced_selected");$(".synced_slider_nav .slick-slide[data-slick-index="+o+"]").addClass("synced_selected");$(this).parent(".synced_slider").find(".show-less .show-button").trigger("click")});$(".synced_slider_nav").on("init",function(e,s){$(this).find(".slick-slide[data-slick-index=0]").addClass("synced_selected")});$(".synced_slider_nav").on("init",function(e,s){s.refresh=s.unfilterSlides}).slick({slidesToShow:6,slidesToScroll:3,infinite:false,responsive:[{breakpoint:972,settings:{slidesToShow:4,slidesToScroll:2}},{breakpoint:640,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:500,settings:{slidesToShow:2,slidesToScroll:2}}]});$(".synced_slider_nav .slick-slide").on("click",function(){var e=$(this).data("slick-index");$(this).parent(".slick-track").find(".slick-slide").removeClass("synced_selected");$(this).addClass("synced_selected");$(".synced_slider_feature").slick("goTo",e)});$(".synced_slider.zoomable .feature-image").on("click",function(){if(window.matchMedia("(min-width: 640px)").matches){var s=$(this).html();var i=$("<div class='fullscreen-lightbox'></div>").on("click",function(){$(this).remove();$("body").removeClass("modal-open").css("top","auto");if(e){$("body").scrollTop(e)}});i.html(s);$("body").append(i);e=$("body").scrollTop();$("body").addClass("modal-open").css("top",0-e+"px")}});var s=new Swiper(".swiper-container:not(.in_cat_page):not(.in_review_page)",{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",preloadImages:false,lazyLoading:true,lazyLoadingOnTransitionStart:false,lazyLoadingInPrevNext:false,loop:false,slidesPerView:6,slidesPerGroup:6,spaceBetween:20,threshold:10,breakpoints:{1280:{slidesPerView:5,slidesPerGroup:5,spaceBetween:20},940:{slidesPerView:4,slidesPerGroup:4,spaceBetween:20},750:{slidesPerView:3,slidesPerGroup:3,spaceBetween:10},600:{slidesPerView:2,slidesPerGroup:2,spaceBetween:10}}});var s=new Swiper(".swiper-container.in_cat_page",{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",preloadImages:false,lazyLoading:true,lazyLoadingOnTransitionStart:false,lazyLoadingInPrevNext:false,loop:false,slidesPerView:5,slidesPerGroup:5,spaceBetween:20,threshold:10,breakpoints:{1280:{slidesPerView:4,slidesPerGroup:4},976:{slidesPerView:3,slidesPerGroup:3},830:{slidesPerView:2,slidesPerGroup:2,spaceBetween:10},670:{slidesPerView:1,slidesPerGroup:1,spaceBetween:10},640:{slidesPerView:2,slidesPerGroup:2,spaceBetween:10}}});var s=new Swiper(".swiper-container.in_review_page",{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",preloadImages:false,lazyLoading:true,lazyLoadingOnTransitionStart:false,lazyLoadingInPrevNext:false,loop:false,slidesPerView:4,slidesPerGroup:4,spaceBetween:20,threshold:10,breakpoints:{1280:{slidesPerView:3,slidesPerGroup:3,spaceBetween:20},940:{slidesPerView:2,slidesPerGroup:2,spaceBetween:20},800:{slidesPerView:3,slidesPerGroup:3,spaceBetween:10},640:{slidesPerView:2,slidesPerGroup:2,spaceBetween:10}}});var s=new Swiper(".swiper-container.discovery",{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",pagination:".swiper-pagination",paginationType:"fraction",preloadImages:false,lazyLoading:true,lazyLoadingOnTransitionStart:false,lazyLoadingInPrevNext:false,loop:false,slidesPerView:1,slidesPerGroup:1,spaceBetween:20,threshold:10})});$(window).on("load",function(){if(Modernizr.touchevents){$(".book-image-main ul.inner").slick({dots:true,arrows:false})}});

$(function(){var e=window.location.href.split("/");var a=e[3]=="account";if(a){var r=e[4];switch(r){case"contactdetails":initContactdetails();break;case"editaddress":initEditaddress();break;case"saveaddress":initEditaddress();break;case"editpaymentcard":initEditpaymentcard();break;case"list":initList();break;case"viewgiftcard":initViewgiftcard();break}}$(".default-radio").on("change",function(){checkLoginValid("short",$(this))});function t(){$(".validate-banner .validate-message").fadeOut(function(){$(this).text("Sending...").fadeIn()});var e={};$.ajax({type:"POST",url:"/account/sendemailverification",data:e,success:function(e){$(".validate-banner .validate-message").fadeOut(function(){$(this).text("A verification email has been sent to "+e.email).fadeIn()})}})}$(".send-email-verification").on("click",function(){t()});$(".refund-form").validate({rules:{cancellation_reason_id:{required:true}},messages:{cancellation_reason_id:{required:"Please provide a reason for cancellation"}},errorPlacement:function(e,a){$(".error-container").append(e)}});$("#changePasswordForm").validate({rules:{password:{required:true},passwordconfirm:{equalTo:"#passwordField"}},messages:{password:{required:"Please enter your new password."},passwordconfirm:{equalTo:"Password confirmation must match password."}}});$(".type-radio").on("change",function(){var e=$(".public-toggle");if($(this).hasClass("type-wish")){e.hide()}else{e.show()}});$(".button-cancel-all").on("click",function(){$(".cancel-order-checkbox").each(function(){this.checked=true})});$(".card-form").validate({errorClass:"input-error",rules:{code:{number:true,required:true},cvc:{number:true,required:true}},messages:{code:{number:"Please enter a valid gift card number",required:"Please enter a gift card number"},cvc:{number:"Please enter a valid security code",required:"Please enter a security code"}}});$(".loyalty-form").validate({errorClass:"input-error",rules:{code:{number:true,required:true},cvc:{number:true,required:true}},messages:{code:{number:"Please enter a valid Waterstones Card number",required:"Please enter a Waterstones Card number"},cvc:{number:"Please enter a valid security code",required:"Please enter a security code"}}});$(".toggle-update-card").on("click",function(){checkLoginValid("short",$(this))})});function initContactdetails(){var e=false;var a=$("#persform").validate({rules:{"user[title]":{required:true},"user[first_name]":{required:true,humanname:true},"user[last_name]":{lastnameValidation:true,humanname:true},"user[email]":{email:true,maxlength:80},confirm_email:{equalTo:"#newEmail"},"user[phone]":{regex:/^((\+)?[1-9]{1,2})?([-\s\.])?((\(\d{1,4}\))|\d{1,4})(([-\s\.])?[0-9]{1,12}){1,2}(\s*(ext|x)\s*\.?:?\s*([0-9]+))?$/}},messages:{"user[title]":{required:"Please enter your title."},"user[first_name]":{required:"Please enter your first name.",humanname:"Your name must contain only letters, spaces and apostrophes."},"user[last_name]":{humanname:"Your name must contain only letters, spaces and apostrophes."},"user[email]":{required:"Please enter your email address.",maxlength:"Your email address must be 80 characters or less."},confirm_email:{equalTo:"Email confirmation must match email."},"user[phone]":{regex:"Please enter a valid phone number."}},errorPlacement:function(e,a){if(["user[title]"].indexOf(a.attr("name"))>=0){$(a).next(".ws-select-handle").next(".ws-select-list").after(e.addClass("error-select"))}else{$(a).after(e)}},ignore:".ws-outer:hidden input,input[type=text]:hidden, input[type=password]:hidden"});$(".ajax-hold").on("mousedown",function(){e=true});$(".profile-ajax-save").focusout(function(){var e=$(this);checkLoginValid("short",$(this),function(){r(e)})});$(".ws-select").fancySelect().on("change.fs",function(){var e=$(this);checkLoginValid("short",$(this),function(){r(e)})});$.validator.addMethod("regex",function(e,a,r){var t=new RegExp(r);return this.optional(a)||t.test(e)},"Please check your input.");$.validator.addMethod("lastnameValidation",function(e,a){if(e.trim().length<2){return false}if(e.trim().replace(/[^A-Za-z]/g,"").length<1){return false}return true},"Last name must be at least 2 characters");$(".password-change-form").validate({errorClass:"input-error",rules:{oldpassword:{required:true},password:{required:true,minlength:6,regex:/^[!-~]{6,}$/},passwordconfirm:{equalTo:"#password"}},messages:{password:{required:"Please create a password for your account.",minlength:"Your password must be 6 characters or more.",regex:"Your password contains invalid characters."},passwordconfirm:{equalTo:"Password confirmation must match password."}}});$("#password").on("keyup",function(){var e=$(this).val();var a=0,r=e.length,t,s,i,o,n;if(r===0){n=false}else{if(r<10)a+=20;else if(r<13)a+=28;else if(r<16)a+=38;else a+=40;s=e.match(/[a-z]/g);if(s)a+=1;t=e.match(/[A-Z]/g);if(t)a+=3;if(t&&s)a+=3;i=e.match(/\d/g);if(i)a+=i.length>1?5:3;else a-=5;o=e.match(/\W/g);if(o)a+=o.length>1?10:5;if(t&&s&&i&&o)a+=10;if(e.match(/\s/))a+=10;if(a<15)n=0;else if(a<35)n=1;else if(a<50)n=2;else n=3}var d=n;var l;var c;var u={label:".label",classes:["pw-very-weak","pw-weak","pw-mediocre","pw-strong"],texts:["Invalid Password","Weak","Medium","Strong"],indicator:$("#pw_macho")};if(d===false){u.indicator.removeClass(u.indicator.data("pwclass"));u.indicator.find(u.label).empty();return}else if(/^[!-~]*$/.test(e)===false){c=u.classes[0];u.indicator.removeClass(u.indicator.data("pwclass"));u.indicator.data("pwclass",c);u.indicator.addClass(c);u.indicator.find(u.label).html("Invalid characters in your password.");return}else if(r<6){c=u.classes[0];u.indicator.removeClass(u.indicator.data("pwclass"));u.indicator.data("pwclass",c+"-"+r);u.indicator.addClass(c+"-"+r);l="Please enter "+(6-r)+" or more characters";u.indicator.find(u.label).html(l);return}c=u.classes[d];u.indicator.removeClass(u.indicator.data("pwclass"));u.indicator.data("pwclass",c);u.indicator.addClass(c);u.indicator.find(u.label).html(u.texts[d])});if(typeof FileReader!=="undefined"){$('input[type="file"]').on("change",function(e){if(e.target.files[0].size>1048576){$("#fileUploadErrorMessage").html("This profile picture is greater than 1MB. Please reduce the file size and try again.");$("#fileUploadError").show()}else{$("#fileUploadError").hide()}var a=new FileReader;a.onload=function(e){$(".profile-picture-drop").css({backgroundImage:"url("+e.target.result+")"})};a.readAsDataURL(e.target.files[0])});$(".button-upload").on("click",function(){$("input.file").trigger("click");return false})}else{$(".upload-profile-image").addClass("legacy")}function r(r){setTimeout(function(){if(!e){var t=a.element(r);var s=$(".ajax-hold");var i=r.hasClass("reg-date-field");if(t){s.removeClass("button-teal");s.prop("disabled",true);s.html("Updating...");var o={};o["user_id"]=$("input[name='user[id]']").val();if(i){var n=$("#dob_day").val();var d=$("#dob_month").val();var l=$("#dob_year").val();o["prop"]="date_of_birth";if(n&&d&&l){o["val"]=$("#dob_full").val()}else if(!n&&!d&&!l){o["val"]=""}else{$(".ajax-prefs").addClass("ajax-complete").css("bottom","-300px");$("form").removeClass("click-disabled");return false}}else{o["prop"]=r.data("prop");o["val"]=r.val()}var c=$(".ajax-prefs:not(.ajax-complete)").length;if(!c){$(".ajax-prefs .update-prefs-message").text("Updating...");$(".ajax-prefs").attr("class","ajax-prefs");$(".ajax-prefs").css("bottom","0px");$("form").addClass("click-disabled")}$.ajax({type:"POST",url:"/account/updateuserproperty",data:o,timeout:15e3,success:function(e){if(e.success){r.data("saved-value",o["val"])}else{if(e.login_valid){window.location="/securitylogin"}}},error:function(e,a,t){var s=r.data("saved-value");if(typeof s!="undefined"){if(r.attr("type")==="checkbox"){r.prop("checked",s=="1"?true:false).trigger("change")}else{r.val(s).trigger("update.fs")}}},complete:function(){s.addClass("button-teal");s.prop("disabled",false);s.html("Update Details")}})}}},100)}}function initEditaddress(){$(".input-postcode").on("keyup",function(){var e=$(this).closest(".account-content");var a=$("#editPaymentPcodeErr",e);var r=$(".qas-service-error",e);r.hide();a.hide()});$("#editPaymentCardSaveBtn").on("click",function(){var e=$(this).closest(".account-content");var a=$(".input-postcode",e);var r=a.val();var t=$(".qas-error",e);var s=$(".countrySelect",e).val();var i=$(".qas-service-error");r=r.replace(/-|_| /g,"");if(!$.trim(r)){t.show();return false}if(s==235||s==113||s==108||s==92||s==85){var o=/^([a-zA-Z]){1}([0-9][0-9]|[0-9]|[a-zA-Z][0-9][a-zA-Z]|[a-zA-Z][0-9][0-9]|[0-9][a-zA-Z]|[a-zA-Z][0-9]){1}([0-9][a-zA-z][a-zA-z]){1}$/;if(o.test(r)==false){t.show();i.hide();return false}else if(o.test(r)==true){t.hide()}}else{var n=r.length;if(n>10){t.show();i.hide();return false}else{t.hide()}}});var e=$(".qas-list");var a=$(".qas-result");var r=$(".input-postcode");var t=$(".lookup-spinner");var s=$(".button-qas");var i=$(".qas-error");var o=$(".qas-service-error");function n(e){s.addClass("invisible");t.show();$.getJSON("/qas/ajax-full-address-lookup",{moniker:e},function(e){s.removeClass("invisible");t.hide();$('.input[name="address[address_1]"]').val(e.address.line1).trigger("blur");$('.input[name="address[address_2]"]').val(e.address.line2).trigger("blur");$('.input[name="address[address_3]"]').val(e.address.town).trigger("blur");$('.input[name="address[address_4]"]').val(e.address.county).trigger("blur");a.hide()})}e.on("click","li",function(){var e=$(this);var a=e.data("moniker");n(a)});t.each(function(){var e=$(this);var a={lines:13,length:5,width:2,radius:6,right:0,hwaccel:true};new Spinner(a).spin(e.get(0))});$(".book-detail-cnc-switch").on("click",function(){$(this).closest(".book-detail-cnc-saved").hide();$(this).closest(".book-detail-cnc-saved").next().show();return false});$.validator.addMethod("regex",function(e,a,r){if($(".countrySelect").val()==235){var t=new RegExp(r);return this.optional(a)||t.test(e)}else{if($(".input-postcode").val().length>10){return false}return true}},"Please check your input.");var d=$(".address-form").validate({errorClass:"input-error",errorPlacement:function(e,a){if(a.hasClass("ws-select")){e.insertAfter(a.parents(".ws-select-outer"))}else{e.insertAfter(a)}},rules:{"address[firstname]":{required:true},"address[lastname]":{required:true},"address[postcode]":{postcodeRequiredInSomeCountries:"address[country_id]",postcodeValidator:"address[country_id]"},"address[address_1]":{required:true},"address[address_3]":{required:true},"address[address_4]":{countyRequiredInSomeCountries:"address[country_id]"},"address[us_state_code]":{stateRequiredInSomeCountries:"address[country_id]"}},messages:{"address[firstname]":{required:"Please enter the first name."},"address[lastname]":{required:"Please enter the surname."},"address[postcode]":{postcodeRequiredInSomeCountries:"This field is required",postcodeValidator:"Please enter a valid postcode"},"address[address_1]":{required:"Please enter your delivery address."},"address[address_3]":{required:"Please enter your city."},"address[address_4]":{countyRequiredInSomeCountries:"County/Province/State."}}})}function initEditpaymentcard(){$(".input-postcode").on("keyup",function(){var e=$(this).closest(".account-content");var a=$("#editPaymentPcodeErr",e);var r=$(".qas-service-error",e);r.hide();a.hide();$(".input-postcode").removeClass("error")});$("#editPaymentCardSaveBtn").on("click",function(){var e=$(this).closest(".account-content");var a=$(".input-postcode",e);var r=a.val();var t=$(".qas-error",e);var s=$(".countrySelect",e).val();var i=$(".qas-service-error");if(s==235||s==113||s==108||s==92||s==85){var o=/^([a-zA-Z]){1}([0-9][0-9]|[0-9]|[a-zA-Z][0-9][a-zA-Z]|[a-zA-Z][0-9][0-9]|[0-9][a-zA-Z]|[a-zA-Z][0-9]){1}( |-|_|)([0-9][a-zA-z][a-zA-z]){1}$/;if(o.test(r)==false){$(".input-postcode").addClass("error");t.show();i.hide();return false}else if(o.test(r)==true){$(".input-postcode").removeClass("error");t.hide()}}else{var n=r.length;if(n>10){$(".input-postcode").addClass("error");t.show();i.hide();return false}else{$(".input-postcode").removeClass("error");t.hide()}}});var e=$(".qas-list");var a=$(".qas-result");var r=$(".input-postcode");var t=$(".lookup-spinner");var s=$(".button-qas");var i=$(".qas-error");var o=$(".qas-service-error");function n(){var n=r.val();var l=$(".countrySelect").val();var c=/^([a-zA-Z]){1}([0-9][0-9]|[0-9]|[a-zA-Z][0-9][a-zA-Z]|[a-zA-Z][0-9][0-9]|[0-9][a-zA-Z]|[a-zA-Z][0-9]){1}( |-|_|)([0-9][a-zA-z][a-zA-z]){1}$/;n=n.replace(/-|_| /,"");if(c.test(n)==false){i.show();o.hide();return false}s.addClass("invisible");t.show();a.hide();e.empty();i.hide();o.hide();$.getJSON("/qas/ajax-postcode-address-lookup",{postcode:n,countryid:l,limit:100},function(r){s.removeClass("invisible button-teal").addClass("button-grey");t.hide();if(r.errors){o.show();return false}if(r.length>0){if(r[0].address=="No matches"||!r[0].moniker){i.show()}else{if(r.length==1){d(r[0].moniker)}else{a.show();for(var n in r){var l=$("<li/>");l.text(r[n].address);l.data("moniker",r[n].moniker);l.appendTo(e)}}}}});return false}$(".button-qas").on("click",n);r.on("keydown",function(e){i.hide();if(e.keyCode==13){r.trigger("blur");n();return false}});function d(e){s.hide();t.show();$.getJSON("/qas/ajax-full-address-lookup",{moniker:e},function(e){s.show();t.hide();$('.input[name="address[address_1]"]').val(e.address.line1).trigger("blur");$('.input[name="address[address_2]"]').val(e.address.line2).trigger("blur");$('.input[name="address[address_3]"]').val(e.address.town).trigger("blur");$('.input[name="address[address_4]"]').val(e.address.county).trigger("blur");a.hide()})}e.on("click","li",function(){var e=$(this);var a=e.data("moniker");d(a)});t.each(function(){var e=$(this);var a={lines:13,length:5,width:2,radius:6,right:0,hwaccel:true};new Spinner(a).spin(e.get(0))});$(".book-detail-cnc-switch").on("click",function(){$(this).closest(".book-detail-cnc-saved").hide();$(this).closest(".book-detail-cnc-saved").next().show();return false});$.validator.addMethod("regex",function(e,a,r){var t=new RegExp(r);return this.optional(a)||t.test(e)},"Please check your input.");$(".delivery-address-form").validate({errorClass:"input-error",errorPlacement:function(e,a){if(a.hasClass("ws-select")){e.insertAfter(a.parents(".ws-select-outer"))}else{e.insertAfter(a)}},rules:{"address[firstname]":{required:true},"address[lastname]":{required:true},"address[postcode]":{postcodeRequiredInSomeCountries:"address[country_id]",postcodeValidator:"address[country_id]"},"address[address_1]":{required:true},"address[address_3]":{required:true},"address[address_4]":{countyRequiredInSomeCountries:"address[country_id]"},"address[us_state_code]":{stateRequiredInSomeCountries:"address[country_id]"}},messages:{"address[firstname]":{required:"Please enter the first name."},"address[lastname]":{required:"Please enter the surname."},"address[postcode]":{postcodeRequiredInSomeCountries:"This field is required",postcodeValidator:"Please enter a valid postcode"},"address[address_1]":{required:"Please enter your delivery address."},"address[address_3]":{required:"Please enter your city."},"address[address_4]":{countyRequiredInSomeCountries:"County/Province/State."}}});$(".countrySelect").on("change",function(){var e=$(this).find("option:selected").text();if(e=="United States"){$(".showUsa").show();$(".hideUsa").hide();$(".hideUsa input[type=text]").val("")}else{$(".showUsa").hide();$(".hideUsa").show()}if(e==="United Kingdom"){$(".lookup-button-container").show()}else{$(".lookup-button-container, .qas-result").hide()}}).trigger("change")}function initList(){var e=$(".book-results");var a=$(".search-more");function r(r){if(r==""||!r){var r=window.rec_search_term}if(r!=window.rec_search_term){e.empty();window.rec_search_term=r;page=1}else{page=page+1}window.rec_search_page=page;var t=e.data("listid");if(r){e.show();$.getJSON("/account/listbooksearch",{term:r,listid:t,page:page},function(r){if(r.ret){e.show();$.each(r.books,function(a,r){var t=$(".template .book-list-result").clone();t.data("id",r.id);$(".title",t).text(r.title);if(r.contributorName){$(".contrib",t).text(r.contributorName)}if(r.format){$(".book-format",t).text(r.format)}if(r.altimage){$(".book-list-image img",t).prop("src",r.altimage)}else{$(".book-list-image img",t).prop("src",r.imageUrl)}if(r.availability){$(".availability",t).text(r.availability);$(".availability",t).css("color",r.stock_colour)}if(r.campaign_price){$(".price",t).text(r.currency_symbol_left+r.campaign_price+r.currency_symbol_right)}else{$(".price",t).text(r.currency_symbol_left+r.price+r.currency_symbol_right)}$(".book-list-image img",t).prop("alt",r.title);t.appendTo(e)});if(r.books.length==0){e.append('<p class="no-results">No results found</p>')}if(r.books.length>=18){a.show()}else{a.hide()}}})}else{e.hide();e.empty()}}$(".search-input").on("submit",function(){var e=$("input",this).val();r(e);return false});e.on("click",".book-list-item",function(){var a=$(this);var r=a.data("id");var t=e.data("listid");window.location="/account/listaddbook?"+$.param({listid:t,bookid:r})});if(!touch){var t=$(".book-list-items.sortable");t.sortable({handle:".order-handle",start:function(e,a){a.item.addClass("sorting")},stop:function(e,a){a.item.removeClass("sorting")},update:function(e,a){var r=[];var s=$(".book-list-item",this);s.each(function(e){$(".index",this).text(e+1);var a=$(this).data("bookid");r.push(a)});if(s.length>0){var i=s.first().data("image");$(".list-feature-image").show().find('img[src="'+i+'"]').prependTo($(".list-feature-image-wrapper"))}var o=t.data("listid");$.getJSON("/account/listbookorder",{listid:o,order:r})}})}$(".list-comment-form").each(function(){var e=$(this);var a=null;function r(){e.ajaxSubmit(function(){var a=$(".ajax-badge",e);a.stop().removeAttr("style").addClass("active");setTimeout(function(){a.stop().animate({opacity:0},function(){a.removeClass("active").removeAttr("style")})},1e3)})}$("textarea",e).on("change",r);$("textarea",e).on("keyup",function(){clearTimeout(a);a=setTimeout(function(){r()},1e3)})})}function initViewgiftcard(){window.print()}$.validator.addMethod("postcodeValidator",function(e,a,r){var r=r.replace("[","\\[").replace("]","\\]");var t=$("select[name="+r+"]").val();if(t==235){return/^([a-zA-Z]){1}([0-9][0-9]|[0-9]|[a-zA-Z][0-9][a-zA-Z]|[a-zA-Z][0-9][0-9]|[0-9][a-zA-Z]|[a-zA-Z][0-9]){1}( |-|_|)([0-9][a-zA-z][a-zA-z]){1}$/.test(e)}return true},"Please enter a valid postcode");

$(function(){$("body").on("click",".basic-arrow",function(){var e=$(this).parents(".basic-slider").find(".basic-wrapper");var a=e.data("movewidth");var t=$(this).data("direction");if(e.scrollLeft()==0)a-=50;t=="right"?e.animate({scrollLeft:"+="+a},200):e.animate({scrollLeft:"-="+a},200)});$("body").on("click",".back-to-start-slide",function(){var e=$(this).parents(".basic-slider").find(".basic-wrapper");e.animate({scrollLeft:0},200)});$(".no-touch .basic-wrapper").on("mousedown",function(e){e.preventDefault();var a=e.pageX;var t=$(this).scrollLeft();$(".basic-wrapper").mousemove(function(e){var r=e.pageX;var i=a-r;var s=t+i;if(i>5||i<-5){$(this).addClass("was-scrolled")}$(this).scrollLeft(s)})});$(".basic-wrapper").on("mouseup",function(e){$(".basic-wrapper").off("mousemove")})});function initialiseBasicSlider(e){var a=e.data("collectionid");var t=false;var r=e.hasClass("b-tag-browser");e.addClass("swiper-init");e.data("gettingnextpage",false);e.data("gettingprevpage",false);var i=buildData({collection_tags:a,genre_tags:genreArray.join(),format:formatArray.join(),pricemin:selectedMinPrice,pricemax:selectedMaxPrice});if(!isNaN(parseFloat(getQueryVariable("p")))&&a==getQueryVariable("c")){var s=getQueryVariable("p");i["page"]=s;e.data("highestpage",s);e.data("lowestpage",s);rebuildBasicSlider(e,i)}else{e.data("highestpage",1);e.data("lowestpage",1);rebuildBasicSlider(e,i)}$(".basic-wrapper",e).on("scroll",function(){var a=$(this).scrollLeft();var t=parseInt(e.data("totalbooks"));var r=e.find(".product").length;var i=e.data("lowestpage");var s=e.data("highestpage");var o=e.data("totalpages");var l=e.find(".slide-next-point").position().left;var c=e.find(".slide-prev-point").position().left;var n=e.data("gettingprevpage");var d=e.data("gettingnextpage");var p=e.find().length;checkArrowDisplay(e);if(r<t){if(a>l&&parseInt(s)<parseInt(o)&&!d){loadNextBasicPage(e,s)}else if(t>6&&!$(".back-to-start-slide",e).length&&!d&&parseInt(s)==parseInt(o)){$(".basic-wrapper",e).append($("<div />",{class:"back-to-start-slide",text:"Back to start",css:{height:$(".image",e)[0].offsetHeight}}))}if(c>0&&parseInt(i)!=1&&!n){loadPrevBasicPage(e,i)}}else{if(t>6&&!$(".back-to-start-slide",e).length&&!d){$(".basic-wrapper",e).append($("<div />",{class:"back-to-start-slide",text:"Back to start",css:{height:$(".image",e)[0].offsetHeight}}))}}});$(window).on("resize",function(){checkArrowDisplay(e);checkArrowHeight(e)})}function rebuildBasicSlider(e,a){gettingResults=true;var t=e.find(".basic-wrapper");t.empty();checkArrowDisplay(e);var r=e.parents(".b-wrap");r.addClass("b-loading");t.append($("<div />",{class:"product placeholder-product"}).append($("<div />",{class:"image"})).append($("<div />",{class:"placeholder-content"})));getCollectionResults(a,function(i,s){if(s>0){r.removeClass("no-products");var o=e.data("collectionid");var l=getQueryVariable("c");var c=getQueryVariable("isbn");$(".slide-next-point",e).removeClass("slide-next-point");$(".slide-prev-point",e).removeClass("slide-prev-point");var n=i.Books.length-1;var d=i.Books.length;$.each(i.Books,function(a,r){var i="";var s="";if(r.campaign_enabled&&r.campaign_price&&parseFloat(r.price_wt)>parseFloat(r.campaign_price)){i=r.currency_symbol_left+r.campaign_price+r.currency_symbol_right;s=r.currency_symbol_left+r.price_wt+r.currency_symbol_right}else{i=r.currency_symbol_left+r.price_wt+r.currency_symbol_right}var p=r.alt_large_book_image?r.alt_large_book_image:r.book_large_image;var g=r.authors_names?r.authors_names:r.publisher_name;var f=buildProduct(r.isbn_thirt,p,r.title,g,i,s,r.product_id);f.data("resultspage",1);if(a==0){$(".placeholder-product",t).remove();f.addClass("slide-next-point")}if(a==n)f.addClass("slide-prev-point");t.append(f);setTimeout(function(){f.removeClass("hid");f.find(".title").dotdotdot({watch:true});if(!--d){var a=$('[data-isbn="'+c+'"]',t);if(a.length&&o==l&&!carSettingsLoaded){carSettingsLoaded=true;var r=t.scrollLeft()+a.offset().left;if(a.offset().left!=0&&$("html").hasClass("no-touch"))r-=50;t.scrollLeft(r)}if(n){checkArrowDisplay(e);checkArrowHeight(e)}}},10)})}else{r.addClass("no-products")}r.removeClass("b-loading");var p=Math.ceil(s/20);e.data("totalbooks",s);e.data("totalpages",p);e.data("highestpage",a.page);e.data("lowestpage",a.page);gettingResults=false;var g=getQueryVariable("p");if(g&&a.collection_tags==getQueryVariable("c")){if(g>1){loadPrevBasicPage(e,g,false)}if(g!=parseInt(e.data("totalpages"))){loadNextBasicPage(e,g,false)}else if(e.data("totalbooks")>6){t.append($("<div />",{class:"back-to-start-slide",text:"Back to start",css:{height:$(".image",e)[0].offsetHeight}}))}}})}function loadNextBasicPage(e,a,t){t=typeof t!=="undefined"?t:true;e.data("gettingnextpage",true);var r=e.find(".basic-wrapper");var i=parseInt(a)+1;var s=e.data("collectionid");var o=$(".image",e)[0].offsetHeight;if(t){r.append($("<div />",{class:"loading-slide",css:{height:o}}))}var l=buildData({collection_tags:s,genre_tags:genreArray.join(),page:i,format:formatArray.join(),pricemin:selectedMinPrice,pricemax:selectedMaxPrice});getCollectionResults(l,function(a){e.data("highestpage",i);$(".slide-next-point",e).removeClass("slide-next-point");var t=a.Books.length-1;$.each(a.Books,function(e,a){var t="";var s="";if(a.campaign_enabled&&a.campaign_price&&parseFloat(a.price_wt)>parseFloat(a.campaign_price)){t=a.currency_symbol_left+a.campaign_price+a.currency_symbol_right;s=a.currency_symbol_left+a.price_wt+a.currency_symbol_right}else{t=a.currency_symbol_left+a.price_wt+a.currency_symbol_right}var o=a.alt_large_book_image?a.alt_large_book_image:a.book_large_image;var l=a.authors_names?a.authors_names:a.publisher_name;var c=buildProduct(a.isbn_thirt,o,a.title,l,t,s,a.product_id);c.data("resultspage",i);if(e==0)c.addClass("slide-next-point");r.append(c);setTimeout(function(){c.removeClass("hid");c.find(".title").dotdotdot({watch:true})},10)});e.data("gettingnextpage",false);e.find(".loading-slide").remove();checkArrowDisplay(e)})}function loadPrevBasicPage(e,a,t){t=typeof t!=="undefined"?t:true;e.data("gettingprevpage",true);var r=e.find(".basic-wrapper");var i=parseInt(a)-1;var s=e.data("collectionid");var o=$(".image",e)[0].offsetHeight;if(t){r.prepend($("<div />",{class:"loading-slide",css:{height:o}}))}var l=buildData({collection_tags:s,genre_tags:genreArray.join(),page:i,format:formatArray.join(),pricemin:selectedMinPrice,pricemax:selectedMaxPrice});getCollectionResults(l,function(a){e.data("lowestpage",i);$(".slide-prev-point",e).removeClass("slide-prev-point");var t=a.Books.slice().reverse();var s=r[0].scrollWidth;var o;$.each(t,function(e,a){var t="";var l="";if(a.campaign_enabled&&a.campaign_price&&parseFloat(a.price_wt)>parseFloat(a.campaign_price)){t=a.currency_symbol_left+a.campaign_price+a.currency_symbol_right;l=a.currency_symbol_left+a.price_wt+a.currency_symbol_right}else{t=a.currency_symbol_left+a.price_wt+a.currency_symbol_right}var c=a.alt_large_book_image?a.alt_large_book_image:a.book_large_image;var n=a.authors_names?a.authors_names:a.publisher_name;var d=buildProduct(a.isbn_thirt,c,a.title,n,t,l,a.product_id);d.data("resultspage",i);if(e==0){d.addClass("slide-prev-point");o=r.scrollLeft()}r.prepend(d);setTimeout(function(){d.removeClass("hid");d.find(".title").dotdotdot({watch:true});var e=r[0].scrollWidth;var a=o+(e-s);r.scrollLeft(a)},10)});e.data("gettingprevpage",false);e.find(".loading-slide").remove();checkArrowDisplay(e)})}function checkArrowHeight(e){var a=e.find(".basic-arrow-wrap");var t=$(".image",e)[0].offsetHeight;var r=$(".image",e).width()*4;var i=e.find(".basic-wrapper");i.data("movewidth",r);a.css("height",t)}function checkArrowDisplay(e){var a=e.find(".basic-wrapper");var t=a[0].scrollLeft;var r=a[0].scrollWidth-(a[0].scrollLeft+a[0].clientWidth);t==0?e.find(".basic-button-prev").hide():e.find(".basic-button-prev").show();r==0?e.find(".basic-button-next").hide():e.find(".basic-button-next").show()}

!function(t,e){var n=e(t,t.document);t.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window,function(t,e){"use strict";if(e.getElementsByClassName){var n,i,a=e.documentElement,r=t.Date,s=t.HTMLPictureElement,o="addEventListener",l="getAttribute",c=t[o],d=t.setTimeout,u=t.requestAnimationFrame||d,f=t.requestIdleCallback,m=/^picture$/i,z=["load","error","lazyincluded","_lazyloaded"],v={},y=Array.prototype.forEach,g=function(t,e){return v[e]||(v[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),v[e].test(t[l]("class")||"")&&v[e]},h=function(t,e){g(t,e)||t.setAttribute("class",(t[l]("class")||"").trim()+" "+e)},p=function(t,e){var n;(n=g(t,e))&&t.setAttribute("class",(t[l]("class")||"").replace(n," "))},C=function(t,e,n){var i=n?o:"removeEventListener";n&&C(t,e),z.forEach(function(n){t[i](n,e)})},b=function(t,i,a,r,s){var o=e.createEvent("CustomEvent");return a||(a={}),a.instance=n,o.initCustomEvent(i,!r,!s,a),t.dispatchEvent(o),o},A=function(e,n){var a;!s&&(a=t.picturefill||i.pf)?(n&&n.src&&!e[l]("srcset")&&e.setAttribute("srcset",n.src),a({reevaluate:!0,elements:[e]})):n&&n.src&&(e.src=n.src)},E=function(t,e){return(getComputedStyle(t,null)||{})[e]},w=function(t,e,n){for(n=n||t.offsetWidth;n<i.minSize&&e&&!t._lazysizesWidth;)n=e.offsetWidth,e=e.parentNode;return n},M=function(){var t,n,i=[],a=[],r=i,s=function(){var e=r;for(r=i.length?a:i,t=!0,n=!1;e.length;)e.shift()();t=!1},o=function(i,a){t&&!a?i.apply(this,arguments):(r.push(i),n||(n=!0,(e.hidden?d:u)(s)))};return o._lsFlush=s,o}(),N=function(t,e){return e?function(){M(t)}:function(){var e=this,n=arguments;M(function(){t.apply(e,n)})}},_=function(t){var e,n=0,a=i.throttleDelay,s=i.ricTimeout,o=function(){e=!1,n=r.now(),t()},l=f&&s>49?function(){f(o,{timeout:s}),s!==i.ricTimeout&&(s=i.ricTimeout)}:N(function(){d(o)},!0);return function(t){var i;(t=t===!0)&&(s=33),e||(e=!0,i=a-(r.now()-n),0>i&&(i=0),t||9>i?l():d(l,i))}},W=function(t){var e,n,i=99,a=function(){e=null,t()},s=function(){var t=r.now()-n;i>t?d(s,i-t):(f||a)(a)};return function(){n=r.now(),e||(e=d(s,i))}};!function(){var e,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};i=t.lazySizesConfig||t.lazysizesConfig||{};for(e in n)e in i||(i[e]=n[e]);t.lazySizesConfig=i,d(function(){i.init&&B()})}();var x=function(){var s,u,f,z,v,w,x,B,F,S,L,R,k,D,H=/^img$/i,O=/^iframe$/i,P="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),$=0,I=0,q=0,j=-1,G=function(t){q--,t&&t.target&&C(t.target,G),(!t||0>q||!t.target)&&(q=0)},J=function(t,n){var i,r=t,s="hidden"==E(e.body,"visibility")||"hidden"!=E(t.parentNode,"visibility")&&"hidden"!=E(t,"visibility");for(B-=n,L+=n,F-=n,S+=n;s&&(r=r.offsetParent)&&r!=e.body&&r!=a;)s=(E(r,"opacity")||1)>0,s&&"visible"!=E(r,"overflow")&&(i=r.getBoundingClientRect(),s=S>i.left&&F<i.right&&L>i.top-1&&B<i.bottom+1);return s},K=function(){var t,r,o,c,d,f,m,v,y,g=n.elements;if((z=i.loadMode)&&8>q&&(t=g.length)){r=0,j++,null==k&&("expand"in i||(i.expand=a.clientHeight>500&&a.clientWidth>500?500:370),R=i.expand,k=R*i.expFactor),k>I&&1>q&&j>2&&z>2&&!e.hidden?(I=k,j=0):I=z>1&&j>1&&6>q?R:$;for(;t>r;r++)if(g[r]&&!g[r]._lazyRace)if(P)if((v=g[r][l]("data-expand"))&&(f=1*v)||(f=I),y!==f&&(w=innerWidth+f*D,x=innerHeight+f,m=-1*f,y=f),o=g[r].getBoundingClientRect(),(L=o.bottom)>=m&&(B=o.top)<=x&&(S=o.right)>=m*D&&(F=o.left)<=w&&(L||S||F||B)&&(i.loadHidden||"hidden"!=E(g[r],"visibility"))&&(u&&3>q&&!v&&(3>z||4>j)||J(g[r],f))){if(et(g[r]),d=!0,q>9)break}else!d&&u&&!c&&4>q&&4>j&&z>2&&(s[0]||i.preloadAfterLoad)&&(s[0]||!v&&(L||S||F||B||"auto"!=g[r][l](i.sizesAttr)))&&(c=s[0]||g[r]);else et(g[r]);c&&!d&&et(c)}},Q=_(K),U=function(t){h(t.target,i.loadedClass),p(t.target,i.loadingClass),C(t.target,X),b(t.target,"lazyloaded")},V=N(U),X=function(t){V({target:t.target})},Y=function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}},Z=function(t){var e,n=t[l](i.srcsetAttr);(e=i.customMedia[t[l]("data-media")||t[l]("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n)},tt=N(function(t,e,n,a,r){var s,o,c,u,z,v;(z=b(t,"lazybeforeunveil",e)).defaultPrevented||(a&&(n?h(t,i.autosizesClass):t.setAttribute("sizes",a)),o=t[l](i.srcsetAttr),s=t[l](i.srcAttr),r&&(c=t.parentNode,u=c&&m.test(c.nodeName||"")),v=e.firesLoad||"src"in t&&(o||s||u),z={target:t},v&&(C(t,G,!0),clearTimeout(f),f=d(G,2500),h(t,i.loadingClass),C(t,X,!0)),u&&y.call(c.getElementsByTagName("source"),Z),o?t.setAttribute("srcset",o):s&&!u&&(O.test(t.nodeName)?Y(t,s):t.src=s),r&&(o||u)&&A(t,{src:s})),t._lazyRace&&delete t._lazyRace,p(t,i.lazyClass),M(function(){(!v||t.complete&&t.naturalWidth>1)&&(v?G(z):q--,U(z))},!0)}),et=function(t){var e,n=H.test(t.nodeName),a=n&&(t[l](i.sizesAttr)||t[l]("sizes")),r="auto"==a;(!r&&u||!n||!t[l]("src")&&!t.srcset||t.complete||g(t,i.errorClass)||!g(t,i.lazyClass))&&(e=b(t,"lazyunveilread").detail,r&&T.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,q++,tt(t,e,r,a,n))},nt=function(){if(!u){if(r.now()-v<999)return void d(nt,999);var t=W(function(){i.loadMode=3,Q()});u=!0,i.loadMode=3,Q(),c("scroll",function(){3==i.loadMode&&(i.loadMode=2),t()},!0)}};return{_:function(){v=r.now(),n.elements=e.getElementsByClassName(i.lazyClass),s=e.getElementsByClassName(i.lazyClass+" "+i.preloadClass),D=i.hFac,c("scroll",Q,!0),c("resize",Q,!0),t.MutationObserver?new MutationObserver(Q).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a[o]("DOMNodeInserted",Q,!0),a[o]("DOMAttrModified",Q,!0),setInterval(Q,999)),c("hashchange",Q,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e[o](t,Q,!0)}),/d$|^c/.test(e.readyState)?nt():(c("load",nt),e[o]("DOMContentLoaded",Q),d(nt,2e4)),n.elements.length?(K(),M._lsFlush()):Q()},checkElems:Q,unveil:et}}(),T=function(){var t,n=N(function(t,e,n,i){var a,r,s;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),m.test(e.nodeName||""))for(a=e.getElementsByTagName("source"),r=0,s=a.length;s>r;r++)a[r].setAttribute("sizes",i);n.detail.dataAttr||A(t,n.detail)}),a=function(t,e,i){var a,r=t.parentNode;r&&(i=w(t,r,i),a=b(t,"lazybeforesizes",{width:i,dataAttr:!!e}),a.defaultPrevented||(i=a.detail.width,i&&i!==t._lazysizesWidth&&n(t,r,a,i)))},r=function(){var e,n=t.length;if(n)for(e=0;n>e;e++)a(t[e])},s=W(r);return{_:function(){t=e.getElementsByClassName(i.autosizesClass),c("resize",s)},checkElems:s,updateElem:a}}(),B=function(){B.i||(B.i=!0,T._(),x._())};return n={cfg:i,autoSizer:T,loader:x,init:B,uP:A,aC:h,rC:p,hC:g,fire:b,gW:w,rAF:M}}});

var sendAllFilters=null;var pillContainerPosition=0;var pillContainerDetached=0;var lastScrollTop=0;var scrollAmount=0;var viewSelected="carr";var startGridPage=1;var gridPagesLoaded=0;var gridPageLoading=false;var genreArray=[];var collectionArray=[];var formatArray=[];var infiniteLoadStop=false;var pillsDetached=false;var carSettingsLoaded=false;var gridSettingsLoaded=false;var pagePositionScrolled=false;var firstAddToGrid=true;var selectedMinPrice;var selectedMaxPrice;var collectionResultsAjax=[];var themeId="";$(function(){if($(".tag-browser").length){themeId=$(".tag-browser").data("themeid");var e=$(".tag-browser").data("baseurl");var t=$(".grid-view .product-list");var a=$(".tag-buttons-wrap.collections .pill").find('input[type="checkbox"]').length;var r=$(".pill-filter-container");var s=$("#pill-filter-container-place");if(r.length){var o=r.offset().top;s.height(s.height())}var n=$("#floating-pills");var l=$(".item-count");var c=$(".tag-browser .clear-all");var d=$(window).height();var p=$("select[name='minprice']");var u=$("select[name='maxprice']");selectedMinPrice=$("input[name='urlMinPrice']").val();selectedMaxPrice=$("input[name='urlMaxPrice']").val();if(getQueryVariable("v")=="g"){viewSelected="grid";$(".carousel-view").hide();$(".grid-view").show();$(".toggle-view-button").removeClass("active");$(".toggle-view-button#grid").addClass("active")}$(".tag-browser .load-previous").on("click",function(){$(this).hide();gridPagesLoaded=0;g()});g();$("footer#footer").prepend($("<div>",{class:"backtotop"}));$("#filter-refine").on("click",function(){openSlideDrawer("refine-filters")});$(window).on("scroll",function(){var e=0;var i=$(window).scrollTop();$("#masthead .detached").each(function(){e+=$(this).outerHeight()});if($(".site-ribbon").length)e+=$(".site-ribbon").outerHeight();if(o){if(i>o-e+250){if(!pillsDetached){r.detach().appendTo(n);pillsDetached=true}if(i>lastScrollTop){if(scrollAmount>0)scrollAmount--;if(scrollAmount==0)n.css("top","-180px")}else{if(scrollAmount<5)scrollAmount++;if(scrollAmount==5)n.css("top",e-1+"px")}lastScrollTop=i;n.removeClass("clear-bg")}else if(pillsDetached&&i<o-e-10){r.detach().appendTo(s);pillsDetached=false;n.css("top","-180px")}else{n.addClass("clear-bg")}}if(viewSelected=="grid"&&!infiniteLoadStop&&!gridPageLoading){loadMorePeg=t.offset().top+t.outerHeight()-d*3;if(i>loadMorePeg){h(false,true)}}});$('.pill:not(".active") .pill-children').hide();var v=new Swiper(".tag-swiper",{slidesPerView:"auto",freeMode:true,setWrapperSize:true,onSlideChangeEnd:function(){f()}});function f(){$(".tag-buttons-wrap").each(function(){var e=$(this);var i=$(".tag-swiper",e);i[0].swiper.update(true);var t=i.width();var a=$(".swiper-wrapper",i);var r=a.width();var s=-r+t;var o=a.css("transform").replace(/[^0-9\-.,]/g,"").split(",");var n=o[12]||o[4];$('.pill-slide[data-direction="left"]',e).removeClass("showing");$('.pill-slide[data-direction="right"]',e).removeClass("showing");if(!(n==0||r==t)){$('.pill-slide[data-direction="left"]',e).addClass("showing")}if(!(n==s||r==t)){$('.pill-slide[data-direction="right"]',e).addClass("showing")}})}$(".pill-slide").on("click",function(){var e=$(this).parents(".tag-buttons-wrap");var i=$(".tag-swiper",e);var t=i.width();var a=$(".swiper-wrapper",i);var r=a.width();var s=a.css("transform").replace(/[^0-9\-.,]/g,"").split(",");var o=s[12]||s[4];var n=-a.width()+t;if($(this).data("direction")=="left"){var l=parseInt(o)+t/1.5;if(l>0)l=0}else{var l=parseInt(o)-t/1.5;if(l<n)l=n}i[0].swiper.setWrapperTransition("500ms");i[0].swiper.setWrapperTranslate(l,0,0);$('.pill-slide[data-direction="left"]',e).removeClass("showing");$('.pill-slide[data-direction="right"]',e).removeClass("showing");if(!(l==0||r==t)){$('.pill-slide[data-direction="left"]',e).addClass("showing")}if(!(l==n||r==t)){$('.pill-slide[data-direction="right"]',e).addClass("showing")}});$(".pill").on("click",function(e){var i=$(this);var t=$(this).find("input");i.toggleClass("active");if(i.hasClass("pill-parent")){t.prop("checked",false);i.find(".pill").removeClass("active");i.children(".pill-children").animate({width:"toggle"},600,function(){f()})}else{t.prop("checked",!t.prop("checked"));e.stopPropagation();f()}var a=false;if(i.parents(".collections").length)a=true;UpdateQueryString("c");UpdateQueryString("p");UpdateQueryString("isbn");g(a);var r=$("#pill-filter-container-place").position().top;var s=$("#header-bar").outerHeight()+$(".main-nav").outerHeight()+$(".site-ribbon").outerHeight();var o=r-s-10;var n=$("#pill-jump").offset().top-(s+$("#floating-pills").outerHeight());var l=$("#pill-filter-container-place").data("pillsclicked");if(!l){$("#pill-filter-container-place").data("pillsclicked",true);if($(window).scrollTop()<o){$("html, body").animate({scrollTop:o},500)}}if($(window).scrollTop()>n){$("html, body").animate({scrollTop:n},1e3)}});$(".refine-filters .clearbox").on("click",function(){selectedMinPrice="";selectedMaxPrice="";$(".formats .refine-options input").prop("checked",false);g()});$(".formats .refine-options input").on("change",function(){g()});$(".formats .clear").on("click",function(){$(".formats .refine-options input").prop("checked",false);g()});$(".prices .refine-options select").on("change",function(){selectedMinPrice=$("select[name='minprice']").val();selectedMaxPrice=$("select[name='maxprice']").val();$("#slider-range").slider("values",[selectedMinPrice,selectedMaxPrice]);g()});$(".prices .clear").on("click",function(){var e=$("#slider-range").slider("option","min");var i=$("#slider-range").slider("option","max");$("#slider-range").slider("values",[e,i]);selectedMinPrice="";selectedMaxPrice="";g()});$(".tag-browser .clear-all, .tag-browser .clear-filters").on("click",function(){$(".tag-swiper .active").removeClass("active").find("input").prop("checked",false);$(".pill-children").animate({width:"hide"},600,function(){f()});selectedMinPrice="";selectedMaxPrice="";$(".formats .refine-options input").prop("checked",false);g()});function g(i){genreArray=[];var a=[];$(".tag-buttons-wrap.genres .pill-parent.active").each(function(){var e=[];a.push(this.dataset.slug);if($(this).find('input[type="checkbox"]:checked').length){e=$(this).find('input[type="checkbox"]:checked');e.each(function(e,i){a.push(i.dataset.slug)})}else{e=$(this).find('input[type="checkbox"]')}e.each(function(e,i){genreArray.push(i.name)})});collectionArray=[];var r=[];var s=$(".tag-buttons-wrap.collections .pill").find('input[type="checkbox"]:checked');s.each(function(e,i){collectionArray.push(i.name);r.push(i.dataset.slug)});formatArray=[];var o=[];var n=$('.formats .refine-options input[type="checkbox"]:checked');n.each(function(e,i){formatArray.push(i.name);o.push(i.dataset.slug)});var l=false;if(formatArray.length){$(".formats .clear").fadeIn();l=true}else{$(".formats .clear").fadeOut()}if(!isNaN(parseInt(selectedMinPrice))||!isNaN(parseInt(selectedMaxPrice))){$(".prices .clear").fadeIn();l=true}else{$(".prices .clear").fadeOut()}if((genreArray.length||collectionArray.length||l)&&!c.hasClass("showing")||!genreArray.length&&!collectionArray.length&&!l&&c.hasClass("showing")){c.toggleClass("showing")}if(l){$(".clear.clearbox").fadeIn();$("#filter-refine").addClass("activated")}else{$(".clear.clearbox").fadeOut();$("#filter-refine").removeClass("activated")}if(e){var d="";if(e.substring(e.length-1)=="/")e=e.substring(0,e.length-1);if(a.length||r.length){d="/tags/"+a.concat(r).join()}if(o.length)d+="/format/"+o.join();if(!isNaN(parseInt(selectedMinPrice)))d+="/pricemin/"+selectedMinPrice;if(!isNaN(parseInt(selectedMaxPrice)))d+="/pricemax/"+selectedMaxPrice;var p=window.location.protocol+"//"+window.location.host+e+d+window.location.search;window.history.replaceState(null,document.getElementsByTagName("title")[0].innerHTML,p)}$(".product",t).remove();gridPagesLoaded=0;if(!gridSettingsLoaded&&getQueryVariable("v")=="g"&&getQueryVariable("p")&&!isNaN(parseFloat(getQueryVariable("p")))){startGridPage=parseInt(getQueryVariable("p"));if(startGridPage>1){$(".tag-browser .load-previous").show()}gridSettingsLoaded=true}infiniteLoadStop=false;h(i)}$("body").on("click",".load-more",function(){h(false,true)});function h(e,a){gridPageLoading=true;$(".grid-view .loading-gif").show();$(".grid-view .load-more").hide();sendAllFilters=$.ajax({method:"POST",url:"/taggedbrowsing/getfilteredbooks",data:{page:startGridPage+gridPagesLoaded,pagesize:42,tag_id:themeId,genre_tags:genreArray.join(),collection_tags:collectionArray.join(),format:formatArray.join(),pricemin:selectedMinPrice,pricemax:selectedMaxPrice},beforeSend:function(){if(sendAllFilters!=null){sendAllFilters.abort()}}}).done(function(r){gridPageLoading=false;$(".grid-view .loading-gif").hide();if(!a){$(".pill").hide();$(".b-wrap").removeClass("coll-on").removeClass("no-products");$(".formats .refine-options label").hide();$.each(r.Filters.collection,function(e,i){var t=$('.basic-slider[data-collectionid="'+i.value+'"]').parents(".b-wrap");$('.tag-buttons-wrap .pill[data-filters="'+i.value+'"]').show();if(collectionArray.length){if(collectionArray.indexOf(i.value)>-1){t.addClass("coll-on")}}else{t.addClass("coll-on")}});if(!pagePositionScrolled&&getQueryVariable("c")){var s=$('.basic-slider[data-collectionid="'+getQueryVariable("c")+'"]').parents(".b-wrap");if(s.length){var o=s.position().top-100;if("scrollRestoration"in history){history.scrollRestoration="manual"}$(document).scrollTop(o);pagePositionScrolled=true}$(document).scrollTop(o);if(getQueryVariable("qv")=="1"){openQuickView(getQueryVariable("isbn"))}pagePositionScrolled=true}$.each(r.Filters.genre,function(e,i){$('.tag-buttons-wrap .pill[data-filters="'+i.value+'"]').show().parents(".pill-parent").show()});$.each(r.Filters.format,function(e,i){$('.formats .refine-options input[type="checkbox"]:checked + label').show();$(".formats .refine-options input[name="+i.value+"] + label").show()});if(!e&&gridPagesLoaded==0){$.each(collectionResultsAjax,function(){this.abort()});$.each(r.Filters.collection,function(e,i){var t=$('.basic-slider[data-collectionid="'+i.value+'"]');if(t.hasClass("swiper-init")){var a=t.data("collectionid");var r=buildData({collection_tags:a,genre_tags:genreArray.join(),format:formatArray.join(),pricemin:selectedMinPrice,pricemax:selectedMaxPrice});rebuildBasicSlider(t,r)}else if(t.length){initialiseBasicSlider(t)}})}f()}if(r.Books.length){if(r.Books.length<42){infiniteLoadStop=true}var n;if(getQueryVariable("v")=="g"&&getQueryVariable("isbn")){n=getQueryVariable("isbn")}$.each(r.Books,function(e,i){var a="";if(i.campaign_enabled&&i.campaign_price&&parseFloat(i.price_wt)>parseFloat(i.campaign_price)){var r=i.currency_symbol_left+i.campaign_price+i.currency_symbol_right;var a=i.currency_symbol_left+i.price_wt+i.currency_symbol_right}else{var r=i.currency_symbol_left+i.price_wt+i.currency_symbol_right}if(i.alt_large_book_image){var s=i.alt_large_book_image}else{var s=i.book_large_image}var o="";if(i.authors_names){o=i.authors_names}else{o=i.publisher_name}var l=buildProduct(i.isbn_thirt,s,i.title,o,r,a,i.product_id,gridPagesLoaded+1);l.appendTo(t);setTimeout(function(){l.removeClass("hid")},10);if(!pagePositionScrolled&&i.isbn_thirt==n){if("scrollRestoration"in history){history.scrollRestoration="manual"}var c=l.position().top-170;$(document).scrollTop(c);if(getQueryVariable("qv")=="1"){l.trigger("click")}pagePositionScrolled=true}});gridPagesLoaded++;if(gridPagesLoaded>=3){infiniteLoadStop=true;$(".grid-view .load-more").css("display","inline-block")}$(".no-results-msg").hide();var c=Math.floor(r.Filters.price.pricemin/5)*5;var d=Math.ceil(r.Filters.price.pricemax/5)*5;p.empty();u.empty();var v=c;if(selectedMinPrice&&selectedMinPrice<c){v=selectedMinPrice}var h=d;if(selectedMaxPrice&&selectedMaxPrice>d){h=selectedMaxPrice}var m=v;if(selectedMinPrice){m=selectedMinPrice}var w=h;if(selectedMaxPrice){w=selectedMaxPrice}for(i=v;i<=h;i+=5){var b=$("<option>",{value:i,text:"Â£"+i});if(i<=w){b.clone().appendTo(p)}if(i>=m){b.clone().appendTo(u)}}p.val(selectedMinPrice?selectedMinPrice:v);u.val(selectedMaxPrice?selectedMaxPrice:h);$("#slider-range").slider({range:true,min:v,max:h,step:5,values:[m,w],slide:function(e,i){$("select[name='minprice']").val(i.values[0]);$("select[name='maxprice']").val(i.values[1]);selectedMinPrice=i.values[0];selectedMaxPrice=i.values[1]},stop:function(e,i){g()}})}else{infiniteLoadStop=true;if(gridPagesLoaded==0){$(".no-results-msg").show()}}if(r.Total_Found===1){l.text(r.Total_Found+" item found")}else{l.text(r.Total_Found+" items found")}firstAddToGrid=false})}$(".toggle-view-button").on("click",function(){var e=$(this);var i=this.id;viewSelected=i;$(".toggle-view-button").removeClass("active");e.addClass("active");if(i=="grid"){$(".carousel-view").hide();$(".grid-view").show();UpdateQueryString("v","g")}else{$(".carousel-view").show();$(".grid-view").hide();UpdateQueryString("v","c")}UpdateQueryString("c");UpdateQueryString("p");UpdateQueryString("isbn")});$("body").on("click",".product",function(){updateUrlFromProduct($(this))});$("body").on("click",".open-qv",function(){if($(this).parents(".was-scrolled").length){$(this).parents(".was-scrolled").removeClass("was-scrolled")}else{var e=$(this).data("isbn");if($(this).data("resultspage"))UpdateQueryString("p",$(this).data("resultspage"));openQuickView(e)}});$(".sd-close, .sd-overlay, .apply-button").on("click",function(){closeQuickView()});$(".qv-review-count").on("click",function(){var e=$(".content-reviews").prev().position().top+$(".sd-inner").scrollTop();$(".content-reviews").show().prev().addClass("acc-open");$(".sd-inner").animate({scrollTop:e},500)});$(document).on("keydown",function(e){if(e.keyCode==27){closeQuickView()}});var m=new Swiper(".qv-image-swiper",{direction:"vertical",slidesPerView:1,pagination:".swiper-pagination"});$("body").on("click",".qv-image-swiper .swiper-pagination-bullet",function(){var e=$(this).index();m.slideTo(e)});$(".qv-main-img").on("error",function(){$(this).attr("src","/images/cover404.png")})}});function updateUrlFromProduct(e){UpdateQueryString("c",e.parents(".b-tag-browser").data("collectionid"));UpdateQueryString("p",e.data("resultspage"));UpdateQueryString("isbn",e.data("isbn"))}function buildData(e){var i={page:1,pagesize:20,genre_tags:"",tag_id:themeId,collection_tags:"",format:"",pricemin:"",pricemax:""};$.each(e,function(e,t){i[e]=t});return i}function getCollectionResults(e,i){collectionResultsAjax.push($.ajax({method:"POST",url:"/taggedbrowsing/getbooks",data:e}).done(function(e){i(e,e.Total_Found)}))}function buildProduct(e,i,t,a,r,s,o,n){var l=$("<div>",{class:"product open-qv hid","data-isbn":e,"data-resultspage":n,id:e});var c=$("<div>",{class:"image"});c.appendTo(l);var d=$("<img>",{src:i,alt:t,onerror:"this.src='/images/cover404.png'"});d.appendTo(c);var p=$("<div>",{class:"title",html:formatSymbols(t)});p.appendTo(l);var u=$("<div>",{class:"author",text:a.replace(/,/g,", ")});u.appendTo(l);var v=$("<div>",{class:"book-price"});v.appendTo(l);if(s){var f=$("<span>",{class:"price-rrp",text:s});f.appendTo(v)}var g=$("<span>",{class:"price",text:r});g.appendTo(v);return l}function buildReview(e){var i=buildReviewStars(e.rating);var t=$("<div />",{class:"single-review"}).append($("<div />",{class:"reviews-header-top clearfix"}).append($("<h3 />",{text:'"'+e.title.trim()+'"'}))).append($("<div />",{class:"review-content",html:e.body})).append($("<div />",{class:"review-edition-rating"}).append($("<span />",{text:e.edition_name})).append(i)).append($("<div />",{class:"user",html:e.user_name})).append($("<div />",{class:"review-date",html:e.review_date}));if(e.user_image){$(".reviews-header-top",t).prepend($("<img />",{class:"user-picture pull-left",src:e.user_image}))}if(parseInt(e.is_bookseller)){$("<div />",{class:"bookseller-review-tag"}).insertAfter($(".reviews-header-top",t))}return t}var qvAjax=null;function openQuickView(e){qvAjax=$.ajax({method:"POST",url:"/books/xhrsearch",data:{isbn:e},beforeSend:function(){if(qvAjax!=null){qvAjax.abort()}}}).done(function(e){e=e[0];if(e.campaign_enabled&&e.campaign_price&&parseFloat(e.price_wt)>parseFloat(e.campaign_price)){$(".slide-drawer").find(".qv-price").text(e.currency_symbol_left+e.campaign_price);$(".slide-drawer").find(".qv-price-rrp").text(e.currency_symbol_left+e.price_wt).css("display","inline-block")}else{$(".slide-drawer").find(".qv-price").text(e.currency_symbol_left+e.price_wt);$(".slide-drawer").find(".qv-price-rrp").text("").hide()}var i=e.authors_names?e.authors_names.replace(/,/g,", "):e.publisher_name;var t="";if(parseInt(e.num_pages))t+=e.num_pages+" pages";if(parseInt(e.num_pages)&&e.publication_date)t+=" / ";if(e.publication_date)t+="Published: "+formatPubDate(e.publication_date);$(".qv-specs").text(t);if(e.additional_images[0]){var a=e.additional_images.slice();var r=e.alt_book_image?e.alt_book_image:e.book_large_image;a.unshift(r);$.each(a,function(e,i){var t=$("<div />",{class:"swiper-slide"}).append($("<img />",{src:i}).on("error",function(){$(this).attr("src","/images/cover404.png")}));$(".qv-image-swiper")[0].swiper.appendSlide(t)});$(".qv-image-swiper").show();$(".qv-image-swiper")[0].swiper.update(true)}else{var r=e.alt_book_image?e.alt_book_image:e.book_large_image;$(".qv-main-img").show().attr("src",r)}$(".qv-title").html(formatSymbols(e.title));$(".qv-author").text(i);$(".qv-format").text("("+e.book_format+")");$(".slide-drawer .pdp-link").attr("href",e.product_url);if(parseInt(e.purchasable)){$(".qv-input-quantity").show();$(".qv-button-container .button-buy").show();$(".qv-input-productid").val(e.product_id);if(!$(".qv-input-redirect").val())$(".qv-input-redirect").val(window.location.pathname)}!parseInt(e.purchasable)&&parseInt(e.reservable)?$(".qv-stock-wrap").hide():$(".qv-stock-wrap").show();$(".qv-stock-msg").text(e.stock_status);parseInt(e.purchasable)?$(".qv-submit-btn-wrap").addClass("prod-available"):$(".qv-submit-btn-wrap").removeClass("prod-available");if(e.availability_text)$(".qv-stock-status").text("("+e.availability_text+")");if(parseInt(e.reservable))$(".slide-drawer .collect-open").css("display","inline-block").data("isbn",e.isbn_thirt);e.ourview?$(".content-waterstones-says").html(e.ourview).prev().show():$(".content-waterstones-says").prev().hide();e.full_description&&!e.ourview?$(".content-synopsis").html(formatSymbols(e.full_description)).prev().show():$(".content-synopsis").prev().hide();if(e.publisher_name)$(".content-description").append($("<p />",{html:"Publisher: "+e.publisher_name}));if(e.isbn_thirt)$(".content-description").append($("<p />",{html:"ISBN: "+e.isbn_thirt}));if(parseInt(e.num_pages))$(".content-description").append($("<p />",{html:"Number of pages: "+e.num_pages}));if(parseInt(e.size_w_g))$(".content-description").append($("<p />",{html:"Weight: "+e.size_w_g+"g"}));if(parseInt(e.size_h_mm)&&parseInt(e.size_w_mm)){var s="Dimensions: "+e.size_h_mm+" x "+e.size_w_mm;if(parseInt(e.size_s_mm))s+=" x "+e.size_s_mm;$(".content-description").append($("<p />",{html:s+"mm"}))}if(e.book_format)$(".content-description").append($("<p />",{html:"Edition: "+e.book_format}));if(e.reviews.total>0){$(".content-reviews").prev().show();var o=e.reviews.review_score;if(e.reviews.review_star_round)o+=.5;var n=buildReviewStars(o);$(".qv-rating").append(n);var l=e.reviews.total;parseInt(e.reviews.total)==1?l+=" review":l+=" reviews";$(".qv-review-count").text(l);$.each(e.reviews.reviews,function(e,i){$(".content-reviews").append(buildReview(i))})}else{$(".content-reviews").prev().hide()}openSlideDrawer("quick-view");UpdateQueryString("qv",1);$(".qv-accordion-wrap .ws-acc-content").each(function(){var e=$(this).text().length;e?$(this).prev().show():$(this).prev().hide()});$(".qv-accordion-wrap .ws-acc-trigger").removeClass("acc-open");$(".qv-accordion-wrap .ws-acc-content").hide();$(".qv-accordion-wrap").find(".ws-acc-trigger:visible")[0].trigger("click");var c=$(document).scrollTop();var d=c*-1+"px";$("body").data("scrollpos",c).addClass("noscroll").css("top",d);openSlideDrawer("quick-view")})}function formatPubDate(e){var i=e.split("-");if(i.length==3){var t=i[2]+"/"+i[1]+"/"+i[0];return t}else{return""}}function closeQuickView(){closeSlideDrawer();UpdateQueryString("qv");$(".qv-main-img").hide().attr("src","");$(".qv-image-swiper")[0].swiper.removeAllSlides();$(".qv-image-swiper").hide();$(".qv-title").text("");$(".qv-author").text("");$(".qv-format").text("");$(".qv-rating").empty();$(".qv-review-count").text("");$(".slide-drawer .pdp-link").attr("href","");$(".qv-input-productid").val("");$(".qv-input-quantity").hide().val("1");$(".pre-add").show().css("opacity",1);$(".post-add").hide().css("opacity",0);$(".qv-button-container .button-buy").hide();$(".qv-stock-msg").text("");$(".qv-submit-btn-wrap").removeClass("prod-available");$(".qv-stock-status").text("");$(".slide-drawer .collect-open").hide().data("isbn","");$(".content-waterstones-says").empty();$(".content-synopsis").empty();$(".content-description").empty();$(".content-reviews").empty();var e=$("body").data("scrollpos");$("body").removeClass("noscroll").css("top",0);$(document).scrollTop(e)}function openSlideDrawer(e){slideDrawer=$(".slide-drawer."+e);slideDrawer.addClass("sd-open");$(".sd-overlay").fadeIn();$(".sd-close",slideDrawer).fadeIn();$(".sd-inner",slideDrawer).scrollTop(0)}function closeSlideDrawer(){$(".slide-drawer").removeClass("sd-open");$(".sd-overlay").fadeOut();$(".sd-close").fadeOut()}function UpdateQueryString(e,i,t){if(!t)t=window.location.href;var a=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi");var r;if(a.test(t)){if(typeof i!=="undefined"&&i!==null)t=t.replace(a,"$1"+e+"="+i+"$2$3");else{r=t.split("#");t=r[0].replace(a,"$1$3").replace(/(&|\?)$/,"");if(typeof r[1]!=="undefined"&&r[1]!==null)t+="#"+r[1]}}else{if(typeof i!=="undefined"&&i!==null){var s=t.indexOf("?")!==-1?"&":"?";r=t.split("#");t=r[0]+s+e+"="+i;if(typeof r[1]!=="undefined"&&r[1]!==null)t+="#"+r[1]}}window.history.replaceState(null,document.getElementsByTagName("title")[0].innerHTML,t)}function getQueryVariable(e){var i=window.location.search.substring(1);var t=i.split("&");for(var a=0;a<t.length;a++){var r=t[a].split("=");if(r[0]==e){return r[1]}}return false}
